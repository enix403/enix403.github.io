import{b as Sn,d as fl,a as yl,t as vl}from"../chunks/disclose-version.Dw8s-_7d.js";import"../chunks/legacy.CexxJgo1.js";import{b as xl,h as xe,F as Cn,d as wl,f as qn,k as kl,I as _l,D as Al,l as Ml,m as Sl,e as Cl,X as ql,Y as Nl,U as C,v as Tl,$ as Ll,c as f,r as y,Z as Q}from"../chunks/runtime.B8ryZGdz.js";import{h as Il}from"../chunks/svelte-head.C7YbHu5g.js";import{b as Xl}from"../chunks/paths.BnxXyfw7.js";function X(s,t,a,e,n){var l=s,o="",p;xl(()=>{if(o===(o=t()??"")){xe&&Cn();return}p!==void 0&&(Cl(p),p=void 0),o!==""&&(p=wl(()=>{if(xe){qn.data;for(var d=Cn(),g=d;d!==null&&(d.nodeType!==8||d.data!=="");)g=d,d=kl(d);if(d===null)throw _l(),Al;Sn(qn,g),l=Ml(d);return}var A=o+"",N=fl(A);Sn(Sl(N),N.lastChild),l.before(N)}))})}function re(s,t,a,e){var n=s.__attributes??(s.__attributes={});if(xe){n[t]=s.getAttribute(t);return}n[t]!==(n[t]=a)&&(a==null?s.removeAttribute(t):typeof a!="string"&&El(s).includes(t)?s[t]=a:s.setAttribute(t,a))}var Nn=new Map;function El(s){var t=Nn.get(s.nodeName);if(t)return t;Nn.set(s.nodeName,t=[]);for(var a,e=s,n=Element.prototype;n!==e;){a=Nl(e);for(var l in a)a[l].set&&t.push(l);e=ql(e)}return t}class O{constructor(t,a){let e=" "+t,n;const l=a&&a.loc;if(l&&l.start<=l.end){const p=l.lexer.input;n=l.start;const d=l.end;n===p.length?e+=" at end of input: ":e+=" at position "+(n+1)+": ";const g=p.slice(n,d).replace(/[^]/g,"$&̲");let A;n>15?A="…"+p.slice(n-15,n):A=p.slice(0,n);let N;d+15<p.length?N=p.slice(d,d+15)+"…":N=p.slice(d),e+=A+g+N}const o=new Error(e);return o.name="ParseError",o.__proto__=O.prototype,o.position=n,o}}O.prototype.__proto__=Error.prototype;const Pl=function(s,t){return s===void 0?t:s},zl=/([A-Z])/g,Ol=function(s){return s.replace(zl,"-$1").toLowerCase()},Bl={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},$l=/[&><"']/g;function Dl(s){return String(s).replace($l,t=>Bl[t])}const _t=function(s){return s.type==="ordgroup"||s.type==="color"?s.body.length===1?_t(s.body[0]):s:s.type==="font"?_t(s.body):s},Yl=function(s){const t=_t(s);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},jl=function(s){if(!s)throw new Error("Expected non-null, but got "+String(s));return s},Rl=function(s){const t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(s);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},Gl=function(s){return+s.toFixed(4)};var ds={deflt:Pl,escape:Dl,hyphenate:Ol,getBaseElem:_t,isCharacterBox:Yl,protocolFromUrl:Rl,round:Gl};const Fl={},At={};function P({type:s,names:t,props:a,handler:e,mathmlBuilder:n}){const l={type:s,numArgs:a.numArgs,argTypes:a.argTypes,allowedInArgument:!!a.allowedInArgument,allowedInText:!!a.allowedInText,allowedInMath:a.allowedInMath===void 0?!0:a.allowedInMath,numOptionalArgs:a.numOptionalArgs||0,infix:!!a.infix,primitive:!!a.primitive,handler:e};for(let o=0;o<t.length;++o)Fl[t[o]]=l;s&&n&&(At[s]=n)}function js({type:s,mathmlBuilder:t}){P({type:s,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},mathmlBuilder:t})}const nt=function(s){return s.type==="ordgroup"&&s.body.length===1?s.body[0]:s},ps=function(s){return s.type==="ordgroup"?s.body:[s]};class wr{constructor(t){this.children=t,this.classes=[],this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){const t=document.createDocumentFragment();for(let a=0;a<this.children.length;a++)t.appendChild(this.children[a].toNode());return t}toMarkup(){let t="";for(let a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t}toText(){const t=a=>a.toText();return this.children.map(t).join("")}}const Mt=function(s){return s.filter(t=>t).join(" ")},Vl=function(s,t){this.classes=s||[],this.attributes={},this.style=t||{}},Ul=function(s){const t=document.createElement(s);t.className=Mt(this.classes);for(const a in this.style)Object.prototype.hasOwnProperty.call(this.style,a)&&(t.style[a]=this.style[a]);for(const a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&t.setAttribute(a,this.attributes[a]);for(let a=0;a<this.children.length;a++)t.appendChild(this.children[a].toNode());return t},Hl=function(s){let t=`<${s}`;this.classes.length&&(t+=` class="${ds.escape(Mt(this.classes))}"`);let a="";for(const e in this.style)Object.prototype.hasOwnProperty.call(this.style,e)&&(a+=`${ds.hyphenate(e)}:${this.style[e]};`);a&&(t+=` style="${a}"`);for(const e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=` ${e}="${ds.escape(this.attributes[e])}"`);t+=">";for(let e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t+=`</${s}>`,t};class Zl{constructor(t,a,e){Vl.call(this,t,e),this.children=a||[]}setAttribute(t,a){this.attributes[t]=a}toNode(){return Ul.call(this,"span")}toMarkup(){return Hl.call(this,"span")}}class Wl{constructor(t,a,e){this.alt=a,this.src=t,this.classes=["mord"],this.style=e}hasClass(t){return this.classes.includes(t)}toNode(){const t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(const a in this.style)Object.prototype.hasOwnProperty.call(this.style,a)&&(t.style[a]=this.style[a]);return t}toMarkup(){let t=`<img src='${this.src}' alt='${this.alt}'`,a="";for(const e in this.style)Object.prototype.hasOwnProperty.call(this.style,e)&&(a+=`${ds.hyphenate(e)}:${this.style[e]};`);return a&&(t+=` style="${ds.escape(a)}"`),t+=">",t}}function Ql(s){return new wr(s)}class vs{constructor(t,a,e,n){this.type=t,this.attributes={},this.children=a||[],this.classes=e||[],this.style=n||{}}setAttribute(t,a){this.attributes[t]=a}getAttribute(t){return this.attributes[t]}toNode(){const t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&t.setAttribute(a,this.attributes[a]);this.classes.length>0&&(t.className=Mt(this.classes));for(const a in this.style)Object.prototype.hasOwnProperty.call(this.style,a)&&(t.style[a]=this.style[a]);for(let a=0;a<this.children.length;a++)t.appendChild(this.children[a].toNode());return t}toMarkup(){let t="<"+this.type;for(const e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="',t+=ds.escape(this.attributes[e]),t+='"');this.classes.length>0&&(t+=` class="${ds.escape(Mt(this.classes))}"`);let a="";for(const e in this.style)Object.prototype.hasOwnProperty.call(this.style,e)&&(a+=`${ds.hyphenate(e)}:${this.style[e]};`);a&&(t+=` style="${a}"`),t+=">";for(let e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class kr{constructor(t){this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return ds.escape(this.toText())}toText(){return this.text}}const qe=s=>{let t;return s.length===1&&s[0].type==="mrow"?(t=s.pop(),t.type="mstyle"):t=new vs("mstyle",s),t};var M={MathNode:vs,TextNode:kr,newDocumentFragment:Ql};const at=s=>{let t=0;if(s.body)for(const a of s.body)t+=at(a);else if(s.type==="supsub")t+=at(s.base),s.sub&&(t+=.7*at(s.sub)),s.sup&&(t+=.7*at(s.sup));else if(s.type==="mathord"||s.type==="textord")for(const a of s.text.split("")){const e=a.codePointAt(0);96<e&&e<123||944<e&&e<970?t+=.56:47<e&&e<58?t+=.5:t+=.92}else t+=1;return t},Kl={widehat:"^",widecheck:"ˇ",widetilde:"~",wideparen:"⏜",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",overparen:"⏜",undergroup:"⏡",underparen:"⏝",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xrightleftarrows:"⇄",yields:"→",yieldsLeft:"←",mesomerism:"↔",longrightharpoonup:"⇀",longleftharpoondown:"↽",eqrightharpoonup:"⇀",eqleftharpoondown:"↽","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},_r=function(s){const t=new M.TextNode(Kl[s.slice(1)]),a=new M.MathNode("mo",[t]);return a.setAttribute("stretchy","true"),a},Jl=["\\widetilde","\\widehat","\\widecheck","\\utilde"],so=s=>{const t=_r(s.label);if(Jl.includes(s.label)){const a=at(s.base);1<a&&a<1.6?t.classes.push("tml-crooked-2"):1.6<=a&&a<2.5?t.classes.push("tml-crooked-3"):2.5<=a&&t.classes.push("tml-crooked-4")}return t};var Tt={mathMLnode:_r,accentNode:so};const to={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},bs={math:{},text:{}};function r(s,t,a,e,n){bs[s][e]={group:t,replace:a},n&&a&&(bs[s][a]=bs[s][e])}const i="math",_="text",K="accent-token",k="bin",cs="close",Rs="inner",E="mathord",U="op-token",ms="open",lt="punct",m="rel",Is="spacing",u="textord";r(i,m,"≡","\\equiv",!0);r(i,m,"≺","\\prec",!0);r(i,m,"≻","\\succ",!0);r(i,m,"∼","\\sim",!0);r(i,m,"⟂","\\perp",!0);r(i,m,"⪯","\\preceq",!0);r(i,m,"⪰","\\succeq",!0);r(i,m,"≃","\\simeq",!0);r(i,m,"≌","\\backcong",!0);r(i,m,"|","\\mid",!0);r(i,m,"≪","\\ll",!0);r(i,m,"≫","\\gg",!0);r(i,m,"≍","\\asymp",!0);r(i,m,"∥","\\parallel");r(i,m,"⌣","\\smile",!0);r(i,m,"⊑","\\sqsubseteq",!0);r(i,m,"⊒","\\sqsupseteq",!0);r(i,m,"≐","\\doteq",!0);r(i,m,"⌢","\\frown",!0);r(i,m,"∋","\\ni",!0);r(i,m,"∌","\\notni",!0);r(i,m,"∝","\\propto",!0);r(i,m,"⊢","\\vdash",!0);r(i,m,"⊣","\\dashv",!0);r(i,m,"∋","\\owns");r(i,m,"≘","\\arceq",!0);r(i,m,"≙","\\wedgeq",!0);r(i,m,"≚","\\veeeq",!0);r(i,m,"≛","\\stareq",!0);r(i,m,"≝","\\eqdef",!0);r(i,m,"≞","\\measeq",!0);r(i,m,"≟","\\questeq",!0);r(i,m,"≠","\\ne",!0);r(i,m,"≠","\\neq");r(i,m,"⩵","\\eqeq",!0);r(i,m,"⩶","\\eqeqeq",!0);r(i,m,"∷","\\dblcolon",!0);r(i,m,"≔","\\coloneqq",!0);r(i,m,"≕","\\eqqcolon",!0);r(i,m,"∹","\\eqcolon",!0);r(i,m,"⩴","\\Coloneqq",!0);r(i,lt,".","\\ldotp");r(i,lt,"·","\\cdotp");r(i,u,"#","\\#");r(_,u,"#","\\#");r(i,u,"&","\\&");r(_,u,"&","\\&");r(i,u,"ℵ","\\aleph",!0);r(i,u,"∀","\\forall",!0);r(i,u,"ℏ","\\hbar",!0);r(i,u,"∃","\\exists",!0);r(i,k,"∇","\\nabla",!0);r(i,u,"♭","\\flat",!0);r(i,u,"ℓ","\\ell",!0);r(i,u,"♮","\\natural",!0);r(i,u,"Å","\\Angstrom",!0);r(_,u,"Å","\\Angstrom",!0);r(i,u,"♣","\\clubsuit",!0);r(i,u,"♧","\\varclubsuit",!0);r(i,u,"℘","\\wp",!0);r(i,u,"♯","\\sharp",!0);r(i,u,"♢","\\diamondsuit",!0);r(i,u,"♦","\\vardiamondsuit",!0);r(i,u,"ℜ","\\Re",!0);r(i,u,"♡","\\heartsuit",!0);r(i,u,"♥","\\varheartsuit",!0);r(i,u,"ℑ","\\Im",!0);r(i,u,"♠","\\spadesuit",!0);r(i,u,"♤","\\varspadesuit",!0);r(i,u,"♀","\\female",!0);r(i,u,"♂","\\male",!0);r(i,u,"§","\\S",!0);r(_,u,"§","\\S");r(i,u,"¶","\\P",!0);r(_,u,"¶","\\P");r(_,u,"☺","\\smiley",!0);r(i,u,"☺","\\smiley",!0);r(i,u,"†","\\dag");r(_,u,"†","\\dag");r(_,u,"†","\\textdagger");r(i,u,"‡","\\ddag");r(_,u,"‡","\\ddag");r(_,u,"‡","\\textdaggerdbl");r(i,cs,"⎱","\\rmoustache",!0);r(i,ms,"⎰","\\lmoustache",!0);r(i,cs,"⟯","\\rgroup",!0);r(i,ms,"⟮","\\lgroup",!0);r(i,k,"∓","\\mp",!0);r(i,k,"⊖","\\ominus",!0);r(i,k,"⊎","\\uplus",!0);r(i,k,"⊓","\\sqcap",!0);r(i,k,"∗","\\ast");r(i,k,"⊔","\\sqcup",!0);r(i,k,"◯","\\bigcirc",!0);r(i,k,"∙","\\bullet",!0);r(i,k,"‡","\\ddagger");r(i,k,"≀","\\wr",!0);r(i,k,"⨿","\\amalg");r(i,k,"&","\\And");r(i,k,"⫽","\\sslash",!0);r(i,m,"⟵","\\longleftarrow",!0);r(i,m,"⇐","\\Leftarrow",!0);r(i,m,"⟸","\\Longleftarrow",!0);r(i,m,"⟶","\\longrightarrow",!0);r(i,m,"⇒","\\Rightarrow",!0);r(i,m,"⟹","\\Longrightarrow",!0);r(i,m,"↔","\\leftrightarrow",!0);r(i,m,"⟷","\\longleftrightarrow",!0);r(i,m,"⇔","\\Leftrightarrow",!0);r(i,m,"⟺","\\Longleftrightarrow",!0);r(i,m,"↤","\\mapsfrom",!0);r(i,m,"↦","\\mapsto",!0);r(i,m,"⟼","\\longmapsto",!0);r(i,m,"↗","\\nearrow",!0);r(i,m,"↩","\\hookleftarrow",!0);r(i,m,"↪","\\hookrightarrow",!0);r(i,m,"↘","\\searrow",!0);r(i,m,"↼","\\leftharpoonup",!0);r(i,m,"⇀","\\rightharpoonup",!0);r(i,m,"↙","\\swarrow",!0);r(i,m,"↽","\\leftharpoondown",!0);r(i,m,"⇁","\\rightharpoondown",!0);r(i,m,"↖","\\nwarrow",!0);r(i,m,"⇌","\\rightleftharpoons",!0);r(i,E,"↯","\\lightning",!0);r(i,E,"∎","\\QED",!0);r(i,E,"‰","\\permil",!0);r(_,u,"‰","\\permil");r(i,E,"☉","\\astrosun",!0);r(i,E,"☼","\\sun",!0);r(i,E,"☾","\\leftmoon",!0);r(i,E,"☽","\\rightmoon",!0);r(i,E,"⊕","\\Earth");r(i,m,"≮","\\nless",!0);r(i,m,"⪇","\\lneq",!0);r(i,m,"≨","\\lneqq",!0);r(i,m,"≨︀","\\lvertneqq");r(i,m,"⋦","\\lnsim",!0);r(i,m,"⪉","\\lnapprox",!0);r(i,m,"⊀","\\nprec",!0);r(i,m,"⋠","\\npreceq",!0);r(i,m,"⋨","\\precnsim",!0);r(i,m,"⪹","\\precnapprox",!0);r(i,m,"≁","\\nsim",!0);r(i,m,"∤","\\nmid",!0);r(i,m,"∤","\\nshortmid");r(i,m,"⊬","\\nvdash",!0);r(i,m,"⊭","\\nvDash",!0);r(i,m,"⋪","\\ntriangleleft");r(i,m,"⋬","\\ntrianglelefteq",!0);r(i,m,"⊄","\\nsubset",!0);r(i,m,"⊅","\\nsupset",!0);r(i,m,"⊊","\\subsetneq",!0);r(i,m,"⊊︀","\\varsubsetneq");r(i,m,"⫋","\\subsetneqq",!0);r(i,m,"⫋︀","\\varsubsetneqq");r(i,m,"≯","\\ngtr",!0);r(i,m,"⪈","\\gneq",!0);r(i,m,"≩","\\gneqq",!0);r(i,m,"≩︀","\\gvertneqq");r(i,m,"⋧","\\gnsim",!0);r(i,m,"⪊","\\gnapprox",!0);r(i,m,"⊁","\\nsucc",!0);r(i,m,"⋡","\\nsucceq",!0);r(i,m,"⋩","\\succnsim",!0);r(i,m,"⪺","\\succnapprox",!0);r(i,m,"≆","\\ncong",!0);r(i,m,"∦","\\nparallel",!0);r(i,m,"∦","\\nshortparallel");r(i,m,"⊯","\\nVDash",!0);r(i,m,"⋫","\\ntriangleright");r(i,m,"⋭","\\ntrianglerighteq",!0);r(i,m,"⊋","\\supsetneq",!0);r(i,m,"⊋","\\varsupsetneq");r(i,m,"⫌","\\supsetneqq",!0);r(i,m,"⫌︀","\\varsupsetneqq");r(i,m,"⊮","\\nVdash",!0);r(i,m,"⪵","\\precneqq",!0);r(i,m,"⪶","\\succneqq",!0);r(i,k,"⊴","\\unlhd");r(i,k,"⊵","\\unrhd");r(i,m,"↚","\\nleftarrow",!0);r(i,m,"↛","\\nrightarrow",!0);r(i,m,"⇍","\\nLeftarrow",!0);r(i,m,"⇏","\\nRightarrow",!0);r(i,m,"↮","\\nleftrightarrow",!0);r(i,m,"⇎","\\nLeftrightarrow",!0);r(i,m,"△","\\vartriangle");r(i,u,"ℏ","\\hslash");r(i,u,"▽","\\triangledown");r(i,u,"◊","\\lozenge");r(i,u,"Ⓢ","\\circledS");r(i,u,"®","\\circledR",!0);r(_,u,"®","\\circledR");r(_,u,"®","\\textregistered");r(i,u,"∡","\\measuredangle",!0);r(i,u,"∄","\\nexists");r(i,u,"℧","\\mho");r(i,u,"Ⅎ","\\Finv",!0);r(i,u,"⅁","\\Game",!0);r(i,u,"‵","\\backprime");r(i,u,"‶","\\backdprime");r(i,u,"‷","\\backtrprime");r(i,u,"▲","\\blacktriangle");r(i,u,"▼","\\blacktriangledown");r(i,u,"■","\\blacksquare");r(i,u,"⧫","\\blacklozenge");r(i,u,"★","\\bigstar");r(i,u,"∢","\\sphericalangle",!0);r(i,u,"∁","\\complement",!0);r(i,u,"ð","\\eth",!0);r(_,u,"ð","ð");r(i,u,"╱","\\diagup");r(i,u,"╲","\\diagdown");r(i,u,"□","\\square");r(i,u,"□","\\Box");r(i,u,"◊","\\Diamond");r(i,u,"¥","\\yen",!0);r(_,u,"¥","\\yen",!0);r(i,u,"✓","\\checkmark",!0);r(_,u,"✓","\\checkmark");r(i,u,"✗","\\ballotx",!0);r(_,u,"✗","\\ballotx");r(_,u,"•","\\textbullet");r(i,u,"ℶ","\\beth",!0);r(i,u,"ℸ","\\daleth",!0);r(i,u,"ℷ","\\gimel",!0);r(i,u,"ϝ","\\digamma",!0);r(i,u,"ϰ","\\varkappa");r(i,ms,"⌜","\\ulcorner",!0);r(i,cs,"⌝","\\urcorner",!0);r(i,ms,"⌞","\\llcorner",!0);r(i,cs,"⌟","\\lrcorner",!0);r(i,m,"≦","\\leqq",!0);r(i,m,"⩽","\\leqslant",!0);r(i,m,"⪕","\\eqslantless",!0);r(i,m,"≲","\\lesssim",!0);r(i,m,"⪅","\\lessapprox",!0);r(i,m,"≊","\\approxeq",!0);r(i,k,"⋖","\\lessdot");r(i,m,"⋘","\\lll",!0);r(i,m,"≶","\\lessgtr",!0);r(i,m,"⋚","\\lesseqgtr",!0);r(i,m,"⪋","\\lesseqqgtr",!0);r(i,m,"≑","\\doteqdot");r(i,m,"≓","\\risingdotseq",!0);r(i,m,"≒","\\fallingdotseq",!0);r(i,m,"∽","\\backsim",!0);r(i,m,"⋍","\\backsimeq",!0);r(i,m,"⫅","\\subseteqq",!0);r(i,m,"⋐","\\Subset",!0);r(i,m,"⊏","\\sqsubset",!0);r(i,m,"≼","\\preccurlyeq",!0);r(i,m,"⋞","\\curlyeqprec",!0);r(i,m,"≾","\\precsim",!0);r(i,m,"⪷","\\precapprox",!0);r(i,m,"⊲","\\vartriangleleft");r(i,m,"⊴","\\trianglelefteq");r(i,m,"⊨","\\vDash",!0);r(i,m,"⊫","\\VDash",!0);r(i,m,"⊪","\\Vvdash",!0);r(i,m,"⌣","\\smallsmile");r(i,m,"⌢","\\smallfrown");r(i,m,"≏","\\bumpeq",!0);r(i,m,"≎","\\Bumpeq",!0);r(i,m,"≧","\\geqq",!0);r(i,m,"⩾","\\geqslant",!0);r(i,m,"⪖","\\eqslantgtr",!0);r(i,m,"≳","\\gtrsim",!0);r(i,m,"⪆","\\gtrapprox",!0);r(i,k,"⋗","\\gtrdot");r(i,m,"⋙","\\ggg",!0);r(i,m,"≷","\\gtrless",!0);r(i,m,"⋛","\\gtreqless",!0);r(i,m,"⪌","\\gtreqqless",!0);r(i,m,"≖","\\eqcirc",!0);r(i,m,"≗","\\circeq",!0);r(i,m,"≜","\\triangleq",!0);r(i,m,"∼","\\thicksim");r(i,m,"≈","\\thickapprox");r(i,m,"⫆","\\supseteqq",!0);r(i,m,"⋑","\\Supset",!0);r(i,m,"⊐","\\sqsupset",!0);r(i,m,"≽","\\succcurlyeq",!0);r(i,m,"⋟","\\curlyeqsucc",!0);r(i,m,"≿","\\succsim",!0);r(i,m,"⪸","\\succapprox",!0);r(i,m,"⊳","\\vartriangleright");r(i,m,"⊵","\\trianglerighteq");r(i,m,"⊩","\\Vdash",!0);r(i,m,"∣","\\shortmid");r(i,m,"∥","\\shortparallel");r(i,m,"≬","\\between",!0);r(i,m,"⋔","\\pitchfork",!0);r(i,m,"∝","\\varpropto");r(i,m,"◀","\\blacktriangleleft");r(i,m,"∴","\\therefore",!0);r(i,m,"∍","\\backepsilon");r(i,m,"▶","\\blacktriangleright");r(i,m,"∵","\\because",!0);r(i,m,"⋘","\\llless");r(i,m,"⋙","\\gggtr");r(i,k,"⊲","\\lhd");r(i,k,"⊳","\\rhd");r(i,m,"≂","\\eqsim",!0);r(i,m,"≑","\\Doteq",!0);r(i,m,"⥽","\\strictif",!0);r(i,m,"⥼","\\strictfi",!0);r(i,k,"∔","\\dotplus",!0);r(i,k,"∖","\\smallsetminus");r(i,k,"⋒","\\Cap",!0);r(i,k,"⋓","\\Cup",!0);r(i,k,"⩞","\\doublebarwedge",!0);r(i,k,"⊟","\\boxminus",!0);r(i,k,"⊞","\\boxplus",!0);r(i,k,"⧄","\\boxslash",!0);r(i,k,"⋇","\\divideontimes",!0);r(i,k,"⋉","\\ltimes",!0);r(i,k,"⋊","\\rtimes",!0);r(i,k,"⋋","\\leftthreetimes",!0);r(i,k,"⋌","\\rightthreetimes",!0);r(i,k,"⋏","\\curlywedge",!0);r(i,k,"⋎","\\curlyvee",!0);r(i,k,"⊝","\\circleddash",!0);r(i,k,"⊛","\\circledast",!0);r(i,k,"⊺","\\intercal",!0);r(i,k,"⋒","\\doublecap");r(i,k,"⋓","\\doublecup");r(i,k,"⊠","\\boxtimes",!0);r(i,k,"⋈","\\bowtie",!0);r(i,k,"⋈","\\Join");r(i,k,"⟕","\\leftouterjoin",!0);r(i,k,"⟖","\\rightouterjoin",!0);r(i,k,"⟗","\\fullouterjoin",!0);r(i,k,"∸","\\dotminus",!0);r(i,k,"⟑","\\wedgedot",!0);r(i,k,"⟇","\\veedot",!0);r(i,k,"⩢","\\doublebarvee",!0);r(i,k,"⩣","\\veedoublebar",!0);r(i,k,"⩟","\\wedgebar",!0);r(i,k,"⩠","\\wedgedoublebar",!0);r(i,k,"⩔","\\Vee",!0);r(i,k,"⩓","\\Wedge",!0);r(i,k,"⩃","\\barcap",!0);r(i,k,"⩂","\\barcup",!0);r(i,k,"⩈","\\capbarcup",!0);r(i,k,"⩀","\\capdot",!0);r(i,k,"⩇","\\capovercup",!0);r(i,k,"⩆","\\cupovercap",!0);r(i,k,"⩍","\\closedvarcap",!0);r(i,k,"⩌","\\closedvarcup",!0);r(i,k,"⨪","\\minusdot",!0);r(i,k,"⨫","\\minusfdots",!0);r(i,k,"⨬","\\minusrdots",!0);r(i,k,"⊻","\\Xor",!0);r(i,k,"⊼","\\Nand",!0);r(i,k,"⊽","\\Nor",!0);r(i,k,"⊽","\\barvee");r(i,k,"⫴","\\interleave",!0);r(i,k,"⧢","\\shuffle",!0);r(i,k,"⫶","\\threedotcolon",!0);r(i,k,"⦂","\\typecolon",!0);r(i,k,"∾","\\invlazys",!0);r(i,k,"⩋","\\twocaps",!0);r(i,k,"⩊","\\twocups",!0);r(i,k,"⩎","\\Sqcap",!0);r(i,k,"⩏","\\Sqcup",!0);r(i,k,"⩖","\\veeonvee",!0);r(i,k,"⩕","\\wedgeonwedge",!0);r(i,k,"⧗","\\blackhourglass",!0);r(i,k,"⧆","\\boxast",!0);r(i,k,"⧈","\\boxbox",!0);r(i,k,"⧇","\\boxcircle",!0);r(i,k,"⊜","\\circledequal",!0);r(i,k,"⦷","\\circledparallel",!0);r(i,k,"⦶","\\circledvert",!0);r(i,k,"⦵","\\circlehbar",!0);r(i,k,"⟡","\\concavediamond",!0);r(i,k,"⟢","\\concavediamondtickleft",!0);r(i,k,"⟣","\\concavediamondtickright",!0);r(i,k,"⋄","\\diamond",!0);r(i,k,"⧖","\\hourglass",!0);r(i,k,"⟠","\\lozengeminus",!0);r(i,k,"⌽","\\obar",!0);r(i,k,"⦸","\\obslash",!0);r(i,k,"⨸","\\odiv",!0);r(i,k,"⧁","\\ogreaterthan",!0);r(i,k,"⧀","\\olessthan",!0);r(i,k,"⦹","\\operp",!0);r(i,k,"⨷","\\Otimes",!0);r(i,k,"⨶","\\otimeshat",!0);r(i,k,"⋆","\\star",!0);r(i,k,"△","\\triangle",!0);r(i,k,"⨺","\\triangleminus",!0);r(i,k,"⨹","\\triangleplus",!0);r(i,k,"⨻","\\triangletimes",!0);r(i,k,"⟤","\\whitesquaretickleft",!0);r(i,k,"⟥","\\whitesquaretickright",!0);r(i,k,"⨳","\\smashtimes",!0);r(i,m,"⇢","\\dashrightarrow",!0);r(i,m,"⇠","\\dashleftarrow",!0);r(i,m,"⇇","\\leftleftarrows",!0);r(i,m,"⇆","\\leftrightarrows",!0);r(i,m,"⇚","\\Lleftarrow",!0);r(i,m,"↞","\\twoheadleftarrow",!0);r(i,m,"↢","\\leftarrowtail",!0);r(i,m,"↫","\\looparrowleft",!0);r(i,m,"⇋","\\leftrightharpoons",!0);r(i,m,"↶","\\curvearrowleft",!0);r(i,m,"↺","\\circlearrowleft",!0);r(i,m,"↰","\\Lsh",!0);r(i,m,"⇈","\\upuparrows",!0);r(i,m,"↿","\\upharpoonleft",!0);r(i,m,"⇃","\\downharpoonleft",!0);r(i,m,"⊶","\\origof",!0);r(i,m,"⊷","\\imageof",!0);r(i,m,"⊸","\\multimap",!0);r(i,m,"↭","\\leftrightsquigarrow",!0);r(i,m,"⇉","\\rightrightarrows",!0);r(i,m,"⇄","\\rightleftarrows",!0);r(i,m,"↠","\\twoheadrightarrow",!0);r(i,m,"↣","\\rightarrowtail",!0);r(i,m,"↬","\\looparrowright",!0);r(i,m,"↷","\\curvearrowright",!0);r(i,m,"↻","\\circlearrowright",!0);r(i,m,"↱","\\Rsh",!0);r(i,m,"⇊","\\downdownarrows",!0);r(i,m,"↾","\\upharpoonright",!0);r(i,m,"⇂","\\downharpoonright",!0);r(i,m,"⇝","\\rightsquigarrow",!0);r(i,m,"⇝","\\leadsto");r(i,m,"⇛","\\Rrightarrow",!0);r(i,m,"↾","\\restriction");r(i,u,"‘","`");r(i,u,"$","\\$");r(_,u,"$","\\$");r(_,u,"$","\\textdollar");r(i,u,"¢","\\cent");r(_,u,"¢","\\cent");r(i,u,"%","\\%");r(_,u,"%","\\%");r(i,u,"_","\\_");r(_,u,"_","\\_");r(_,u,"_","\\textunderscore");r(_,u,"␣","\\textvisiblespace",!0);r(i,u,"∠","\\angle",!0);r(i,u,"∞","\\infty",!0);r(i,u,"′","\\prime");r(i,u,"″","\\dprime");r(i,u,"‴","\\trprime");r(i,u,"⁗","\\qprime");r(i,u,"△","\\triangle");r(_,u,"Α","\\Alpha",!0);r(_,u,"Β","\\Beta",!0);r(_,u,"Γ","\\Gamma",!0);r(_,u,"Δ","\\Delta",!0);r(_,u,"Ε","\\Epsilon",!0);r(_,u,"Ζ","\\Zeta",!0);r(_,u,"Η","\\Eta",!0);r(_,u,"Θ","\\Theta",!0);r(_,u,"Ι","\\Iota",!0);r(_,u,"Κ","\\Kappa",!0);r(_,u,"Λ","\\Lambda",!0);r(_,u,"Μ","\\Mu",!0);r(_,u,"Ν","\\Nu",!0);r(_,u,"Ξ","\\Xi",!0);r(_,u,"Ο","\\Omicron",!0);r(_,u,"Π","\\Pi",!0);r(_,u,"Ρ","\\Rho",!0);r(_,u,"Σ","\\Sigma",!0);r(_,u,"Τ","\\Tau",!0);r(_,u,"Υ","\\Upsilon",!0);r(_,u,"Φ","\\Phi",!0);r(_,u,"Χ","\\Chi",!0);r(_,u,"Ψ","\\Psi",!0);r(_,u,"Ω","\\Omega",!0);r(i,E,"Α","\\Alpha",!0);r(i,E,"Β","\\Beta",!0);r(i,E,"Γ","\\Gamma",!0);r(i,E,"Δ","\\Delta",!0);r(i,E,"Ε","\\Epsilon",!0);r(i,E,"Ζ","\\Zeta",!0);r(i,E,"Η","\\Eta",!0);r(i,E,"Θ","\\Theta",!0);r(i,E,"Ι","\\Iota",!0);r(i,E,"Κ","\\Kappa",!0);r(i,E,"Λ","\\Lambda",!0);r(i,E,"Μ","\\Mu",!0);r(i,E,"Ν","\\Nu",!0);r(i,E,"Ξ","\\Xi",!0);r(i,E,"Ο","\\Omicron",!0);r(i,E,"Π","\\Pi",!0);r(i,E,"Ρ","\\Rho",!0);r(i,E,"Σ","\\Sigma",!0);r(i,E,"Τ","\\Tau",!0);r(i,E,"Υ","\\Upsilon",!0);r(i,E,"Φ","\\Phi",!0);r(i,E,"Χ","\\Chi",!0);r(i,E,"Ψ","\\Psi",!0);r(i,E,"Ω","\\Omega",!0);r(i,ms,"¬","\\neg",!0);r(i,ms,"¬","\\lnot");r(i,u,"⊤","\\top");r(i,u,"⊥","\\bot");r(i,u,"∅","\\emptyset");r(i,u,"⌀","\\varnothing");r(i,E,"α","\\alpha",!0);r(i,E,"β","\\beta",!0);r(i,E,"γ","\\gamma",!0);r(i,E,"δ","\\delta",!0);r(i,E,"ϵ","\\epsilon",!0);r(i,E,"ζ","\\zeta",!0);r(i,E,"η","\\eta",!0);r(i,E,"θ","\\theta",!0);r(i,E,"ι","\\iota",!0);r(i,E,"κ","\\kappa",!0);r(i,E,"λ","\\lambda",!0);r(i,E,"μ","\\mu",!0);r(i,E,"ν","\\nu",!0);r(i,E,"ξ","\\xi",!0);r(i,E,"ο","\\omicron",!0);r(i,E,"π","\\pi",!0);r(i,E,"ρ","\\rho",!0);r(i,E,"σ","\\sigma",!0);r(i,E,"τ","\\tau",!0);r(i,E,"υ","\\upsilon",!0);r(i,E,"ϕ","\\phi",!0);r(i,E,"χ","\\chi",!0);r(i,E,"ψ","\\psi",!0);r(i,E,"ω","\\omega",!0);r(i,E,"ε","\\varepsilon",!0);r(i,E,"ϑ","\\vartheta",!0);r(i,E,"ϖ","\\varpi",!0);r(i,E,"ϱ","\\varrho",!0);r(i,E,"ς","\\varsigma",!0);r(i,E,"φ","\\varphi",!0);r(i,E,"Ϙ","\\Coppa",!0);r(i,E,"ϙ","\\coppa",!0);r(i,E,"ϙ","\\varcoppa",!0);r(i,E,"Ϟ","\\Koppa",!0);r(i,E,"ϟ","\\koppa",!0);r(i,E,"Ϡ","\\Sampi",!0);r(i,E,"ϡ","\\sampi",!0);r(i,E,"Ϛ","\\Stigma",!0);r(i,E,"ϛ","\\stigma",!0);r(i,E,"⫫","\\Bot");r(i,k,"∗","∗",!0);r(i,k,"+","+");r(i,k,"*","*");r(i,k,"⁄","/",!0);r(i,k,"⁄","⁄");r(i,k,"−","-",!0);r(i,k,"⋅","\\cdot",!0);r(i,k,"∘","\\circ",!0);r(i,k,"÷","\\div",!0);r(i,k,"±","\\pm",!0);r(i,k,"×","\\times",!0);r(i,k,"∩","\\cap",!0);r(i,k,"∪","\\cup",!0);r(i,k,"∖","\\setminus",!0);r(i,k,"∧","\\land");r(i,k,"∨","\\lor");r(i,k,"∧","\\wedge",!0);r(i,k,"∨","\\vee",!0);r(i,ms,"⟦","\\llbracket",!0);r(i,cs,"⟧","\\rrbracket",!0);r(i,ms,"⟨","\\langle",!0);r(i,ms,"⟪","\\lAngle",!0);r(i,ms,"⦉","\\llangle",!0);r(i,ms,"|","\\lvert");r(i,ms,"‖","\\lVert");r(i,u,"!","\\oc");r(i,u,"?","\\wn");r(i,u,"↓","\\shpos");r(i,u,"↕","\\shift");r(i,u,"↑","\\shneg");r(i,cs,"?","?");r(i,cs,"!","!");r(i,cs,"‼","‼");r(i,cs,"⟩","\\rangle",!0);r(i,cs,"⟫","\\rAngle",!0);r(i,cs,"⦊","\\rrangle",!0);r(i,cs,"|","\\rvert");r(i,cs,"‖","\\rVert");r(i,ms,"⦃","\\lBrace",!0);r(i,cs,"⦄","\\rBrace",!0);r(i,m,"=","\\equal",!0);r(i,m,":",":");r(i,m,"≈","\\approx",!0);r(i,m,"≅","\\cong",!0);r(i,m,"≥","\\ge");r(i,m,"≥","\\geq",!0);r(i,m,"←","\\gets");r(i,m,">","\\gt",!0);r(i,m,"∈","\\in",!0);r(i,m,"∉","\\notin",!0);r(i,m,"","\\@not");r(i,m,"⊂","\\subset",!0);r(i,m,"⊃","\\supset",!0);r(i,m,"⊆","\\subseteq",!0);r(i,m,"⊇","\\supseteq",!0);r(i,m,"⊈","\\nsubseteq",!0);r(i,m,"⊈","\\nsubseteqq");r(i,m,"⊉","\\nsupseteq",!0);r(i,m,"⊉","\\nsupseteqq");r(i,m,"⊨","\\models");r(i,m,"←","\\leftarrow",!0);r(i,m,"≤","\\le");r(i,m,"≤","\\leq",!0);r(i,m,"<","\\lt",!0);r(i,m,"→","\\rightarrow",!0);r(i,m,"→","\\to");r(i,m,"≱","\\ngeq",!0);r(i,m,"≱","\\ngeqq");r(i,m,"≱","\\ngeqslant");r(i,m,"≰","\\nleq",!0);r(i,m,"≰","\\nleqq");r(i,m,"≰","\\nleqslant");r(i,m,"⫫","\\Perp",!0);r(i,Is," ","\\ ");r(i,Is," ","\\space");r(i,Is," ","\\nobreakspace");r(_,Is," ","\\ ");r(_,Is," "," ");r(_,Is," ","\\space");r(_,Is," ","\\nobreakspace");r(i,Is,null,"\\nobreak");r(i,Is,null,"\\allowbreak");r(i,lt,",",",");r(_,lt,":",":");r(i,lt,";",";");r(i,k,"⊼","\\barwedge");r(i,k,"⊻","\\veebar");r(i,k,"⊙","\\odot",!0);r(i,k,"⊕︎","\\oplus");r(i,k,"⊗","\\otimes",!0);r(i,u,"∂","\\partial",!0);r(i,k,"⊘","\\oslash",!0);r(i,k,"⊚","\\circledcirc",!0);r(i,k,"⊡","\\boxdot",!0);r(i,k,"△","\\bigtriangleup");r(i,k,"▽","\\bigtriangledown");r(i,k,"†","\\dagger");r(i,k,"⋄","\\diamond");r(i,k,"◃","\\triangleleft");r(i,k,"▹","\\triangleright");r(i,ms,"{","\\{");r(_,u,"{","\\{");r(_,u,"{","\\textbraceleft");r(i,cs,"}","\\}");r(_,u,"}","\\}");r(_,u,"}","\\textbraceright");r(i,ms,"{","\\lbrace");r(i,cs,"}","\\rbrace");r(i,ms,"[","\\lbrack",!0);r(_,u,"[","\\lbrack",!0);r(i,cs,"]","\\rbrack",!0);r(_,u,"]","\\rbrack",!0);r(i,ms,"(","\\lparen",!0);r(i,cs,")","\\rparen",!0);r(i,ms,"⦇","\\llparenthesis",!0);r(i,cs,"⦈","\\rrparenthesis",!0);r(_,u,"<","\\textless",!0);r(_,u,">","\\textgreater",!0);r(i,ms,"⌊","\\lfloor",!0);r(i,cs,"⌋","\\rfloor",!0);r(i,ms,"⌈","\\lceil",!0);r(i,cs,"⌉","\\rceil",!0);r(i,u,"\\","\\backslash");r(i,u,"|","|");r(i,u,"|","\\vert");r(_,u,"|","\\textbar",!0);r(i,u,"‖","\\|");r(i,u,"‖","\\Vert");r(_,u,"‖","\\textbardbl");r(_,u,"~","\\textasciitilde");r(_,u,"\\","\\textbackslash");r(_,u,"^","\\textasciicircum");r(i,m,"↑","\\uparrow",!0);r(i,m,"⇑","\\Uparrow",!0);r(i,m,"↓","\\downarrow",!0);r(i,m,"⇓","\\Downarrow",!0);r(i,m,"↕","\\updownarrow",!0);r(i,m,"⇕","\\Updownarrow",!0);r(i,U,"∐","\\coprod");r(i,U,"⋁","\\bigvee");r(i,U,"⋀","\\bigwedge");r(i,U,"⨄","\\biguplus");r(i,U,"⨄","\\bigcupplus");r(i,U,"⨃","\\bigcupdot");r(i,U,"⨇","\\bigdoublevee");r(i,U,"⨈","\\bigdoublewedge");r(i,U,"⋂","\\bigcap");r(i,U,"⋃","\\bigcup");r(i,U,"∫","\\int");r(i,U,"∫","\\intop");r(i,U,"∬","\\iint");r(i,U,"∭","\\iiint");r(i,U,"∏","\\prod");r(i,U,"∑","\\sum");r(i,U,"⨂","\\bigotimes");r(i,U,"⨁","\\bigoplus");r(i,U,"⨀","\\bigodot");r(i,U,"⨉","\\bigtimes");r(i,U,"∮","\\oint");r(i,U,"∯","\\oiint");r(i,U,"∰","\\oiiint");r(i,U,"∱","\\intclockwise");r(i,U,"∲","\\varointclockwise");r(i,U,"⨌","\\iiiint");r(i,U,"⨍","\\intbar");r(i,U,"⨎","\\intBar");r(i,U,"⨏","\\fint");r(i,U,"⨒","\\rppolint");r(i,U,"⨓","\\scpolint");r(i,U,"⨕","\\pointint");r(i,U,"⨖","\\sqint");r(i,U,"⨗","\\intlarhk");r(i,U,"⨘","\\intx");r(i,U,"⨙","\\intcap");r(i,U,"⨚","\\intcup");r(i,U,"⨅","\\bigsqcap");r(i,U,"⨆","\\bigsqcup");r(i,U,"∫","\\smallint");r(_,Rs,"…","\\textellipsis");r(i,Rs,"…","\\mathellipsis");r(_,Rs,"…","\\ldots",!0);r(i,Rs,"…","\\ldots",!0);r(i,Rs,"⋰","\\iddots",!0);r(i,Rs,"⋯","\\@cdots",!0);r(i,Rs,"⋱","\\ddots",!0);r(i,u,"⋮","\\varvdots");r(i,K,"ˊ","\\acute");r(i,K,"`","\\grave");r(i,K,"¨","\\ddot");r(i,K,"…","\\dddot");r(i,K,"….","\\ddddot");r(i,K,"~","\\tilde");r(i,K,"‾","\\bar");r(i,K,"˘","\\breve");r(i,K,"ˇ","\\check");r(i,K,"^","\\hat");r(i,K,"→","\\vec");r(i,K,"˙","\\dot");r(i,K,"˚","\\mathring");r(i,E,"ı","\\imath",!0);r(i,E,"ȷ","\\jmath",!0);r(i,u,"ı","ı");r(i,u,"ȷ","ȷ");r(_,u,"ı","\\i",!0);r(_,u,"ȷ","\\j",!0);r(_,u,"ß","\\ss",!0);r(_,u,"æ","\\ae",!0);r(_,u,"œ","\\oe",!0);r(_,u,"ø","\\o",!0);r(i,E,"ø","\\o",!0);r(_,u,"Æ","\\AE",!0);r(_,u,"Œ","\\OE",!0);r(_,u,"Ø","\\O",!0);r(i,E,"Ø","\\O",!0);r(_,K,"ˊ","\\'");r(_,K,"ˋ","\\`");r(_,K,"ˆ","\\^");r(_,K,"˜","\\~");r(_,K,"ˉ","\\=");r(_,K,"˘","\\u");r(_,K,"˙","\\.");r(_,K,"¸","\\c");r(_,K,"˚","\\r");r(_,K,"ˇ","\\v");r(_,K,"¨",'\\"');r(_,K,"˝","\\H");r(i,K,"ˊ","\\'");r(i,K,"ˋ","\\`");r(i,K,"ˆ","\\^");r(i,K,"˜","\\~");r(i,K,"ˉ","\\=");r(i,K,"˘","\\u");r(i,K,"˙","\\.");r(i,K,"¸","\\c");r(i,K,"˚","\\r");r(i,K,"ˇ","\\v");r(i,K,"¨",'\\"');r(i,K,"˝","\\H");const ao={"--":!0,"---":!0,"``":!0,"''":!0};r(_,u,"–","--",!0);r(_,u,"–","\\textendash");r(_,u,"—","---",!0);r(_,u,"—","\\textemdash");r(_,u,"‘","`",!0);r(_,u,"‘","\\textquoteleft");r(_,u,"’","'",!0);r(_,u,"’","\\textquoteright");r(_,u,"“","``",!0);r(_,u,"“","\\textquotedblleft");r(_,u,"”","''",!0);r(_,u,"”","\\textquotedblright");r(i,u,"°","\\degree",!0);r(_,u,"°","\\degree");r(_,u,"°","\\textdegree",!0);r(i,u,"£","\\pounds");r(i,u,"£","\\mathsterling",!0);r(_,u,"£","\\pounds");r(_,u,"£","\\textsterling",!0);r(i,u,"✠","\\maltese");r(_,u,"✠","\\maltese");r(i,u,"€","\\euro",!0);r(_,u,"€","\\euro",!0);r(_,u,"€","\\texteuro");r(i,u,"©","\\copyright",!0);r(_,u,"©","\\textcopyright");r(i,u,"⌀","\\diameter",!0);r(_,u,"⌀","\\diameter");r(i,u,"𝛤","\\varGamma");r(i,u,"𝛥","\\varDelta");r(i,u,"𝛩","\\varTheta");r(i,u,"𝛬","\\varLambda");r(i,u,"𝛯","\\varXi");r(i,u,"𝛱","\\varPi");r(i,u,"𝛴","\\varSigma");r(i,u,"𝛶","\\varUpsilon");r(i,u,"𝛷","\\varPhi");r(i,u,"𝛹","\\varPsi");r(i,u,"𝛺","\\varOmega");r(_,u,"𝛤","\\varGamma");r(_,u,"𝛥","\\varDelta");r(_,u,"𝛩","\\varTheta");r(_,u,"𝛬","\\varLambda");r(_,u,"𝛯","\\varXi");r(_,u,"𝛱","\\varPi");r(_,u,"𝛴","\\varSigma");r(_,u,"𝛶","\\varUpsilon");r(_,u,"𝛷","\\varPhi");r(_,u,"𝛹","\\varPsi");r(_,u,"𝛺","\\varOmega");const Tn='0123456789/@."';for(let s=0;s<Tn.length;s++){const t=Tn.charAt(s);r(i,u,t,t)}const Ln='0123456789!@*()-=+";:?/.,';for(let s=0;s<Ln.length;s++){const t=Ln.charAt(s);r(_,u,t,t)}const St="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let s=0;s<St.length;s++){const t=St.charAt(s);r(i,E,t,t),r(_,u,t,t)}const In="ÇÐÞçþℂℍℕℙℚℝℤℎℏℊℋℌℐℑℒℓ℘ℛℜℬℰℱℳℭℨ";for(let s=0;s<In.length;s++){const t=In.charAt(s);r(i,E,t,t),r(_,u,t,t)}let B="";for(let s=0;s<St.length;s++){B=String.fromCharCode(55349,56320+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,56372+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,56424+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,56580+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,56736+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,56788+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,56840+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,56944+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,56632+s),r(i,E,B,B),r(_,u,B,B);const t=St.charAt(s);B=String.fromCharCode(55349,56476+s),r(i,E,t,B),r(_,u,t,B)}for(let s=0;s<10;s++)B=String.fromCharCode(55349,57294+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,57314+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,57324+s),r(i,E,B,B),r(_,u,B,B),B=String.fromCharCode(55349,57334+s),r(i,E,B,B),r(_,u,B,B);const ws=function(s,t,a){return bs[t][s]&&bs[t][s].replace&&s.charCodeAt(0)!==55349&&!(Object.prototype.hasOwnProperty.call(ao,s)&&a&&(a.fontFamily&&a.fontFamily.slice(4,6)==="tt"||a.font&&a.font.slice(4,6)==="tt"))&&(s=bs[t][s].replace),new M.TextNode(s)},Xn=(s,t)=>{if(s.children.length===0||s.children[s.children.length-1].type!=="mtext"){const a=new M.MathNode("mtext",[new M.TextNode(t.children[0].text)]);s.children.push(a)}else s.children[s.children.length-1].children[0].text+=t.children[0].text},Ar=s=>{if(s.type!=="mrow"&&s.type!=="mstyle"||s.children.length===0)return s;const t=new M.MathNode("mrow");for(let a=0;a<s.children.length;a++){const e=s.children[a];if(e.type==="mtext"&&Object.keys(e.attributes).length===0)Xn(t,e);else if(e.type==="mrow"){let n=!0;for(let l=0;l<e.children.length;l++)if(e.children[l].type!=="mtext"||Object.keys(e.attributes).length!==0){n=!1;break}if(n)for(let l=0;l<e.children.length;l++){const o=e.children[l];Xn(t,o)}else t.children.push(e)}else t.children.push(e)}for(let a=0;a<t.children.length;a++)if(t.children[a].type==="mtext"){const e=t.children[a];e.children[0].text.charAt(0)===" "&&(e.children[0].text=" "+e.children[0].text.slice(1));const n=e.children[0].text.length;n>0&&e.children[0].text.charAt(n-1)===" "&&(e.children[0].text=e.children[0].text.slice(0,-1)+" ");for(const[l,o]of Object.entries(s.attributes))e.attributes[l]=o}return t.children.length===1&&t.children[0].type==="mtext"?t.children[0]:t},En=/^[0-9]$/,eo=(s,t)=>(s.type==="textord"&&s.text==="."||s.type==="atom"&&s.text===",")&&s.loc&&t.loc&&s.loc.end===t.loc.start,no=s=>{if(s.length<2)return;const t=[];let a=!1;for(let e=0;e<s.length;e++){const n=s[e];n.type==="textord"&&En.test(n.text)?(a||t.push({start:e}),a=!0):(a&&(t[t.length-1].end=e-1),a=!1)}a&&(t[t.length-1].end=s.length-1);for(let e=t.length-1;e>0;e--)t[e-1].end===t[e].start-2&&eo(s[t[e].start-1],s[t[e].start])&&(t[e-1].end=t[e].end,t.splice(e,1));for(let e=t.length-1;e>=0;e--){for(let n=t[e].start+1;n<=t[e].end;n++)s[t[e].start].text+=s[n].text;if(s.splice(t[e].start+1,t[e].end-t[e].start),s.length>t[e].start+1){const n=s[t[e].start+1];n.type==="supsub"&&n.base&&n.base.type==="textord"&&En.test(n.base.text)&&(n.base.text=s[t[e].start].text+n.base.text,s.splice(t[e].start,1))}}},Ne=function(s,t=!1){if(s.length===1&&!(s[0]instanceof wr))return s[0];if(!t){s[0]instanceof vs&&s[0].type==="mo"&&!s[0].attributes.fence&&(s[0].attributes.lspace="0em",s[0].attributes.rspace="0em");const a=s.length-1;s[a]instanceof vs&&s[a].type==="mo"&&!s[a].attributes.fence&&(s[a].attributes.lspace="0em",s[a].attributes.rspace="0em")}return new M.MathNode("mrow",s)},ft=s=>s.type==="atom"&&s.family==="rel"||s.type==="mclass"&&s.mclass==="mrel",xs=function(s,t,a=!1){if(!a&&s.length===1){const n=is(s[0],t);return n instanceof vs&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}no(s);const e=[];for(let n=0;n<s.length;n++){const l=is(s[n],t);n<s.length-1&&ft(s[n])&&ft(s[n+1])&&l.setAttribute("rspace","0em"),n>0&&ft(s[n])&&ft(s[n-1])&&l.setAttribute("lspace","0em"),e.push(l)}return e},Ps=function(s,t,a=!1){return Ne(xs(s,t,a),a)},is=function(s,t){if(!s)return new M.MathNode("mrow");if(At[s.type])return At[s.type](s,t);throw new O("Got group of unknown type: '"+s.type+"'")},Mr="acegıȷmnopqrsuvwxyzαγεηικμνοπρςστυχωϕ𝐚𝐜𝐞𝐠𝐦𝐧𝐨𝐩𝐪𝐫𝐬𝐮𝐯𝐰𝐱𝐲𝐳",ro="ABCDEFGHIJKLMNOPQRSTUVWXYZbdfhkltΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩβδλζφθψ𝐀𝐁𝐂𝐃𝐄𝐅𝐆𝐇𝐈𝐉𝐊𝐋𝐌𝐍𝐎𝐏𝐐𝐑𝐒𝐓𝐔𝐕𝐖𝐗𝐘𝐙𝐛𝐝𝐟𝐡𝐤𝐥𝐭",io=new Set(["\\alpha","\\gamma","\\delta","\\epsilon","\\eta","\\iota","\\kappa","\\mu","\\nu","\\pi","\\rho","\\sigma","\\tau","\\upsilon","\\chi","\\psi","\\omega","\\imath","\\jmath"]),lo=new Set(["\\Gamma","\\Delta","\\Sigma","\\Omega","\\beta","\\delta","\\lambda","\\theta","\\psi"]),Sr=(s,t)=>{const a=s.isStretchy?Tt.accentNode(s):new M.MathNode("mo",[ws(s.label,s.mode)]);if(s.label==="\\vec")a.style.transform="scale(0.75) translate(10%, 30%)";else if(a.style.mathStyle="normal",a.style.mathDepth="0",po.has(s.label)&&ds.isCharacterBox(s.base)){let e="";const n=s.base.text;(Mr.indexOf(n)>-1||io.has(n))&&(e="tml-xshift"),(ro.indexOf(n)>-1||lo.has(n))&&(e="tml-capshift"),e&&a.classes.push(e)}return s.isStretchy||a.setAttribute("stretchy","false"),new M.MathNode(s.label==="\\c"?"munder":"mover",[is(s.base,t),a])},oo=new Set(["\\acute","\\grave","\\ddot","\\dddot","\\ddddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"]),po=new Set(["\\acute","\\bar","\\breve","\\check","\\dot","\\ddot","\\grave","\\hat","\\mathring","\\'","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v"]),Pn={"\\`":"̀","\\'":"́","\\^":"̂","\\~":"̃","\\=":"̄","\\u":"̆","\\.":"̇",'\\"':"̈","\\r":"̊","\\H":"̋","\\v":"̌"};P({type:"accent",names:["\\acute","\\grave","\\ddot","\\dddot","\\ddddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\overparen","\\widecheck","\\widehat","\\wideparen","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(s,t)=>{const a=nt(t[0]),e=!oo.has(s.funcName);return{type:"accent",mode:s.parser.mode,label:s.funcName,isStretchy:e,base:a}},mathmlBuilder:Sr});P({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\c","\\u","\\.",'\\"',"\\r","\\H","\\v"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(s,t)=>{const a=nt(t[0]),e=s.parser.mode;return e==="math"&&s.parser.settings.strict&&console.log(`Temml parse error: Command ${s.funcName} is invalid in math mode.`),e==="text"&&a.text&&a.text.length===1&&s.funcName in Pn&&Mr.indexOf(a.text)>-1?{type:"textord",mode:"text",text:a.text+Pn[s.funcName]}:{type:"accent",mode:e,label:s.funcName,isStretchy:!1,base:a}},mathmlBuilder:Sr});P({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underparen","\\utilde"],props:{numArgs:1},handler:({parser:s,funcName:t},a)=>{const e=a[0];return{type:"accentUnder",mode:s.mode,label:t,base:e}},mathmlBuilder:(s,t)=>{const a=Tt.accentNode(s);return a.style["math-depth"]=0,new M.MathNode("munder",[is(s.base,t),a])}});const zn={pt:800/803,pc:12*800/803,dd:1238/1157*800/803,cc:14856/1157*800/803,nd:685/642*800/803,nc:1370/107*800/803,sp:1/65536*800/803,mm:25.4/72,cm:2.54/72,in:1/72,px:96/72},co=["em","ex","mu","pt","mm","cm","in","px","bp","pc","dd","cc","nd","nc","sp"],mo=function(s){return typeof s!="string"&&(s=s.unit),co.indexOf(s)>-1},Cr=s=>{const t=Math.max(s-1,0);return[1,.7,.5][t]},qs=function(s,t){let a=s.number;if(t.maxSize[0]<0&&a>0)return{number:0,unit:"em"};const e=s.unit;switch(e){case"mm":case"cm":case"in":case"px":return a*zn[e]>t.maxSize[1]?{number:t.maxSize[1],unit:"pt"}:{number:a,unit:e};case"em":case"ex":return e==="ex"&&(a*=.431),a=Math.min(a/Cr(t.level),t.maxSize[0]),{number:ds.round(a),unit:"em"};case"bp":return a>t.maxSize[1]&&(a=t.maxSize[1]),{number:a,unit:"pt"};case"pt":case"pc":case"dd":case"cc":case"nd":case"nc":case"sp":return a=Math.min(a*zn[e],t.maxSize[1]),{number:ds.round(a),unit:"pt"};case"mu":return a=Math.min(a/18,t.maxSize[0]),{number:ds.round(a),unit:"em"};default:throw new O("Invalid unit: '"+e+"'")}},Ls=s=>{const t=new M.MathNode("mspace");return t.setAttribute("width",s+"em"),t},yt=(s,t=.3,a=0)=>{if(s==null&&a===0)return Ls(t);const e=s?[s]:[];return t!==0&&e.unshift(Ls(t)),a>0&&e.push(Ls(a)),new M.MathNode("mrow",e)},ie=(s,t)=>Number(s)/Cr(t),we=(s,t,a,e)=>{const n=Tt.mathMLnode(s),l=s.slice(1,3)==="eq",o=s.charAt(1)==="x"?"1.75":s.slice(2,4)==="cd"?"3.0":l?"1.0":"2.0";n.setAttribute("lspace","0"),n.setAttribute("rspace",l?"0.5em":"0");const p=e.withLevel(e.level<2?2:3),d=ie(o,p.level),g=ie(o,3),A=yt(null,d.toFixed(4),0),N=yt(null,g.toFixed(4),0),v=ie(l?0:.3,p.level).toFixed(4);let I,Y;const V=t&&t.body&&(t.body.body||t.body.length>0);if(V){let z=is(t,p);z=yt(z,v,v),I=new M.MathNode("mover",[z,N])}const es=a&&a.body&&(a.body.body||a.body.length>0);if(es){let z=is(a,p);z=yt(z,v,v),Y=new M.MathNode("munder",[z,N])}let q;return!V&&!es?q=new M.MathNode("mover",[n,A]):V&&es?q=new M.MathNode("munderover",[n,Y,I]):V?q=new M.MathNode("mover",[n,I]):q=new M.MathNode("munder",[n,Y]),o==="3.0"&&(q.style.height="1em"),q.setAttribute("accent","false"),q};P({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\yields","\\yieldsLeft","\\mesomerism","\\longrightharpoonup","\\longleftharpoondown","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler({parser:s,funcName:t},a,e){return{type:"xArrow",mode:s.mode,name:t,body:a[0],below:e[0]}},mathmlBuilder(s,t){const a=[we(s.name,s.body,s.below,t)];return a.unshift(Ls(.2778)),a.push(Ls(.2778)),new M.MathNode("mrow",a)}});const On={"\\xtofrom":["\\xrightarrow","\\xleftarrow"],"\\xleftrightharpoons":["\\xleftharpoonup","\\xrightharpoondown"],"\\xrightleftharpoons":["\\xrightharpoonup","\\xleftharpoondown"],"\\yieldsLeftRight":["\\yields","\\yieldsLeft"],"\\equilibrium":["\\longrightharpoonup","\\longleftharpoondown"],"\\equilibriumRight":["\\longrightharpoonup","\\eqleftharpoondown"],"\\equilibriumLeft":["\\eqrightharpoonup","\\longleftharpoondown"]};P({type:"stackedArrow",names:["\\xtofrom","\\xleftrightharpoons","\\xrightleftharpoons","\\yieldsLeftRight","\\equilibrium","\\equilibriumRight","\\equilibriumLeft"],props:{numArgs:1,numOptionalArgs:1},handler({parser:s,funcName:t},a,e){const n=a[0]?{type:"hphantom",mode:s.mode,body:a[0]}:null,l=e[0]?{type:"hphantom",mode:s.mode,body:e[0]}:null;return{type:"stackedArrow",mode:s.mode,name:t,body:a[0],upperArrowBelow:l,lowerArrowBody:n,below:e[0]}},mathmlBuilder(s,t){const a=On[s.name][0],e=On[s.name][1],n=we(a,s.body,s.upperArrowBelow,t),l=we(e,s.lowerArrowBody,s.below,t);let o;const p=new M.MathNode("mpadded",[n]);if(p.setAttribute("voffset","0.3em"),p.setAttribute("height","+0.3em"),p.setAttribute("depth","-0.3em"),s.name==="\\equilibriumLeft"){const d=new M.MathNode("mpadded",[l]);d.setAttribute("width","0.5em"),o=new M.MathNode("mpadded",[Ls(.2778),d,p,Ls(.2778)])}else p.setAttribute("width",s.name==="\\equilibriumRight"?"0.5em":"0"),o=new M.MathNode("mpadded",[Ls(.2778),p,l,Ls(.2778)]);return o.setAttribute("voffset","-0.18em"),o.setAttribute("height","-0.18em"),o.setAttribute("depth","+0.18em"),o}});function G(s,t){if(!s||s.type!==t)throw new Error(`Expected node of type ${t}, but got `+(s?`node of type ${s.type}`:String(s)));return s}function Te(s){const t=Lt(s);if(!t)throw new Error("Expected node of symbol group type, but got "+(s?`node of type ${s.type}`:String(s)));return t}function Lt(s){return s&&(s.type==="atom"||Object.prototype.hasOwnProperty.call(to,s.type))?s:null}const ho={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Bn=()=>({type:"styling",body:[],mode:"math",scriptLevel:"display"}),$n=s=>s.type==="textord"&&s.text==="@",uo=(s,t)=>(s.type==="mathord"||s.type==="atom")&&s.text===t;function go(s,t,a){const e=ho[s];switch(e){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return a.callFunction(e,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{const n=a.callFunction("\\\\cdleft",[t[0]],[]),l={type:"atom",text:e,mode:"math",family:"rel"},o=a.callFunction("\\Big",[l],[]),p=a.callFunction("\\\\cdright",[t[1]],[]),d={type:"ordgroup",mode:"math",body:[n,o,p],semisimple:!0};return a.callFunction("\\\\cdparent",[d],[])}case"\\\\cdlongequal":return a.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const n={type:"textord",text:"\\Vert",mode:"math"};return a.callFunction("\\Big",[n],[])}default:return{type:"textord",text:" ",mode:"math"}}}function bo(s){const t=[];for(s.gullet.beginGroup(),s.gullet.macros.set("\\cr","\\\\\\relax"),s.gullet.beginGroup();;){t.push(s.parseExpression(!1,"\\\\")),s.gullet.endGroup(),s.gullet.beginGroup();const n=s.fetch().text;if(n==="&"||n==="\\\\")s.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new O("Expected \\\\ or \\cr or \\end",s.nextToken)}let a=[];const e=[a];for(let n=0;n<t.length;n++){const l=t[n];let o=Bn();for(let p=0;p<l.length;p++)if(!$n(l[p]))o.body.push(l[p]);else{a.push(o),p+=1;const d=Te(l[p]).text,g=new Array(2);if(g[0]={type:"ordgroup",mode:"math",body:[]},g[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(d)>-1))if("<>AV".indexOf(d)>-1)for(let N=0;N<2;N++){let v=!0;for(let I=p+1;I<l.length;I++){if(uo(l[I],d)){v=!1,p=I;break}if($n(l[I]))throw new O("Missing a "+d+" character to complete a CD arrow.",l[I]);g[N].body.push(l[I])}if(v)throw new O("Missing a "+d+" character to complete a CD arrow.",l[p])}else throw new O('Expected one of "<>AV=|." after @.');const A=go(d,g,s);a.push(A),o=Bn()}n%2===0?a.push(o):a.shift(),a=[],e.push(a)}return e.pop(),s.gullet.endGroup(),s.gullet.endGroup(),{type:"array",mode:"math",body:e,envClasses:["jot","cd"],cols:[],hLinesBeforeRow:new Array(e.length+1).fill([])}}P({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler({parser:s,funcName:t},a){return{type:"cdlabel",mode:s.mode,side:t.slice(4),label:a[0]}},mathmlBuilder(s,t){let a=new M.MathNode("mrow",[is(s.label,t)]);return a=new M.MathNode("mpadded",[a]),a.setAttribute("width","0"),s.side==="left"&&a.setAttribute("lspace","-1width"),a.setAttribute("voffset","0.7em"),a=new M.MathNode("mstyle",[a]),a.setAttribute("displaystyle","false"),a.setAttribute("scriptlevel","1"),a}});P({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler({parser:s},t){return{type:"cdlabelparent",mode:s.mode,fragment:t[0]}},mathmlBuilder(s,t){return new M.MathNode("mrow",[is(s.fragment,t)])}});P({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler({parser:s,token:t},a){const e=G(a[0],"ordgroup").body;let n="";for(let o=0;o<e.length;o++){const p=G(e[o],"textord");n+=p.text}const l=parseInt(n);if(isNaN(l))throw new O(`\\@char has non-numeric argument ${n}`,t);return{type:"textord",mode:s.mode,text:String.fromCodePoint(l)}}});const fo=/^(#[a-f0-9]{3}|#?[a-f0-9]{6})$/i,yo=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i,vo=/^ *\d{1,3} *(?:, *\d{1,3} *){2}$/,xo=/^ *[10](?:\.\d*)? *(?:, *[10](?:\.\d*)? *){2}$/,wo=/^[a-f0-9]{6}$/i,Dn=s=>{let t=s.toString(16);return t.length===1&&(t="0"+t),t},Yn=JSON.parse(`{
  "Apricot": "#ffb484",
  "Aquamarine": "#08b4bc",
  "Bittersweet": "#c84c14",
  "blue": "#0000FF",
  "Blue": "#303494",
  "BlueGreen": "#08b4bc",
  "BlueViolet": "#503c94",
  "BrickRed": "#b8341c",
  "brown": "#BF8040",
  "Brown": "#802404",
  "BurntOrange": "#f8941c",
  "CadetBlue": "#78749c",
  "CarnationPink": "#f884b4",
  "Cerulean": "#08a4e4",
  "CornflowerBlue": "#40ace4",
  "cyan": "#00FFFF",
  "Cyan": "#08acec",
  "Dandelion": "#ffbc44",
  "darkgray": "#404040",
  "DarkOrchid": "#a8548c",
  "Emerald": "#08ac9c",
  "ForestGreen": "#089c54",
  "Fuchsia": "#90348c",
  "Goldenrod": "#ffdc44",
  "gray": "#808080",
  "Gray": "#98949c",
  "green": "#00FF00",
  "Green": "#08a44c",
  "GreenYellow": "#e0e474",
  "JungleGreen": "#08ac9c",
  "Lavender": "#f89cc4",
  "lightgray": "#c0c0c0",
  "lime": "#BFFF00",
  "LimeGreen": "#90c43c",
  "magenta": "#FF00FF",
  "Magenta": "#f0048c",
  "Mahogany": "#b0341c",
  "Maroon": "#b03434",
  "Melon": "#f89c7c",
  "MidnightBlue": "#086494",
  "Mulberry": "#b03c94",
  "NavyBlue": "#086cbc",
  "olive": "#7F7F00",
  "OliveGreen": "#407c34",
  "orange": "#FF8000",
  "Orange": "#f8843c",
  "OrangeRed": "#f0145c",
  "Orchid": "#b074ac",
  "Peach": "#f8945c",
  "Periwinkle": "#8074bc",
  "PineGreen": "#088c74",
  "pink": "#ff7f7f",
  "Plum": "#98248c",
  "ProcessBlue": "#08b4ec",
  "purple": "#BF0040",
  "Purple": "#a0449c",
  "RawSienna": "#983c04",
  "red": "#ff0000",
  "Red": "#f01c24",
  "RedOrange": "#f86434",
  "RedViolet": "#a0246c",
  "Rhodamine": "#f0549c",
  "Royallue": "#0874bc",
  "RoyalPurple": "#683c9c",
  "RubineRed": "#f0047c",
  "Salmon": "#f8948c",
  "SeaGreen": "#30bc9c",
  "Sepia": "#701404",
  "SkyBlue": "#48c4dc",
  "SpringGreen": "#c8dc64",
  "Tan": "#e09c74",
  "teal": "#007F7F",
  "TealBlue": "#08acb4",
  "Thistle": "#d884b4",
  "Turquoise": "#08b4cc",
  "violet": "#800080",
  "Violet": "#60449c",
  "VioletRed": "#f054a4",
  "WildStrawberry": "#f0246c",
  "yellow": "#FFFF00",
  "Yellow": "#fff404",
  "YellowGreen": "#98cc6c",
  "YellowOrange": "#ffa41c"
}`),Zs=(s,t)=>{let a="";if(s==="HTML"){if(!fo.test(t))throw new O("Invalid HTML input.");a=t}else if(s==="RGB"){if(!vo.test(t))throw new O("Invalid RGB input.");t.split(",").map(e=>{a+=Dn(Number(e.trim()))})}else{if(!xo.test(t))throw new O("Invalid rbg input.");t.split(",").map(e=>{const n=Number(e.trim());if(n>1)throw new O("Color rgb input must be < 1.");a+=Dn(Number((n*255).toFixed(0)))})}return a.charAt(0)!=="#"&&(a="#"+a),a},rt=(s,t,a)=>{const e=`\\\\color@${s}`;if(!yo.exec(s))throw new O("Invalid color: '"+s+"'",a);return wo.test(s)?"#"+s:(s.charAt(0)==="#"||(t.has(e)?s=t.get(e).tokens[0].text:Yn[s]&&(s=Yn[s])),s)},qr=(s,t)=>{let a=xs(s.body,t.withColor(s.color));return a=a.map(e=>(e.style.color=s.color,e)),M.newDocumentFragment(a)};P({type:"color",names:["\\textcolor"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,argTypes:["raw","raw","original"]},handler({parser:s,token:t},a,e){const n=e[0]&&G(e[0],"raw").string;let l="";if(n){const p=G(a[0],"raw").string;l=Zs(n,p)}else l=rt(G(a[0],"raw").string,s.gullet.macros,t);const o=a[1];return{type:"color",mode:s.mode,color:l,body:ps(o)}},mathmlBuilder:qr});P({type:"color",names:["\\color"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0,argTypes:["raw","raw"]},handler({parser:s,breakOnTokenText:t,token:a},e,n){const l=n[0]&&G(n[0],"raw").string;let o="";if(l){const d=G(e[0],"raw").string;o=Zs(l,d)}else o=rt(G(e[0],"raw").string,s.gullet.macros,a);const p=s.parseExpression(!0,t,!0);return{type:"color",mode:s.mode,color:o,body:p}},mathmlBuilder:qr});P({type:"color",names:["\\definecolor"],props:{numArgs:3,allowedInText:!0,argTypes:["raw","raw","raw"]},handler({parser:s,funcName:t,token:a},e){const n=G(e[0],"raw").string;if(!/^[A-Za-z]+$/.test(n))throw new O("Color name must be latin letters.",a);const l=G(e[1],"raw").string;if(!["HTML","RGB","rgb"].includes(l))throw new O("Color model must be HTML, RGB, or rgb.",a);const o=G(e[2],"raw").string,p=Zs(l,o);return s.gullet.macros.set(`\\\\color@${n}`,{tokens:[{text:p}],numArgs:0}),{type:"internal",mode:s.mode}}});P({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler({parser:s},t,a){const e=s.gullet.future().text==="["?s.parseSizeGroup(!0):null,n=!s.settings.displayMode;return{type:"cr",mode:s.mode,newLine:n,size:e&&G(e,"size").value}},mathmlBuilder(s,t){const a=new M.MathNode("mo");if(s.newLine&&(a.setAttribute("linebreak","newline"),s.size)){const e=qs(s.size,t);a.setAttribute("height",e.number+e.unit)}return a}});const ke={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Ct=s=>{const t=s.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new O("Expected a control sequence",s);return t},ko=s=>{let t=s.gullet.popToken();return t.text==="="&&(t=s.gullet.popToken(),t.text===" "&&(t=s.gullet.popToken())),t},Nr=(s,t,a,e)=>{let n=s.gullet.macros.get(a.text);n==null&&(a.noexpand=!0,n={tokens:[a],numArgs:0,unexpandable:!s.gullet.isExpandable(a.text)}),s.gullet.macros.set(t,n,e)};P({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler({parser:s,funcName:t}){s.consumeSpaces();const a=s.fetch();if(ke[a.text])return(t==="\\global"||t==="\\\\globallong")&&(a.text=ke[a.text]),G(s.parseFunction(),"internal");throw new O("Invalid token after macro prefix",a)}});P({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler({parser:s,funcName:t}){let a=s.gullet.popToken();const e=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new O("Expected a control sequence",a);let n=0,l;const o=[[]];for(;s.gullet.future().text!=="{";)if(a=s.gullet.popToken(),a.text==="#"){if(s.gullet.future().text==="{"){l=s.gullet.future(),o[n].push("{");break}if(a=s.gullet.popToken(),!/^[1-9]$/.test(a.text))throw new O(`Invalid argument number "${a.text}"`);if(parseInt(a.text)!==n+1)throw new O(`Argument number "${a.text}" out of order`);n++,o.push([])}else{if(a.text==="EOF")throw new O("Expected a macro definition");o[n].push(a.text)}let{tokens:p}=s.gullet.consumeArg();if(l&&p.unshift(l),t==="\\edef"||t==="\\xdef"){if(p=s.gullet.expandTokens(p),p.length>s.gullet.settings.maxExpand)throw new O("Too many expansions in an "+t);p.reverse()}return s.gullet.macros.set(e,{tokens:p,numArgs:n,delimiters:o},t===ke[t]),{type:"internal",mode:s.mode}}});P({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler({parser:s,funcName:t}){const a=Ct(s.gullet.popToken());s.gullet.consumeSpaces();const e=ko(s);return Nr(s,a,e,t==="\\\\globallet"),{type:"internal",mode:s.mode}}});P({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler({parser:s,funcName:t}){const a=Ct(s.gullet.popToken()),e=s.gullet.popToken(),n=s.gullet.popToken();return Nr(s,a,n,t==="\\\\globalfuture"),s.gullet.pushToken(n),s.gullet.pushToken(e),{type:"internal",mode:s.mode}}});P({type:"internal",names:["\\newcommand","\\renewcommand","\\providecommand"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler({parser:s,funcName:t}){let a="";const e=s.gullet.popToken();e.text==="{"?(a=Ct(s.gullet.popToken()),s.gullet.popToken()):a=Ct(e);const n=s.gullet.isDefined(a);if(n&&t==="\\newcommand")throw new O(`\\newcommand{${a}} attempting to redefine ${a}; use \\renewcommand`);if(!n&&t==="\\renewcommand")throw new O(`\\renewcommand{${a}} when command ${a} does not yet exist; use \\newcommand`);let l=0;if(s.gullet.future().text==="["){let p=s.gullet.popToken();if(p=s.gullet.popToken(),!/^[0-9]$/.test(p.text))throw new O(`Invalid number of arguments: "${p.text}"`);if(l=parseInt(p.text),p=s.gullet.popToken(),p.text!=="]")throw new O(`Invalid argument "${p.text}"`)}const{tokens:o}=s.gullet.consumeArg();return s.gullet.macros.set(a,{tokens:o,numArgs:l}),{type:"internal",mode:s.mode}}});const _e={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Tr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","⦇","\\llparenthesis","⦈","\\rrparenthesis","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lAngle","⟪","\\rAngle","⟫","\\llangle","⦉","\\rrangle","⦊","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","\\llbracket","\\rrbracket","⟦","⟦","\\lBrace","\\rBrace","⦃","⦄","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],_o=["}","\\left","\\middle","\\right"],Le=s=>s.length>0&&(Tr.includes(s)||_e[s]||_o.includes(s)),jn=[0,1.2,1.8,2.4,3];function it(s,t){const a=Lt(s);if(a&&Tr.includes(a.text))return["/","⁄"].includes(a.text)&&(a.text="∕"),["<","\\lt"].includes(a.text)&&(a.text="⟨"),[">","\\gt"].includes(a.text)&&(a.text="⟩"),a.text==="\\backslash"&&(a.text="∖"),a;throw a?new O(`Invalid delimiter '${a.text}' after '${t.funcName}'`,s):new O(`Invalid delimiter type '${s.type}'`,s)}P({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(s,t)=>{const a=it(t[0],s);return{type:"delimsizing",mode:s.parser.mode,size:_e[s.funcName].size,mclass:_e[s.funcName].mclass,delim:a.text}},mathmlBuilder:s=>{const t=[];s.delim==="."&&(s.delim=""),t.push(ws(s.delim,s.mode));const a=new M.MathNode("mo",t);return s.mclass==="mopen"||s.mclass==="mclose"?a.setAttribute("fence","true"):a.setAttribute("fence","false"),(s.delim==="∖"||s.delim==="\\vert"||s.delim==="|"||s.delim.indexOf("arrow")>-1)&&a.setAttribute("stretchy","true"),a.setAttribute("symmetric","true"),a.setAttribute("minsize",jn[s.size]+"em"),a.setAttribute("maxsize",jn[s.size]+"em"),a}});function Ao(s){if(!s.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}P({type:"leftright-right",names:["\\right"],props:{numArgs:1,argTypes:["primitive"]},handler:(s,t)=>({type:"leftright-right",mode:s.parser.mode,delim:it(t[0],s).text})});P({type:"leftright",names:["\\left"],props:{numArgs:1,argTypes:["primitive"]},handler:(s,t)=>{const a=it(t[0],s),e=s.parser;++e.leftrightDepth;let n=e.parseExpression(!1,null,!0),l=e.fetch();for(;l.text==="\\middle";){e.consume();const p=e.fetch().text;if(!bs.math[p])throw new O(`Invalid delimiter '${p}' after '\\middle'`);it({type:"atom",mode:"math",text:p},{funcName:"\\middle"}),n.push({type:"middle",mode:"math",delim:p}),e.consume(),n=n.concat(e.parseExpression(!1,null,!0)),l=e.fetch()}--e.leftrightDepth,e.expect("\\right",!1);const o=G(e.parseFunction(),"leftright-right");return{type:"leftright",mode:e.mode,body:n,left:a.text,right:o.delim}},mathmlBuilder:(s,t)=>{Ao(s);const a=xs(s.body,t);s.left==="."&&(s.left="");const e=new M.MathNode("mo",[ws(s.left,s.mode)]);e.setAttribute("fence","true"),e.setAttribute("form","prefix"),(s.left==="∖"||s.left.indexOf("arrow")>-1)&&e.setAttribute("stretchy","true"),a.unshift(e),s.right==="."&&(s.right="");const n=new M.MathNode("mo",[ws(s.right,s.mode)]);return n.setAttribute("fence","true"),n.setAttribute("form","postfix"),(s.right==="∖"||s.right.indexOf("arrow")>-1)&&n.setAttribute("stretchy","true"),a.push(n),Ne(a)}});P({type:"middle",names:["\\middle"],props:{numArgs:1,argTypes:["primitive"]},handler:(s,t)=>{const a=it(t[0],s);if(!s.parser.leftrightDepth)throw new O("\\middle without preceding \\left",a);return{type:"middle",mode:s.parser.mode,delim:a.text}},mathmlBuilder:(s,t)=>{const a=ws(s.delim,s.mode),e=new M.MathNode("mo",[a]);return e.setAttribute("fence","true"),s.delim.indexOf("arrow")>-1&&e.setAttribute("stretchy","true"),e.setAttribute("form","prefix"),e.setAttribute("lspace","0.05em"),e.setAttribute("rspace","0.05em"),e}});const Rn=s=>{const t=new M.MathNode("mspace");return t.setAttribute("width","3pt"),t},ot=(s,t)=>{let a;switch(s.label.indexOf("colorbox")>-1||s.label==="\\boxed"?a=new M.MathNode("mrow",[Rn(),is(s.body,t),Rn()]):a=new M.MathNode("menclose",[is(s.body,t)]),s.label){case"\\overline":a.setAttribute("notation","top"),a.classes.push("tml-overline");break;case"\\underline":a.setAttribute("notation","bottom"),a.classes.push("tml-underline");break;case"\\cancel":a.setAttribute("notation","updiagonalstrike"),a.children.push(new M.MathNode("mrow",[],["tml-cancel","upstrike"]));break;case"\\bcancel":a.setAttribute("notation","downdiagonalstrike"),a.children.push(new M.MathNode("mrow",[],["tml-cancel","downstrike"]));break;case"\\sout":a.setAttribute("notation","horizontalstrike"),a.children.push(new M.MathNode("mrow",[],["tml-cancel","sout"]));break;case"\\xcancel":a.setAttribute("notation","updiagonalstrike downdiagonalstrike"),a.classes.push("tml-xcancel");break;case"\\longdiv":a.setAttribute("notation","longdiv"),a.classes.push("longdiv-top"),a.children.push(new M.MathNode("mrow",[],["longdiv-arc"]));break;case"\\phase":a.setAttribute("notation","phasorangle"),a.classes.push("phasor-bottom"),a.children.push(new M.MathNode("mrow",[],["phasor-angle"]));break;case"\\textcircled":a.setAttribute("notation","circle"),a.classes.push("circle-pad"),a.children.push(new M.MathNode("mrow",[],["textcircle"]));break;case"\\angl":a.setAttribute("notation","actuarial"),a.classes.push("actuarial");break;case"\\boxed":a.setAttribute("notation","box"),a.classes.push("tml-box"),a.setAttribute("scriptlevel","0"),a.setAttribute("displaystyle","true");break;case"\\fbox":a.setAttribute("notation","box"),a.classes.push("tml-fbox");break;case"\\fcolorbox":case"\\colorbox":{const e={padding:"3pt 0 3pt 0"};s.label==="\\fcolorbox"&&(e.border="0.0667em solid "+String(s.borderColor)),a.style=e;break}}return s.backgroundColor&&a.setAttribute("mathbackground",s.backgroundColor),a};P({type:"enclose",names:["\\colorbox"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,argTypes:["raw","raw","text"]},handler({parser:s,funcName:t},a,e){const n=e[0]&&G(e[0],"raw").string;let l="";if(n){const p=G(a[0],"raw").string;l=Zs(n,p)}else l=rt(G(a[0],"raw").string,s.gullet.macros);const o=a[1];return{type:"enclose",mode:s.mode,label:t,backgroundColor:l,body:o}},mathmlBuilder:ot});P({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,numOptionalArgs:1,allowedInText:!0,argTypes:["raw","raw","raw","text"]},handler({parser:s,funcName:t},a,e){const n=e[0]&&G(e[0],"raw").string;let l="",o;if(n){const d=G(a[0],"raw").string,g=G(a[0],"raw").string;l=Zs(n,d),o=Zs(n,g)}else l=rt(G(a[0],"raw").string,s.gullet.macros),o=rt(G(a[1],"raw").string,s.gullet.macros);const p=a[2];return{type:"enclose",mode:s.mode,label:t,backgroundColor:o,borderColor:l,body:p}},mathmlBuilder:ot});P({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler({parser:s},t){return{type:"enclose",mode:s.mode,label:"\\fbox",body:t[0]}}});P({type:"enclose",names:["\\angl","\\cancel","\\bcancel","\\xcancel","\\sout","\\overline","\\boxed","\\longdiv","\\phase"],props:{numArgs:1},handler({parser:s,funcName:t},a){const e=a[0];return{type:"enclose",mode:s.mode,label:t,body:e}},mathmlBuilder:ot});P({type:"enclose",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler({parser:s,funcName:t},a){const e=a[0];return{type:"enclose",mode:s.mode,label:t,body:e}},mathmlBuilder:ot});P({type:"enclose",names:["\\textcircled"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler({parser:s,funcName:t},a){const e=a[0];return{type:"enclose",mode:s.mode,label:t,body:e}},mathmlBuilder:ot});const Lr={};function _s({type:s,names:t,props:a,handler:e,mathmlBuilder:n}){const l={type:s,numArgs:a.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:e};for(let o=0;o<t.length;++o)Lr[t[o]]=l;n&&(At[s]=n)}const hs={DISPLAY:0,TEXT:1,SCRIPT:2,SCRIPTSCRIPT:3},Mo={};function c(s,t){Mo[s]=t}c("\\noexpand",function(s){const t=s.popToken();return s.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});c("\\expandafter",function(s){const t=s.popToken();return s.expandOnce(!0),{tokens:[t],numArgs:0}});c("\\@firstoftwo",function(s){return{tokens:s.consumeArgs(2)[0],numArgs:0}});c("\\@secondoftwo",function(s){return{tokens:s.consumeArgs(2)[1],numArgs:0}});c("\\@ifnextchar",function(s){const t=s.consumeArgs(3);s.consumeSpaces();const a=s.future();return t[0].length===1&&t[0][0].text===a.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});c("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");c("\\TextOrMath",function(s){const t=s.consumeArgs(2);return s.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});const Ae=s=>{let t="";for(let a=s.length-1;a>-1;a--)t+=s[a].text;return t},Ie={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15},Gn=s=>{const t=s.future().text;return t==="EOF"?[null,""]:[Ie[t.charAt(0)],t]},Fn=(s,t,a)=>{for(let e=1;e<t.length;e++){const n=Ie[t.charAt(e)];s*=a,s+=n}return s};c("\\char",function(s){let t=s.popToken(),a,e="";if(t.text==="'")a=8,t=s.popToken();else if(t.text==='"')a=16,t=s.popToken();else if(t.text==="`")if(t=s.popToken(),t.text[0]==="\\")e=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new O("\\char` missing argument");e=t.text.charCodeAt(0)}else a=10;if(a){let n=t.text;if(e=Ie[n.charAt(0)],e==null||e>=a)throw new O(`Invalid base-${a} digit ${t.text}`);e=Fn(e,n,a);let l;for([l,n]=Gn(s);l!=null&&l<a;)e*=a,e+=l,e=Fn(e,n,a),s.popToken(),[l,n]=Gn(s)}return`\\@char{${e}}`});function Xe(s){const t=s.consumeArgs(1)[0];let a="",e=t[t.length-1].loc.start;for(let n=t.length-1;n>=0;n--){const l=t[n].loc.start;l>e&&(a+=" ",e=l),a+=t[n].text,e+=t[n].text.length}return a}c("\\surd","\\sqrt{\\vphantom{|}}");c("⊕","\\oplus");c("\\long","");c("\\bgroup","{");c("\\egroup","}");c("~","\\nobreakspace");c("\\lq","`");c("\\rq","'");c("\\aa","\\r a");c("\\Bbbk","\\Bbb{k}");c("\\mathstrut","\\vphantom{(}");c("\\underbar","\\underline{\\text{#1}}");c("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");c("⋮","\\vdots");c("\\arraystretch","1");c("\\arraycolsep","6pt");c("\\substack","\\begin{subarray}{c}#1\\end{subarray}");c("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");c("\\implies","\\DOTSB\\;\\Longrightarrow\\;");c("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");const Vn={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcap":"\\dotsb","\\bigsqcup":"\\dotsb","\\bigtimes":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};c("\\dots",function(s){let t="\\dotso";const a=s.expandAfterFuture().text;return a in Vn?t=Vn[a]:(a.slice(0,4)==="\\not"||a in bs.math&&["bin","rel"].includes(bs.math[a].group))&&(t="\\dotsb"),t});const Ee={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};c("\\dotso",function(s){return s.future().text in Ee?"\\ldots\\,":"\\ldots"});c("\\dotsc",function(s){const t=s.future().text;return t in Ee&&t!==","?"\\ldots\\,":"\\ldots"});c("\\cdots",function(s){return s.future().text in Ee?"\\@cdots\\,":"\\@cdots"});c("\\dotsb","\\cdots");c("\\dotsm","\\cdots");c("\\dotsi","\\!\\cdots");c("\\idotsint","\\dotsi");c("\\dotsx","\\ldots\\,");c("\\DOTSI","\\relax");c("\\DOTSB","\\relax");c("\\DOTSX","\\relax");c("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");c("\\,","{\\tmspace+{3mu}{.1667em}}");c("\\thinspace","\\,");c("\\>","\\mskip{4mu}");c("\\:","{\\tmspace+{4mu}{.2222em}}");c("\\medspace","\\:");c("\\;","{\\tmspace+{5mu}{.2777em}}");c("\\thickspace","\\;");c("\\!","{\\tmspace-{3mu}{.1667em}}");c("\\negthinspace","\\!");c("\\negmedspace","{\\tmspace-{4mu}{.2222em}}");c("\\negthickspace","{\\tmspace-{5mu}{.277em}}");c("\\enspace","\\kern.5em ");c("\\enskip","\\hskip.5em\\relax");c("\\quad","\\hskip1em\\relax");c("\\qquad","\\hskip2em\\relax");c("\\AA","\\TextOrMath{\\Angstrom}{\\mathring{A}}\\relax");c("\\tag","\\@ifstar\\tag@literal\\tag@paren");c("\\tag@paren","\\tag@literal{({#1})}");c("\\tag@literal",s=>{if(s.macros.get("\\df@tag"))throw new O("Multiple \\tag");return"\\def\\df@tag{\\text{#1}}"});c("\\bmod","\\mathbin{\\text{mod}}");c("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");c("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");c("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");c("\\newline","\\\\\\relax");c("\\TeX","\\textrm{T}\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125em\\textrm{X}");c("\\LaTeX","\\textrm{L}\\kern-.35em\\raisebox{0.2em}{\\scriptstyle A}\\kern-.15em\\TeX");c("\\Temml","\\textrm{T}\\kern-0.2em\\lower{0.2em}{\\textrm{E}}\\kern-0.08em{\\textrm{M}\\kern-0.08em\\raise{0.2em}\\textrm{M}\\kern-0.08em\\textrm{L}}");c("\\hspace","\\@ifstar\\@hspacer\\@hspace");c("\\@hspace","\\hskip #1\\relax");c("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");c("\\colon",'\\mathpunct{\\char"3a}');c("\\prescript","\\pres@cript{_{#1}^{#2}}{}{#3}");c("\\ordinarycolon",'\\char"3a');c("\\vcentcolon","\\mathrel{\\raisebox{0.035em}{\\ordinarycolon}}");c("\\coloneq",'\\mathrel{\\raisebox{0.035em}{\\ordinarycolon}\\char"2212}');c("\\Coloneq",'\\mathrel{\\char"2237\\char"2212}');c("\\Eqqcolon",'\\mathrel{\\char"3d\\char"2237}');c("\\Eqcolon",'\\mathrel{\\char"2212\\char"2237}');c("\\colonapprox",'\\mathrel{\\raisebox{0.035em}{\\ordinarycolon}\\char"2248}');c("\\Colonapprox",'\\mathrel{\\char"2237\\char"2248}');c("\\colonsim",'\\mathrel{\\raisebox{0.035em}{\\ordinarycolon}\\char"223c}');c("\\Colonsim",'\\mathrel{\\raisebox{0.035em}{\\ordinarycolon}\\char"223c}');c("\\ratio","\\vcentcolon");c("\\coloncolon","\\dblcolon");c("\\colonequals","\\coloneqq");c("\\coloncolonequals","\\Coloneqq");c("\\equalscolon","\\eqqcolon");c("\\equalscoloncolon","\\Eqqcolon");c("\\colonminus","\\coloneq");c("\\coloncolonminus","\\Coloneq");c("\\minuscolon","\\eqcolon");c("\\minuscoloncolon","\\Eqcolon");c("\\coloncolonapprox","\\Colonapprox");c("\\coloncolonsim","\\Colonsim");c("\\notni","\\mathrel{\\char`∌}");c("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");c("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");c("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");c("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");c("\\varlimsup","\\DOTSB\\operatorname*{\\overline{\\text{lim}}}");c("\\varliminf","\\DOTSB\\operatorname*{\\underline{\\text{lim}}}");c("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{\\text{lim}}}");c("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{\\text{lim}}}");c("\\centerdot","{\\medspace\\rule{0.167em}{0.189em}\\medspace}");c("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");c("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");c("\\plim","\\DOTSB\\operatorname*{plim}");c("\\leftmodels","\\mathop{\\reflectbox{$\\models$}}");c("\\bra","\\mathinner{\\langle{#1}|}");c("\\ket","\\mathinner{|{#1}\\rangle}");c("\\braket","\\mathinner{\\langle{#1}\\rangle}");c("\\Bra","\\left\\langle#1\\right|");c("\\Ket","\\left|#1\\right\\rangle");const Ir=(s,t)=>{const a=`}\\,\\middle${t[0]==="|"?"\\vert":"\\Vert"}\\,{`;return s.slice(0,t.index)+a+s.slice(t.index+t[0].length)};c("\\Braket",function(s){let t=Xe(s);const a=/\|\||\||\\\|/g;let e;for(;(e=a.exec(t))!==null;)t=Ir(t,e);return"\\left\\langle{"+t+"}\\right\\rangle"});c("\\Set",function(s){let t=Xe(s);const a=/\|\||\||\\\|/.exec(t);return a&&(t=Ir(t,a)),"\\left\\{\\:{"+t+"}\\:\\right\\}"});c("\\set",function(s){return"\\{{"+Xe(s).replace(/\|/,"}\\mid{")+"}\\}"});c("\\angln","{\\angl n}");c("\\odv","\\@ifstar\\odv@next\\odv@numerator");c("\\odv@numerator","\\frac{\\mathrm{d}#1}{\\mathrm{d}#2}");c("\\odv@next","\\frac{\\mathrm{d}}{\\mathrm{d}#2}#1");c("\\pdv","\\@ifstar\\pdv@next\\pdv@numerator");const Xr=s=>{const t=s[0][0].text,a=Ae(s[1]).split(","),e=String(a.length),n=e==="1"?"\\partial":`\\partial^${e}`;let l="";return a.map(o=>{l+="\\partial "+o.trim()+"\\,"}),[t,n,l.replace(/\\,$/,"")]};c("\\pdv@numerator",function(s){const[t,a,e]=Xr(s.consumeArgs(2));return`\\frac{${a} ${t}}{${e}}`});c("\\pdv@next",function(s){const[t,a,e]=Xr(s.consumeArgs(2));return`\\frac{${a}}{${e}} ${t}`});c("\\upalpha","\\up@greek{\\alpha}");c("\\upbeta","\\up@greek{\\beta}");c("\\upgamma","\\up@greek{\\gamma}");c("\\updelta","\\up@greek{\\delta}");c("\\upepsilon","\\up@greek{\\epsilon}");c("\\upzeta","\\up@greek{\\zeta}");c("\\upeta","\\up@greek{\\eta}");c("\\uptheta","\\up@greek{\\theta}");c("\\upiota","\\up@greek{\\iota}");c("\\upkappa","\\up@greek{\\kappa}");c("\\uplambda","\\up@greek{\\lambda}");c("\\upmu","\\up@greek{\\mu}");c("\\upnu","\\up@greek{\\nu}");c("\\upxi","\\up@greek{\\xi}");c("\\upomicron","\\up@greek{\\omicron}");c("\\uppi","\\up@greek{\\pi}");c("\\upalpha","\\up@greek{\\alpha}");c("\\uprho","\\up@greek{\\rho}");c("\\upsigma","\\up@greek{\\sigma}");c("\\uptau","\\up@greek{\\tau}");c("\\upupsilon","\\up@greek{\\upsilon}");c("\\upphi","\\up@greek{\\phi}");c("\\upchi","\\up@greek{\\chi}");c("\\uppsi","\\up@greek{\\psi}");c("\\upomega","\\up@greek{\\omega}");c("\\invamp",'\\mathbin{\\char"214b}');c("\\parr",'\\mathbin{\\char"214b}');c("\\with",'\\mathbin{\\char"26}');c("\\multimapinv",'\\mathrel{\\char"27dc}');c("\\multimapboth",'\\mathrel{\\char"29df}');c("\\scoh",'{\\mkern5mu\\char"2322\\mkern5mu}');c("\\sincoh",'{\\mkern5mu\\char"2323\\mkern5mu}');c("\\coh",`{\\mkern5mu\\rule{}{0.7em}\\mathrlap{\\smash{\\raise2mu{\\char"2322}}}
{\\smash{\\lower4mu{\\char"2323}}}\\mkern5mu}`);c("\\incoh",`{\\mkern5mu\\rule{}{0.7em}\\mathrlap{\\smash{\\raise2mu{\\char"2323}}}
{\\smash{\\lower4mu{\\char"2322}}}\\mkern5mu}`);c("\\standardstate","\\text{\\tiny\\char`⦵}");c("\\ce",function(s){return Er(s.consumeArgs(1)[0],"ce")});c("\\pu",function(s){return Er(s.consumeArgs(1)[0],"pu")});c("\\uniDash","{\\rule{0.672em}{0.06em}}");c("\\triDash","{\\rule{0.15em}{0.06em}\\kern2mu\\rule{0.15em}{0.06em}\\kern2mu\\rule{0.15em}{0.06em}}");c("\\tripleDash","\\kern0.075em\\raise0.25em{\\triDash}\\kern0.075em");c("\\tripleDashOverLine","\\kern0.075em\\mathrlap{\\raise0.125em{\\uniDash}}\\raise0.34em{\\triDash}\\kern0.075em");c("\\tripleDashOverDoubleLine","\\kern0.075em\\mathrlap{\\mathrlap{\\raise0.48em{\\triDash}}\\raise0.27em{\\uniDash}}{\\raise0.05em{\\uniDash}}\\kern0.075em");c("\\tripleDashBetweenDoubleLine","\\kern0.075em\\mathrlap{\\mathrlap{\\raise0.48em{\\uniDash}}\\raise0.27em{\\triDash}}{\\raise0.05em{\\uniDash}}\\kern0.075em");var Er=function(s,t){for(var a="",e=s.length&&s[s.length-1].loc.start,n=s.length-1;n>=0;n--)s[n].loc.start>e&&(a+=" ",e=s[n].loc.start),a+=s[n].text,e+=s[n].text.length;var l=ls.go(T.go(a,t));return l},T={go:function(s,t){if(!s)return[];t===void 0&&(t="ce");var a="0",e={};e.parenthesisLevel=0,s=s.replace(/\n/g," "),s=s.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),s=s.replace(/[\u2026]/g,"...");for(var n,l=10,o=[];;){n!==s?(l=10,n=s):l--;var p=T.stateMachines[t],d=p.transitions[a]||p.transitions["*"];s:for(var g=0;g<d.length;g++){var A=T.patterns.match_(d[g].pattern,s);if(A){for(var N=d[g].task,v=0;v<N.action_.length;v++){var I;if(p.actions[N.action_[v].type_])I=p.actions[N.action_[v].type_](e,A.match_,N.action_[v].option);else if(T.actions[N.action_[v].type_])I=T.actions[N.action_[v].type_](e,A.match_,N.action_[v].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+N.action_[v].type_+")"];T.concatArray(o,I)}if(a=N.nextState||a,s.length>0){if(N.revisit||(s=A.remainder),!N.toContinue)break s}else return o}}if(l<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(s,t){if(t)if(Array.isArray(t))for(var a=0;a<t.length;a++)s.push(t[a]);else s.push(t)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(s){var t=s.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return t&&t[0]?{match_:t.splice(1),remainder:s.substr(t[0].length)}:null},"(-)(9)^(-9)":function(s){var t=s.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return t&&t[0]?{match_:t.splice(1),remainder:s.substr(t[0].length)}:null},"state of aggregation $":function(s){var t=T.patterns.findObserveGroups(s,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(t&&t.remainder.match(/^($|[\s,;\)\]\}])/))return t;var a=s.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return a?{match_:a[0],remainder:s.substr(a[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(s){return T.patterns.findObserveGroups(s,"^{","","","}")},"^($...$)":function(s){return T.patterns.findObserveGroups(s,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(s){return T.patterns.findObserveGroups(s,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(s){return T.patterns.findObserveGroups(s,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(s){return T.patterns.findObserveGroups(s,"_{","","","}")},"_($...$)":function(s){return T.patterns.findObserveGroups(s,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(s){return T.patterns.findObserveGroups(s,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(s){return T.patterns.findObserveGroups(s,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(s){return T.patterns.findObserveGroups(s,"","{","}","")},"{(...)}":function(s){return T.patterns.findObserveGroups(s,"{","","","}")},"$...$":function(s){return T.patterns.findObserveGroups(s,"","$","$","")},"${(...)}$":function(s){return T.patterns.findObserveGroups(s,"${","","","}$")},"$(...)$":function(s){return T.patterns.findObserveGroups(s,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(s){return T.patterns.findObserveGroups(s,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(s){return T.patterns.findObserveGroups(s,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(s){return T.patterns.findObserveGroups(s,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(s){return T.patterns.findObserveGroups(s,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(s){return T.patterns.findObserveGroups(s,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(s){return T.patterns.findObserveGroups(s,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(s){return T.patterns.findObserveGroups(s,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(s){return T.patterns.findObserveGroups(s,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(s){return T.patterns.findObserveGroups(s,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(s){return T.patterns.findObserveGroups(s,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(s){return T.patterns.findObserveGroups(s,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(s){return T.patterns.findObserveGroups(s,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(s){var t;if(t=s.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),t)return{match_:t[0],remainder:s.substr(t[0].length)};var a=T.patterns.findObserveGroups(s,"","$","$","");return a&&(t=a.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/),t)?{match_:t[0],remainder:s.substr(t[0].length)}:null},amount2:function(s){return this.amount(s)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(s){if(s.match(/^\([a-z]+\)$/))return null;var t=s.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return t?{match_:t[0],remainder:s.substr(t[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(s,t,a,e,n,l,o,p,d,g){var A=function(q,z){if(typeof z=="string")return q.indexOf(z)!==0?null:z;var F=q.match(z);return F?F[0]:null},N=function(q,z,F){for(var ts=0;z<q.length;){var as=q.charAt(z),J=A(q.substr(z),F);if(J!==null&&ts===0)return{endMatchBegin:z,endMatchEnd:z+J.length};if(as==="{")ts++;else if(as==="}"){if(ts===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];ts--}z++}return null},v=A(s,t);if(v===null||(s=s.substr(v.length),v=A(s,a),v===null))return null;var I=N(s,v.length,e||n);if(I===null)return null;var Y=s.substring(0,e?I.endMatchEnd:I.endMatchBegin);if(l||o){var V=this.findObserveGroups(s.substr(I.endMatchEnd),l,o,p,d);if(V===null)return null;var es=[Y,V.match_];return{match_:g?es.join(""):es,remainder:V.remainder}}else return{match_:Y,remainder:s.substr(I.endMatchEnd)}},match_:function(s,t){var a=T.patterns.patterns[s];if(a===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+s+")"];if(typeof a=="function")return T.patterns.patterns[s](t);var e=t.match(a);if(e){var n;return e[2]?n=[e[1],e[2]]:e[1]?n=e[1]:n=e[0],{match_:n,remainder:t.substr(e[0].length)}}return null}},actions:{"a=":function(s,t){s.a=(s.a||"")+t},"b=":function(s,t){s.b=(s.b||"")+t},"p=":function(s,t){s.p=(s.p||"")+t},"o=":function(s,t){s.o=(s.o||"")+t},"q=":function(s,t){s.q=(s.q||"")+t},"d=":function(s,t){s.d=(s.d||"")+t},"rm=":function(s,t){s.rm=(s.rm||"")+t},"text=":function(s,t){s.text_=(s.text_||"")+t},insert:function(s,t,a){return{type_:a}},"insert+p1":function(s,t,a){return{type_:a,p1:t}},"insert+p1+p2":function(s,t,a){return{type_:a,p1:t[0],p2:t[1]}},copy:function(s,t){return t},rm:function(s,t){return{type_:"rm",p1:t||""}},text:function(s,t){return T.go(t,"text")},"{text}":function(s,t){var a=["{"];return T.concatArray(a,T.go(t,"text")),a.push("}"),a},"tex-math":function(s,t){return T.go(t,"tex-math")},"tex-math tight":function(s,t){return T.go(t,"tex-math tight")},bond:function(s,t,a){return{type_:"bond",kind_:a||t}},"color0-output":function(s,t){return{type_:"color0",color:t[0]}},ce:function(s,t){return T.go(t)},"1/2":function(s,t){var a=[];t.match(/^[+\-]/)&&(a.push(t.substr(0,1)),t=t.substr(1));var e=t.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return e[1]=e[1].replace(/\$/g,""),a.push({type_:"frac",p1:e[1],p2:e[2]}),e[3]&&(e[3]=e[3].replace(/\$/g,""),a.push({type_:"tex-math",p1:e[3]})),a},"9,9":function(s,t){return T.go(t,"9,9")}},createTransitions:function(s){var t,a,e,n,l={};for(t in s)for(a in s[t])for(e=a.split("|"),s[t][a].stateArray=e,n=0;n<e.length;n++)l[e[n]]=[];for(t in s)for(a in s[t])for(e=s[t][a].stateArray||[],n=0;n<e.length;n++){var o=s[t][a];if(o.action_){o.action_=[].concat(o.action_);for(var p=0;p<o.action_.length;p++)typeof o.action_[p]=="string"&&(o.action_[p]={type_:o.action_[p]})}else o.action_=[];for(var d=t.split("|"),g=0;g<d.length;g++)if(e[n]==="*")for(var A in l)l[A].push({pattern:d[g],task:o});else l[e[n]].push({pattern:d[g],task:o})}return l},stateMachines:{}};T.stateMachines={ce:{transitions:T.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(s,t){var a;if((s.d||"").match(/^[0-9]+$/)){var e=s.d;s.d=void 0,a=this.output(s),s.b=e}else a=this.output(s);return T.actions["o="](s,t),a},"d= kv":function(s,t){s.d=t,s.dType="kv"},"charge or bond":function(s,t){if(s.beginsWithBond){var a=[];return T.concatArray(a,this.output(s)),T.concatArray(a,T.actions.bond(s,t,"-")),a}else s.d=t},"- after o/d":function(s,t,a){var e=T.patterns.match_("orbital",s.o||""),n=T.patterns.match_("one lowercase greek letter $",s.o||""),l=T.patterns.match_("one lowercase latin letter $",s.o||""),o=T.patterns.match_("$one lowercase latin letter$ $",s.o||""),p=t==="-"&&(e&&e.remainder===""||n||l||o);p&&!s.a&&!s.b&&!s.p&&!s.d&&!s.q&&!e&&l&&(s.o="$"+s.o+"$");var d=[];return p?(T.concatArray(d,this.output(s)),d.push({type_:"hyphen"})):(e=T.patterns.match_("digits",s.d||""),a&&e&&e.remainder===""?(T.concatArray(d,T.actions["d="](s,t)),T.concatArray(d,this.output(s))):(T.concatArray(d,this.output(s)),T.concatArray(d,T.actions.bond(s,t,"-")))),d},"a to o":function(s){s.o=s.a,s.a=void 0},"sb=true":function(s){s.sb=!0},"sb=false":function(s){s.sb=!1},"beginsWithBond=true":function(s){s.beginsWithBond=!0},"beginsWithBond=false":function(s){s.beginsWithBond=!1},"parenthesisLevel++":function(s){s.parenthesisLevel++},"parenthesisLevel--":function(s){s.parenthesisLevel--},"state of aggregation":function(s,t){return{type_:"state of aggregation",p1:T.go(t,"o")}},comma:function(s,t){var a=t.replace(/\s*$/,""),e=a!==t;return e&&s.parenthesisLevel===0?{type_:"comma enumeration L",p1:a}:{type_:"comma enumeration M",p1:a}},output:function(s,t,a){var e;if(!s.r)e=[],!s.a&&!s.b&&!s.p&&!s.o&&!s.q&&!s.d&&!a||(s.sb&&e.push({type_:"entitySkip"}),!s.o&&!s.q&&!s.d&&!s.b&&!s.p&&a!==2?(s.o=s.a,s.a=void 0):!s.o&&!s.q&&!s.d&&(s.b||s.p)?(s.o=s.a,s.d=s.b,s.q=s.p,s.a=s.b=s.p=void 0):s.o&&s.dType==="kv"&&T.patterns.match_("d-oxidation$",s.d||"")?s.dType="oxidation":s.o&&s.dType==="kv"&&!s.q&&(s.dType=void 0),e.push({type_:"chemfive",a:T.go(s.a,"a"),b:T.go(s.b,"bd"),p:T.go(s.p,"pq"),o:T.go(s.o,"o"),q:T.go(s.q,"pq"),d:T.go(s.d,s.dType==="oxidation"?"oxidation":"bd"),dType:s.dType}));else{var n;s.rdt==="M"?n=T.go(s.rd,"tex-math"):s.rdt==="T"?n=[{type_:"text",p1:s.rd||""}]:n=T.go(s.rd);var l;s.rqt==="M"?l=T.go(s.rq,"tex-math"):s.rqt==="T"?l=[{type_:"text",p1:s.rq||""}]:l=T.go(s.rq),e={type_:"arrow",r:s.r,rd:n,rq:l}}for(var o in s)o!=="parenthesisLevel"&&o!=="beginsWithBond"&&delete s[o];return e},"oxidation-output":function(s,t){var a=["{"];return T.concatArray(a,T.go(t,"oxidation")),a.push("}"),a},"frac-output":function(s,t){return{type_:"frac-ce",p1:T.go(t[0]),p2:T.go(t[1])}},"overset-output":function(s,t){return{type_:"overset",p1:T.go(t[0]),p2:T.go(t[1])}},"underset-output":function(s,t){return{type_:"underset",p1:T.go(t[0]),p2:T.go(t[1])}},"underbrace-output":function(s,t){return{type_:"underbrace",p1:T.go(t[0]),p2:T.go(t[1])}},"color-output":function(s,t){return{type_:"color",color1:t[0],color2:T.go(t[1])}},"r=":function(s,t){s.r=t},"rdt=":function(s,t){s.rdt=t},"rd=":function(s,t){s.rd=t},"rqt=":function(s,t){s.rqt=t},"rq=":function(s,t){s.rq=t},operator:function(s,t,a){return{type_:"operator",kind_:a||t}}}},a:{transitions:T.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:T.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:T.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(s){if(s.text_){var t={type_:"text",p1:s.text_};for(var a in s)delete s[a];return t}}}},pq:{transitions:T.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(s,t){return{type_:"state of aggregation subscript",p1:T.go(t,"o")}},"color-output":function(s,t){return{type_:"color",color1:t[0],color2:T.go(t[1],"pq")}}}},bd:{transitions:T.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(s,t){return{type_:"color",color1:t[0],color2:T.go(t[1],"bd")}}}},oxidation:{transitions:T.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(s,t){return{type_:"roman numeral",p1:t||""}}}},"tex-math":{transitions:T.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(s){if(s.o){var t={type_:"tex-math",p1:s.o};for(var a in s)delete s[a];return t}}}},"tex-math tight":{transitions:T.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(s,t){s.o=(s.o||"")+"{"+t+"}"},output:function(s){if(s.o){var t={type_:"tex-math",p1:s.o};for(var a in s)delete s[a];return t}}}},"9,9":{transitions:T.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:T.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(s,t){var a=[];return t[0]==="+-"||t[0]==="+/-"?a.push("\\pm "):t[0]&&a.push(t[0]),t[1]&&(T.concatArray(a,T.go(t[1],"pu-9,9")),t[2]&&(t[2].match(/[,.]/)?T.concatArray(a,T.go(t[2],"pu-9,9")):a.push(t[2])),t[3]=t[4]||t[3],t[3]&&(t[3]=t[3].trim(),t[3]==="e"||t[3].substr(0,1)==="*"?a.push({type_:"cdot"}):a.push({type_:"times"}))),t[3]&&a.push("10^{"+t[5]+"}"),a},"number^":function(s,t){var a=[];return t[0]==="+-"||t[0]==="+/-"?a.push("\\pm "):t[0]&&a.push(t[0]),T.concatArray(a,T.go(t[1],"pu-9,9")),a.push("^{"+t[2]+"}"),a},operator:function(s,t,a){return{type_:"operator",kind_:a||t}},space:function(){return{type_:"pu-space-1"}},output:function(s){var t,a=T.patterns.match_("{(...)}",s.d||"");a&&a.remainder===""&&(s.d=a.match_);var e=T.patterns.match_("{(...)}",s.q||"");if(e&&e.remainder===""&&(s.q=e.match_),s.d&&(s.d=s.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),s.d=s.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),s.q){s.q=s.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),s.q=s.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var n={d:T.go(s.d,"pu"),q:T.go(s.q,"pu")};s.o==="//"?t={type_:"pu-frac",p1:n.d,p2:n.q}:(t=n.d,n.d.length>1||n.q.length>1?t.push({type_:" / "}):t.push({type_:"/"}),T.concatArray(t,n.q))}else t=T.go(s.d,"pu-2");for(var l in s)delete s[l];return t}}},"pu-2":{transitions:T.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(s,t){s.rm+="^{"+t+"}"},space:function(){return{type_:"pu-space-2"}},output:function(s){var t=[];if(s.rm){var a=T.patterns.match_("{(...)}",s.rm||"");a&&a.remainder===""?t=T.go(a.match_,"pu"):t={type_:"rm",p1:s.rm}}for(var e in s)delete s[e];return t}}},"pu-9,9":{transitions:T.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(s){var t=[];if(s.text_=s.text_||"",s.text_.length>4){var a=s.text_.length%3;a===0&&(a=3);for(var e=s.text_.length-3;e>0;e-=3)t.push(s.text_.substr(e,3)),t.push({type_:"1000 separator"});t.push(s.text_.substr(0,a)),t.reverse()}else t.push(s.text_);for(var n in s)delete s[n];return t},"output-o":function(s){var t=[];if(s.text_=s.text_||"",s.text_.length>4){for(var a=s.text_.length-3,e=0;e<a;e+=3)t.push(s.text_.substr(e,3)),t.push({type_:"1000 separator"});t.push(s.text_.substr(e))}else t.push(s.text_);for(var n in s)delete s[n];return t}}}};var ls={go:function(s,t){if(!s)return"";for(var a="",e=!1,n=0;n<s.length;n++){var l=s[n];typeof l=="string"?a+=l:(a+=ls._go2(l),l.type_==="1st-level escape"&&(e=!0))}return!t&&!e&&a&&(a="{"+a+"}"),a},_goInner:function(s){return s&&ls.go(s,!0)},_go2:function(s){var t;switch(s.type_){case"chemfive":t="";var a={a:ls._goInner(s.a),b:ls._goInner(s.b),p:ls._goInner(s.p),o:ls._goInner(s.o),q:ls._goInner(s.q),d:ls._goInner(s.d)};a.a&&(a.a.match(/^[+\-]/)&&(a.a="{"+a.a+"}"),t+=a.a+"\\,"),(a.b||a.p)&&(t+="{\\vphantom{X}}",t+="^{\\hphantom{"+(a.b||"")+"}}_{\\hphantom{"+(a.p||"")+"}}",t+="{\\vphantom{X}}",t+="^{\\vphantom{2}\\mathllap{"+(a.b||"")+"}}",t+="_{\\vphantom{2}\\mathllap{"+(a.p||"")+"}}"),a.o&&(a.o.match(/^[+\-]/)&&(a.o="{"+a.o+"}"),t+=a.o),s.dType==="kv"?((a.d||a.q)&&(t+="{\\vphantom{X}}"),a.d&&(t+="^{"+a.d+"}"),a.q&&(t+="_{"+a.q+"}")):s.dType==="oxidation"?(a.d&&(t+="{\\vphantom{X}}",t+="^{"+a.d+"}"),a.q&&(t+="{{}}",t+="_{"+a.q+"}")):(a.q&&(t+="{{}}",t+="_{"+a.q+"}"),a.d&&(t+="{{}}",t+="^{"+a.d+"}"));break;case"rm":t="\\mathrm{"+s.p1+"}";break;case"text":s.p1.match(/[\^_]/)?(s.p1=s.p1.replace(" ","~").replace("-","\\text{-}"),t="\\mathrm{"+s.p1+"}"):t="\\text{"+s.p1+"}";break;case"roman numeral":t="\\mathrm{"+s.p1+"}";break;case"state of aggregation":t="\\mskip2mu "+ls._goInner(s.p1);break;case"state of aggregation subscript":t="\\mskip1mu "+ls._goInner(s.p1);break;case"bond":if(t=ls._getBond(s.kind_),!t)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+s.kind_+")"];break;case"frac":var e="\\frac{"+s.p1+"}{"+s.p2+"}";t="\\mathchoice{\\textstyle"+e+"}{"+e+"}{"+e+"}{"+e+"}";break;case"pu-frac":var n="\\frac{"+ls._goInner(s.p1)+"}{"+ls._goInner(s.p2)+"}";t="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"tex-math":t=s.p1+" ";break;case"frac-ce":t="\\frac{"+ls._goInner(s.p1)+"}{"+ls._goInner(s.p2)+"}";break;case"overset":t="\\overset{"+ls._goInner(s.p1)+"}{"+ls._goInner(s.p2)+"}";break;case"underset":t="\\underset{"+ls._goInner(s.p1)+"}{"+ls._goInner(s.p2)+"}";break;case"underbrace":t="\\underbrace{"+ls._goInner(s.p1)+"}_{"+ls._goInner(s.p2)+"}";break;case"color":t="{\\color{"+s.color1+"}{"+ls._goInner(s.color2)+"}}";break;case"color0":t="\\color{"+s.color+"}";break;case"arrow":var l={rd:ls._goInner(s.rd),rq:ls._goInner(s.rq)},o=ls._getArrow(s.r);l.rq&&(o+="[{\\rm "+l.rq+"}]"),l.rd?o+="{\\rm "+l.rd+"}":o+="{}",t=o;break;case"operator":t=ls._getOperator(s.kind_);break;case"1st-level escape":t=s.p1+" ";break;case"space":t=" ";break;case"entitySkip":t="~";break;case"pu-space-1":t="~";break;case"pu-space-2":t="\\mkern3mu ";break;case"1000 separator":t="\\mkern2mu ";break;case"commaDecimal":t="{,}";break;case"comma enumeration L":t="{"+s.p1+"}\\mkern6mu ";break;case"comma enumeration M":t="{"+s.p1+"}\\mkern3mu ";break;case"comma enumeration S":t="{"+s.p1+"}\\mkern1mu ";break;case"hyphen":t="\\text{-}";break;case"addition compound":t="\\,{\\cdot}\\,";break;case"electron dot":t="\\mkern1mu \\text{\\textbullet}\\mkern1mu ";break;case"KV x":t="{\\times}";break;case"prime":t="\\prime ";break;case"cdot":t="\\cdot ";break;case"tight cdot":t="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":t="\\times ";break;case"circa":t="{\\sim}";break;case"^":t="uparrow";break;case"v":t="downarrow";break;case"ellipsis":t="\\ldots ";break;case"/":t="/";break;case" / ":t="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return t},_getArrow:function(s){switch(s){case"->":return"\\yields";case"→":return"\\yields";case"⟶":return"\\yields";case"<-":return"\\yieldsLeft";case"<->":return"\\mesomerism";case"<-->":return"\\yieldsLeftRight";case"<=>":return"\\equilibrium";case"⇌":return"\\equilibrium";case"<=>>":return"\\equilibriumRight";case"<<=>":return"\\equilibriumLeft";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(s){switch(s){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripleDash}";case"~-":return"{\\tripleDashOverLine}";case"~=":return"{\\tripleDashOverDoubleLine}";case"~--":return"{\\tripleDashOverDoubleLine}";case"-~-":return"{\\tripleDashBetweenDoubleLine}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(s){switch(s){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}};c("\\darr","\\downarrow");c("\\dArr","\\Downarrow");c("\\Darr","\\Downarrow");c("\\lang","\\langle");c("\\rang","\\rangle");c("\\uarr","\\uparrow");c("\\uArr","\\Uparrow");c("\\Uarr","\\Uparrow");c("\\N","\\mathbb{N}");c("\\R","\\mathbb{R}");c("\\Z","\\mathbb{Z}");c("\\alef","\\aleph");c("\\alefsym","\\aleph");c("\\bull","\\bullet");c("\\clubs","\\clubsuit");c("\\cnums","\\mathbb{C}");c("\\Complex","\\mathbb{C}");c("\\Dagger","\\ddagger");c("\\diamonds","\\diamondsuit");c("\\empty","\\emptyset");c("\\exist","\\exists");c("\\harr","\\leftrightarrow");c("\\hArr","\\Leftrightarrow");c("\\Harr","\\Leftrightarrow");c("\\hearts","\\heartsuit");c("\\image","\\Im");c("\\infin","\\infty");c("\\isin","\\in");c("\\larr","\\leftarrow");c("\\lArr","\\Leftarrow");c("\\Larr","\\Leftarrow");c("\\lrarr","\\leftrightarrow");c("\\lrArr","\\Leftrightarrow");c("\\Lrarr","\\Leftrightarrow");c("\\natnums","\\mathbb{N}");c("\\plusmn","\\pm");c("\\rarr","\\rightarrow");c("\\rArr","\\Rightarrow");c("\\Rarr","\\Rightarrow");c("\\real","\\Re");c("\\reals","\\mathbb{R}");c("\\Reals","\\mathbb{R}");c("\\sdot","\\cdot");c("\\sect","\\S");c("\\spades","\\spadesuit");c("\\sub","\\subset");c("\\sube","\\subseteq");c("\\supe","\\supseteq");c("\\thetasym","\\vartheta");c("\\weierp","\\wp");c("\\quantity","{\\left\\{ #1 \\right\\}}");c("\\qty","{\\left\\{ #1 \\right\\}}");c("\\pqty","{\\left( #1 \\right)}");c("\\bqty","{\\left[ #1 \\right]}");c("\\vqty","{\\left\\vert #1 \\right\\vert}");c("\\Bqty","{\\left\\{ #1 \\right\\}}");c("\\absolutevalue","{\\left\\vert #1 \\right\\vert}");c("\\abs","{\\left\\vert #1 \\right\\vert}");c("\\norm","{\\left\\Vert #1 \\right\\Vert}");c("\\evaluated","{\\left.#1 \\right\\vert}");c("\\eval","{\\left.#1 \\right\\vert}");c("\\order","{\\mathcal{O} \\left( #1 \\right)}");c("\\commutator","{\\left[ #1 , #2 \\right]}");c("\\comm","{\\left[ #1 , #2 \\right]}");c("\\anticommutator","{\\left\\{ #1 , #2 \\right\\}}");c("\\acomm","{\\left\\{ #1 , #2 \\right\\}}");c("\\poissonbracket","{\\left\\{ #1 , #2 \\right\\}}");c("\\pb","{\\left\\{ #1 , #2 \\right\\}}");c("\\vectorbold","{\\boldsymbol{ #1 }}");c("\\vb","{\\boldsymbol{ #1 }}");c("\\vectorarrow","{\\vec{\\boldsymbol{ #1 }}}");c("\\va","{\\vec{\\boldsymbol{ #1 }}}");c("\\vectorunit","{{\\boldsymbol{\\hat{ #1 }}}}");c("\\vu","{{\\boldsymbol{\\hat{ #1 }}}}");c("\\dotproduct","\\mathbin{\\boldsymbol\\cdot}");c("\\vdot","{\\boldsymbol\\cdot}");c("\\crossproduct","\\mathbin{\\boldsymbol\\times}");c("\\cross","\\mathbin{\\boldsymbol\\times}");c("\\cp","\\mathbin{\\boldsymbol\\times}");c("\\gradient","{\\boldsymbol\\nabla}");c("\\grad","{\\boldsymbol\\nabla}");c("\\divergence","{\\grad\\vdot}");c("\\curl","{\\grad\\cross}");c("\\laplacian","\\nabla^2");c("\\tr","{\\operatorname{tr}}");c("\\Tr","{\\operatorname{Tr}}");c("\\rank","{\\operatorname{rank}}");c("\\erf","{\\operatorname{erf}}");c("\\Res","{\\operatorname{Res}}");c("\\principalvalue","{\\mathcal{P}}");c("\\pv","{\\mathcal{P}}");c("\\PV","{\\operatorname{P.V.}}");c("\\qqtext","{\\quad\\text{ #1 }\\quad}");c("\\qq","{\\quad\\text{ #1 }\\quad}");c("\\qcomma","{\\text{,}\\quad}");c("\\qc","{\\text{,}\\quad}");c("\\qcc","{\\quad\\text{c.c.}\\quad}");c("\\qif","{\\quad\\text{if}\\quad}");c("\\qthen","{\\quad\\text{then}\\quad}");c("\\qelse","{\\quad\\text{else}\\quad}");c("\\qotherwise","{\\quad\\text{otherwise}\\quad}");c("\\qunless","{\\quad\\text{unless}\\quad}");c("\\qgiven","{\\quad\\text{given}\\quad}");c("\\qusing","{\\quad\\text{using}\\quad}");c("\\qassume","{\\quad\\text{assume}\\quad}");c("\\qsince","{\\quad\\text{since}\\quad}");c("\\qlet","{\\quad\\text{let}\\quad}");c("\\qfor","{\\quad\\text{for}\\quad}");c("\\qall","{\\quad\\text{all}\\quad}");c("\\qeven","{\\quad\\text{even}\\quad}");c("\\qodd","{\\quad\\text{odd}\\quad}");c("\\qinteger","{\\quad\\text{integer}\\quad}");c("\\qand","{\\quad\\text{and}\\quad}");c("\\qor","{\\quad\\text{or}\\quad}");c("\\qas","{\\quad\\text{as}\\quad}");c("\\qin","{\\quad\\text{in}\\quad}");c("\\differential","{\\text{d}}");c("\\dd","{\\text{d}}");c("\\derivative","{\\frac{\\text{d}{ #1 }}{\\text{d}{ #2 }}}");c("\\dv","{\\frac{\\text{d}{ #1 }}{\\text{d}{ #2 }}}");c("\\partialderivative","{\\frac{\\partial{ #1 }}{\\partial{ #2 }}}");c("\\variation","{\\delta}");c("\\var","{\\delta}");c("\\functionalderivative","{\\frac{\\delta{ #1 }}{\\delta{ #2 }}}");c("\\fdv","{\\frac{\\delta{ #1 }}{\\delta{ #2 }}}");c("\\innerproduct","{\\left\\langle {#1} \\mid { #2} \\right\\rangle}");c("\\outerproduct","{\\left\\vert { #1 } \\right\\rangle\\left\\langle { #2} \\right\\vert}");c("\\dyad","{\\left\\vert { #1 } \\right\\rangle\\left\\langle { #2} \\right\\vert}");c("\\ketbra","{\\left\\vert { #1 } \\right\\rangle\\left\\langle { #2} \\right\\vert}");c("\\op","{\\left\\vert { #1 } \\right\\rangle\\left\\langle { #2} \\right\\vert}");c("\\expectationvalue","{\\left\\langle {#1 } \\right\\rangle}");c("\\expval","{\\left\\langle {#1 } \\right\\rangle}");c("\\ev","{\\left\\langle {#1 } \\right\\rangle}");c("\\matrixelement","{\\left\\langle{ #1 }\\right\\vert{ #2 }\\left\\vert{#3}\\right\\rangle}");c("\\matrixel","{\\left\\langle{ #1 }\\right\\vert{ #2 }\\left\\vert{#3}\\right\\rangle}");c("\\mel","{\\left\\langle{ #1 }\\right\\vert{ #2 }\\left\\vert{#3}\\right\\rangle}");function Un(s){const t=[];s.consumeSpaces();let a=s.fetch().text;for(a==="\\relax"&&(s.consume(),s.consumeSpaces(),a=s.fetch().text);a==="\\hline"||a==="\\hdashline";)s.consume(),t.push(a==="\\hdashline"),s.consumeSpaces(),a=s.fetch().text;return t}const pt=s=>{if(!s.parser.settings.displayMode)throw new O(`{${s.envName}} can be used only in display mode.`)},So=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/,Pr=s=>{let t=s.get("\\arraystretch");typeof t!="string"&&(t=Ae(t.tokens)),t=isNaN(t)?null:Number(t);let a=s.get("\\arraycolsep");typeof a!="string"&&(a=Ae(a.tokens));const e=So.exec(a),n=e?{number:+(e[1]+e[2]),unit:e[3]}:null;return[t,n]},Co=(s,t,a)=>{let e;const n=s.tags.shift();if(n)if(n.body)e=Ps(n.body,t,!0),e.classes=["tml-tag"];else return e=new M.MathNode("mtext",[],[]),e;else{if(s.envClasses.includes("multline")&&(s.leqno&&a!==0||!s.leqno&&a!==s.body.length-1))return e=new M.MathNode("mtext",[],[]),e;e=new M.MathNode("mtext",[new Zl(["tml-eqn"])])}return e};function Xs(s,{cols:t,envClasses:a,addEqnNum:e,singleRow:n,emptySingleRow:l,maxNumCols:o,leqno:p,arraystretch:d,arraycolsep:g},A){s.gullet.beginGroup(),n||s.gullet.macros.set("\\cr","\\\\\\relax"),e&&(s.gullet.macros.set("\\tag","\\@ifstar\\envtag@literal\\envtag@paren"),s.gullet.macros.set("\\envtag@paren","\\env@tag{{(\\text{#1})}}"),s.gullet.macros.set("\\envtag@literal","\\env@tag{\\text{#1}}"),s.gullet.macros.set("\\notag","\\env@notag"),s.gullet.macros.set("\\nonumber","\\env@notag")),s.gullet.beginGroup();let N=[];const v=[N],I=[],Y=[];let V;const es=[];for(es.push(Un(s));;){let q=s.parseExpression(!1,n?"\\end":"\\\\");if(e&&!V){for(let F=0;F<q.length;F++)if(q[F].type==="envTag"||q[F].type==="noTag"){V=q[F].type==="envTag"?q.splice(F,1)[0].body.body[0]:{body:null};break}}s.gullet.endGroup(),s.gullet.beginGroup(),q={type:"ordgroup",mode:s.mode,body:q,semisimple:!0},N.push(q);const z=s.fetch().text;if(z==="&"){if(o&&N.length===o)if(a.includes("array")){if(s.settings.strict)throw new O("Too few columns specified in the {array} column argument.",s.nextToken)}else throw o===2?new O("The split environment accepts no more than two columns",s.nextToken):new O("The equation environment accepts only one column",s.nextToken);s.consume()}else if(z==="\\end"){N.length===1&&q.body.length===0&&(v.length>1||!l)&&v.pop(),es.length<v.length+1&&es.push([]);break}else if(z==="\\\\"){s.consume();let F;s.gullet.future().text!==" "&&(F=s.parseSizeGroup(!0)),I.push(F?F.value:null),Y.push(V),es.push(Un(s)),N=[],V=null,v.push(N)}else throw new O("Expected & or \\\\ or \\cr or \\end",s.nextToken)}return s.gullet.endGroup(),s.gullet.endGroup(),Y.push(V),{type:"array",mode:s.mode,body:v,cols:t,rowGaps:I,hLinesBeforeRow:es,envClasses:a,addEqnNum:e,scriptLevel:A,tags:Y,leqno:p,arraystretch:d,arraycolsep:g}}function zr(s){return s.slice(0,1)==="d"?"display":"text"}const qo={c:"center ",l:"left ",r:"right "},Hn=s=>{const t=new M.MathNode("mtd",[]);return t.style={padding:"0",width:"50%"},s.envClasses.includes("multline")&&(t.style.width="7.5%"),t},As=function(s,t){const a=[],e=s.body.length,n=s.hLinesBeforeRow;for(let p=0;p<e;p++){const d=s.body[p],g=[],A=s.scriptLevel==="text"?hs.TEXT:s.scriptLevel==="script"?hs.SCRIPT:hs.DISPLAY;for(let v=0;v<d.length;v++){const I=new M.MathNode("mtd",[is(d[v],t.withLevel(A))]);if(s.envClasses.includes("multline")){const Y=p===0?"left":p===e-1?"right":"center";I.setAttribute("columnalign",Y),Y!=="center"&&I.classes.push("tml-"+Y)}g.push(I)}if(s.addEqnNum){g.unshift(Hn(s)),g.push(Hn(s));const v=Co(s,t.withLevel(A),p);s.leqno?(g[0].children.push(v),g[0].classes.push("tml-left")):(g[g.length-1].children.push(v),g[g.length-1].classes.push("tml-right"))}const N=new M.MathNode("mtr",g,[]);p===0&&n[0].length>0&&(n[0].length===2?N.children.forEach(v=>{v.style.borderTop="0.15em double"}):N.children.forEach(v=>{v.style.borderTop=n[0][0]?"0.06em dashed":"0.06em solid"})),n[p+1].length>0&&(n[p+1].length===2?N.children.forEach(v=>{v.style.borderBottom="0.15em double"}):N.children.forEach(v=>{v.style.borderBottom=n[p+1][0]?"0.06em dashed":"0.06em solid"})),a.push(N)}if(s.envClasses.length>0){let p=s.envClasses.includes("jot")?"0.7":s.envClasses.includes("small")?"0.35":"0.5";s.arraystretch&&s.arraystretch!==1&&(p=String(1.4*s.arraystretch-.8));let d=s.envClasses.includes("abut")||s.envClasses.includes("cases")?"0":s.envClasses.includes("small")?"0.1389":s.envClasses.includes("cd")?"0.25":"0.4",g="em";if(s.arraycolsep){const I=qs(s.arraycolsep,t);d=I.number,g=I.unit}const A=a.length===0?0:a[0].children.length,N=(I,Y)=>I===0&&Y===0||I===A-1&&Y===1?"0":s.envClasses[0]!=="align"?d:Y===1?"0":s.addEqnNum?I%2?"1":"0":I%2?"0":"1";for(let I=0;I<a.length;I++)for(let Y=0;Y<a[I].children.length;Y++)a[I].children[Y].style.padding=`${p}ex ${N(Y,1)}${g} ${p}ex ${N(Y,0)}${g}`;const v=s.envClasses.includes("align")||s.envClasses.includes("alignat");for(let I=0;I<a.length;I++){const Y=a[I];if(v){for(let V=0;V<Y.children.length;V++)Y.children[V].classes=["tml-"+(V%2?"left":"right")];if(s.addEqnNum){const V=s.leqno?0:Y.children.length-1;Y.children[V].classes=["tml-"+(s.leqno?"left":"right")]}}if(Y.children.length>1&&s.envClasses.includes("cases")&&(Y.children[1].style.padding=Y.children[1].style.padding.replace(/0em$/,"1em")),s.envClasses.includes("cases")||s.envClasses.includes("subarray"))for(const V of Y.children)V.classes.push("tml-left")}}else for(let p=0;p<a.length;p++)a[p].children[0].style.paddingLeft="0em",a[p].children.length===a[0].children.length&&(a[p].children[a[p].children.length-1].style.paddingRight="0em");let l=new M.MathNode("mtable",a);s.scriptLevel==="display"&&l.setAttribute("displaystyle","true"),(s.addEqnNum||s.envClasses.includes("multline"))&&(l.style.width="100%");let o="";if(s.cols&&s.cols.length>0){const p=s.cols;let d=!1,g=0,A=p.length;for(;p[g].type==="separator";)g+=1;for(;p[A-1].type==="separator";)A-=1;if(p[0].type==="separator"){const v=p[1].type==="separator"?"0.15em double":p[0].separator==="|"?"0.06em solid ":"0.06em dashed ";for(const I of l.children)I.children[0].style.borderLeft=v}let N=s.addEqnNum?0:-1;for(let v=g;v<A;v++)if(p[v].type==="align"){const I=qo[p[v].align];o+=I,N+=1;for(const Y of l.children)I.trim()!=="center"&&N<Y.children.length&&(Y.children[N].classes=["tml-"+I.trim()]);d=!0}else if(p[v].type==="separator"){if(d){const I=p[v+1].type==="separator"?"0.15em double":p[v].separator==="|"?"0.06em solid":"0.06em dashed";for(const Y of l.children)N<Y.children.length&&(Y.children[N].style.borderRight=I)}d=!1}if(p[p.length-1].type==="separator"){const v=p[p.length-2].type==="separator"?"0.15em double":p[p.length-1].separator==="|"?"0.06em solid":"0.06em dashed";for(const I of l.children)I.children[I.children.length-1].style.borderRight=v,I.children[I.children.length-1].style.paddingRight="0.4em"}}return s.addEqnNum&&(o="left "+(o.length>0?o:"center ")+"right "),o&&l.setAttribute("columnalign",o.trim()),s.envClasses.includes("small")&&(l=new M.MathNode("mstyle",[l]),l.setAttribute("scriptlevel","1")),l},Or=function(s,t){s.envName.indexOf("ed")===-1&&pt(s);const a=[],e=Xs(s.parser,{cols:a,addEqnNum:s.envName==="align"||s.envName==="alignat",emptySingleRow:!0,envClasses:["abut","jot"],maxNumCols:s.envName==="split"?2:void 0,leqno:s.parser.settings.leqno},"display");let n,l=0;const o=s.envName.indexOf("at")>-1;if(t[0]&&o){let p="";for(let d=0;d<t[0].body.length;d++){const g=G(t[0].body[d],"textord");p+=g.text}if(isNaN(p))throw new O("The alignat enviroment requires a numeric first argument.");n=Number(p),l=n*2}e.body.forEach(function(p){if(o){const d=p.length/2;if(n<d)throw new O(`Too many math in a row: expected ${n}, but got ${d}`,p[0])}else l<p.length&&(l=p.length)});for(let p=0;p<l;++p){let d="r";p%2===1&&(d="l"),a[p]={type:"align",align:d}}return s.envName==="split"||(o?e.envClasses.push("alignat"):e.envClasses[0]="align"),e};_s({type:"array",names:["array","darray"],props:{numArgs:1},handler(s,t){const a=(Lt(t[0])?[t[0]]:G(t[0],"ordgroup").body).map(function(o){const p=Te(o).text;if("lcr".indexOf(p)!==-1)return{type:"align",align:p};if(p==="|")return{type:"separator",separator:"|"};if(p===":")return{type:"separator",separator:":"};throw new O("Unknown column alignment: "+p,o)}),[e,n]=Pr(s.parser.gullet.macros),l={cols:a,envClasses:["array"],maxNumCols:a.length,arraystretch:e,arraycolsep:n};return Xs(s.parser,l,zr(s.envName))},mathmlBuilder:As});_s({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(s){const t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[s.envName.replace("*","")];let a="c";const e={envClasses:[],cols:[]};if(s.envName.charAt(s.envName.length-1)==="*"){const p=s.parser;if(p.consumeSpaces(),p.fetch().text==="["){if(p.consume(),p.consumeSpaces(),a=p.fetch().text,"lcr".indexOf(a)===-1)throw new O("Expected l or c or r",p.nextToken);p.consume(),p.consumeSpaces(),p.expect("]"),p.consume(),e.cols=[]}}const n=Xs(s.parser,e,"text");n.cols=new Array(n.body[0].length).fill({type:"align",align:a});const[l,o]=Pr(s.parser.gullet.macros);return t?{type:"leftright",mode:s.mode,body:[n],left:t[0],right:t[1],rightColor:void 0,arraystretch:l,arraycolsep:o}:n},mathmlBuilder:As});_s({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(s){const t={type:"small"},a=Xs(s.parser,t,"script");return a.envClasses=["small"],a},mathmlBuilder:As});_s({type:"array",names:["subarray"],props:{numArgs:1},handler(s,t){const a=(Lt(t[0])?[t[0]]:G(t[0],"ordgroup").body).map(function(n){const l=Te(n).text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new O("Unknown column alignment: "+l,n)});if(a.length>1)throw new O("{subarray} can contain only one column");let e={cols:a,envClasses:["small"]};if(e=Xs(s.parser,e,"script"),e.body.length>0&&e.body[0].length>1)throw new O("{subarray} can contain only one column");return e},mathmlBuilder:As});_s({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(s){const t={cols:[],envClasses:["cases"]},a=Xs(s.parser,t,zr(s.envName));return{type:"leftright",mode:s.mode,body:[a],left:s.envName.indexOf("r")>-1?".":"\\{",right:s.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},mathmlBuilder:As});_s({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Or,mathmlBuilder:As});_s({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Or,mathmlBuilder:As});_s({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(s){s.envName!=="gathered"&&pt(s);const t={cols:[],envClasses:["abut","jot"],addEqnNum:s.envName==="gather",emptySingleRow:!0,leqno:s.parser.settings.leqno};return Xs(s.parser,t,"display")},mathmlBuilder:As});_s({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(s){pt(s);const t={addEqnNum:s.envName==="equation",emptySingleRow:!0,singleRow:!0,maxNumCols:1,envClasses:["align"],leqno:s.parser.settings.leqno};return Xs(s.parser,t,"display")},mathmlBuilder:As});_s({type:"array",names:["multline","multline*"],props:{numArgs:0},handler(s){pt(s);const t={addEqnNum:s.envName==="multline",maxNumCols:1,envClasses:["jot","multline"],leqno:s.parser.settings.leqno};return Xs(s.parser,t,"display")},mathmlBuilder:As});_s({type:"array",names:["CD"],props:{numArgs:0},handler(s){return pt(s),bo(s.parser)},mathmlBuilder:As});P({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(s,t){throw new O(`${s.funcName} valid only within array environment`)}});const Zn=Lr;P({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler({parser:s,funcName:t},a){const e=a[0];if(e.type!=="ordgroup")throw new O("Invalid environment name",e);let n="";for(let l=0;l<e.body.length;++l)n+=G(e.body[l],"textord").text;if(t==="\\begin"){if(!Object.prototype.hasOwnProperty.call(Zn,n))throw new O("No such environment: "+n,e);const l=Zn[n],{args:o,optArgs:p}=s.parseArguments("\\begin{"+n+"}",l),d={mode:s.mode,envName:n,parser:s},g=l.handler(d,o,p);s.expect("\\end",!1);const A=s.nextToken,N=G(s.parseFunction(),"environment");if(N.name!==n)throw new O(`Mismatch: \\begin{${n}} matched by \\end{${N.name}}`,A);return g}return{type:"environment",mode:s.mode,name:n,nameGroup:e}}});P({type:"envTag",names:["\\env@tag"],props:{numArgs:1,argTypes:["math"]},handler({parser:s},t){return{type:"envTag",mode:s.mode,body:t[0]}},mathmlBuilder(s,t){return new M.MathNode("mrow")}});P({type:"noTag",names:["\\env@notag"],props:{numArgs:0},handler({parser:s}){return{type:"noTag",mode:s.mode}},mathmlBuilder(s,t){return new M.MathNode("mrow")}});const No=(s,t)=>{if(t!=="mathrm"||s.body.type!=="ordgroup"||s.body.body.length===1||s.body.body[0].type!=="mathord")return!1;for(let a=1;a<s.body.body.length;a++){const e=s.body.body[a].type;if(!(e==="mathord"||e==="textord"&&!isNaN(s.body.body[a].text)))return!1}return!0},Br=(s,t)=>{const a=s.font,e=t.withFont(a),n=is(s.body,e);if(n.children.length===0)return n;if(a==="boldsymbol"&&["mo","mpadded","mrow"].includes(n.type))return n.style.fontWeight="bold",n;if(No(s,a)){const p=n.children[0].children[0];delete p.attributes.mathvariant;for(let g=1;g<n.children.length;g++)p.children[0].text+=n.children[g].type==="mn"?n.children[g].children[0].text:n.children[g].children[0].children[0].text;const d=new M.MathNode("mtext",new M.TextNode("​"));return new M.MathNode("mrow",[d,p])}let l=n.children[0].type==="mo";for(let p=1;p<n.children.length;p++)n.children[p].type==="mo"&&a==="boldsymbol"&&(n.children[p].style.fontWeight="bold"),n.children[p].type!=="mi"&&(l=!1),(n.children[p].attributes&&n.children[p].attributes.mathvariant||"")!=="normal"&&(l=!1);if(!l)return n;const o=n.children[0];for(let p=1;p<n.children.length;p++)o.children.push(n.children[p].children[0]);if(o.attributes.mathvariant&&o.attributes.mathvariant==="normal"){const p=new M.MathNode("mtext",new M.TextNode("​"));return new M.MathNode("mrow",[p,o])}return o},Wn={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};P({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\up@greek","\\boldsymbol","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bm","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:({parser:s,funcName:t},a)=>{const e=nt(a[0]);let n=t;return n in Wn&&(n=Wn[n]),{type:"font",mode:s.mode,font:n.slice(1),body:e}},mathmlBuilder:Br});P({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:({parser:s,funcName:t,breakOnTokenText:a},e)=>{const{mode:n}=s,l=s.parseExpression(!0,a,!0),o=`math${t.slice(1)}`;return{type:"font",mode:n,font:o,body:{type:"ordgroup",mode:s.mode,body:l}}},mathmlBuilder:Br});const Qn=["display","text","script","scriptscript"],To={auto:-1,display:0,text:0,script:1,scriptscript:2},Pe=(s,t)=>{const a=s.scriptLevel==="auto"?t.incrementLevel():s.scriptLevel==="display"?t.withLevel(hs.TEXT):s.scriptLevel==="text"?t.withLevel(hs.SCRIPT):t.withLevel(hs.SCRIPTSCRIPT);let e=new M.MathNode("mfrac",[is(s.numer,a),is(s.denom,a)]);if(!s.hasBarLine)e.setAttribute("linethickness","0px");else if(s.barSize){const n=qs(s.barSize,t);e.setAttribute("linethickness",n.number+n.unit)}if(s.leftDelim!=null||s.rightDelim!=null){const n=[];if(s.leftDelim!=null){const l=new M.MathNode("mo",[new M.TextNode(s.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),n.push(l)}if(n.push(e),s.rightDelim!=null){const l=new M.MathNode("mo",[new M.TextNode(s.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),n.push(l)}e=Ne(n)}return s.scriptLevel!=="auto"&&(e=new M.MathNode("mstyle",[e]),e.setAttribute("displaystyle",String(s.scriptLevel==="display")),e.setAttribute("scriptlevel",To[s.scriptLevel])),e};P({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:({parser:s,funcName:t},a)=>{const e=a[0],n=a[1];let l=!1,o=null,p=null,d="auto";switch(t){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o="(",p=")";break;case"\\\\bracefrac":o="\\{",p="\\}";break;case"\\\\brackfrac":o="[",p="]";break;default:throw new Error("Unrecognized genfrac command")}switch(t){case"\\dfrac":case"\\dbinom":d="display";break;case"\\tfrac":case"\\tbinom":d="text";break}return{type:"genfrac",mode:s.mode,continued:!1,numer:e,denom:n,hasBarLine:l,leftDelim:o,rightDelim:p,scriptLevel:d,barSize:null}},mathmlBuilder:Pe});P({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:({parser:s,funcName:t},a)=>{const e=a[0],n=a[1];return{type:"genfrac",mode:s.mode,continued:!0,numer:e,denom:n,hasBarLine:!0,leftDelim:null,rightDelim:null,scriptLevel:"display",barSize:null}}});P({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler({parser:s,funcName:t,token:a}){let e;switch(t){case"\\over":e="\\frac";break;case"\\choose":e="\\binom";break;case"\\atop":e="\\\\atopfrac";break;case"\\brace":e="\\\\bracefrac";break;case"\\brack":e="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:s.mode,replaceWith:e,token:a}}});const Kn=function(s){let t=null;return s.length>0&&(t=s,t=t==="."?null:t),t};P({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler({parser:s},t){const a=t[4],e=t[5],n=nt(t[0]),l=n.type==="atom"&&n.family==="open"?Kn(n.text):null,o=nt(t[1]),p=o.type==="atom"&&o.family==="close"?Kn(o.text):null,d=G(t[2],"size");let g,A=null;d.isBlank?g=!0:(A=d.value,g=A.number>0);let N="auto",v=t[3];if(v.type==="ordgroup"){if(v.body.length>0){const I=G(v.body[0],"textord");N=Qn[Number(I.text)]}}else v=G(v,"textord"),N=Qn[Number(v.text)];return{type:"genfrac",mode:s.mode,numer:a,denom:e,continued:!1,hasBarLine:g,barSize:A,leftDelim:l,rightDelim:p,scriptLevel:N}},mathmlBuilder:Pe});P({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler({parser:s,funcName:t,token:a},e){return{type:"infix",mode:s.mode,replaceWith:"\\\\abovefrac",barSize:G(e[0],"size").value,token:a}}});P({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:({parser:s,funcName:t},a)=>{const e=a[0],n=jl(G(a[1],"infix").barSize),l=a[2],o=n.number>0;return{type:"genfrac",mode:s.mode,numer:e,denom:l,continued:!1,hasBarLine:o,barSize:n,leftDelim:null,rightDelim:null,scriptLevel:"auto"}},mathmlBuilder:Pe});P({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["hbox"],allowedInArgument:!0,allowedInText:!1},handler({parser:s},t){return{type:"hbox",mode:s.mode,body:ps(t[0])}},mathmlBuilder(s,t){const a=t.withLevel(hs.TEXT),e=Ps(s.body,a);return Ar(e)}});const Lo=(s,t)=>{const a=Tt.mathMLnode(s.label);return a.style["math-depth"]=0,new M.MathNode(s.isOver?"mover":"munder",[is(s.base,t),a])};P({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler({parser:s,funcName:t},a){return{type:"horizBrace",mode:s.mode,label:t,isOver:/^\\over/.test(t),base:a[0]}},mathmlBuilder:Lo});P({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:({parser:s,token:t},a)=>{const e=a[1],n=G(a[0],"url").url;if(!s.settings.isTrusted({command:"\\href",url:n}))throw new O('Function "\\href" is not trusted',t);return{type:"href",mode:s.mode,href:n,body:ps(e)}},mathmlBuilder:(s,t)=>{let a=Ps(s.body,t);return a instanceof vs||(a=new vs("mrow",[a])),a.setAttribute("href",s.href),a}});P({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:({parser:s,token:t},a)=>{const e=G(a[0],"url").url;if(!s.settings.isTrusted({command:"\\url",url:e}))throw new O('Function "\\url" is not trusted',t);const n=[];for(let o=0;o<e.length;o++){let p=e[o];p==="~"&&(p="\\textasciitilde"),n.push({type:"textord",mode:"text",text:p})}const l={type:"text",mode:s.mode,font:"\\texttt",body:n};return{type:"href",mode:s.mode,href:e,body:ps(l)}}});P({type:"html",names:["\\class","\\id","\\style","\\data"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:({parser:s,funcName:t,token:a},e)=>{const n=G(e[0],"raw").string,l=e[1];if(s.settings.strict)throw new O(`Function "${t}" is disabled in strict mode`,a);let o;const p={};switch(t){case"\\class":p.class=n,o={command:"\\class",class:n};break;case"\\id":p.id=n,o={command:"\\id",id:n};break;case"\\style":p.style=n,o={command:"\\style",style:n};break;case"\\data":{const d=n.split(",");for(let g=0;g<d.length;g++){const A=d[g].split("=");if(A.length!==2)throw new O("Error parsing key-value for \\data");p["data-"+A[0].trim()]=A[1].trim()}o={command:"\\data",attributes:p};break}default:throw new Error("Unrecognized html command")}if(!s.settings.isTrusted(o))throw new O(`Function "${t}" is not trusted`,a);return{type:"html",mode:s.mode,attributes:p,body:ps(l)}},mathmlBuilder:(s,t)=>{const a=Ps(s.body,t),e=[];s.attributes.class&&e.push(...s.attributes.class.trim().split(/\s+/)),a.classes=e;for(const n in s.attributes)n!=="class"&&Object.prototype.hasOwnProperty.call(s.attributes,n)&&a.setAttribute(n,s.attributes[n]);return a}});const le=function(s){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(s))return{number:+s,unit:"bp"};{const t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(s);if(!t)throw new O("Invalid size: '"+s+"' in \\includegraphics");const a={number:+(t[1]+t[2]),unit:t[3]};if(!mo(a))throw new O("Invalid unit: '"+a.unit+"' in \\includegraphics.");return a}};P({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:({parser:s,token:t},a,e)=>{let n={number:0,unit:"em"},l={number:.9,unit:"em"},o={number:0,unit:"em"},p="";if(e[0]){const g=G(e[0],"raw").string.split(",");for(let A=0;A<g.length;A++){const N=g[A].split("=");if(N.length===2){const v=N[1].trim();switch(N[0].trim()){case"alt":p=v;break;case"width":n=le(v);break;case"height":l=le(v);break;case"totalheight":o=le(v);break;default:throw new O("Invalid key: '"+N[0]+"' in \\includegraphics.")}}}}const d=G(a[0],"url").url;if(p===""&&(p=d,p=p.replace(/^.*[\\/]/,""),p=p.substring(0,p.lastIndexOf("."))),!s.settings.isTrusted({command:"\\includegraphics",url:d}))throw new O('Function "\\includegraphics" is not trusted',t);return{type:"includegraphics",mode:s.mode,alt:p,width:n,height:l,totalheight:o,src:d}},mathmlBuilder:(s,t)=>{const a=qs(s.height,t),e={number:0,unit:"em"};s.totalheight.number>0&&s.totalheight.unit===a.unit&&s.totalheight.number>a.number&&(e.number=s.totalheight.number-a.number,e.unit=a.unit);let n=0;s.width.number>0&&(n=qs(s.width,t));const l={height:a.number+e.number+"em"};n.number>0&&(l.width=n.number+n.unit),e.number>0&&(l.verticalAlign=-e.number+e.unit);const o=new Wl(s.src,s.alt,l);return o.height=a,o.depth=e,new M.MathNode("mtext",[o])}});P({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler({parser:s,funcName:t,token:a},e){const n=G(e[0],"size");if(s.settings.strict){const l=t[1]==="m",o=n.value.unit==="mu";if(l){if(!o)throw new O(`LaTeX's ${t} supports only mu units, not ${n.value.unit} units`,a);if(s.mode!=="math")throw new O(`LaTeX's ${t} works only in math mode`,a)}else if(o)throw new O(`LaTeX's ${t} doesn't support mu units`,a)}return{type:"kern",mode:s.mode,dimension:n.value}},mathmlBuilder(s,t){const a=qs(s.dimension,t),e=a.unit==="em"?$r(a.number):"";if(s.mode==="text"&&e.length>0){const n=new M.TextNode(e);return new M.MathNode("mtext",[n])}else{const n=new M.MathNode("mspace");return n.setAttribute("width",a.number+a.unit),a.number<0&&(n.style.marginLeft=a.number+a.unit),n}}});const $r=function(s){return s>=.05555&&s<=.05556?" ":s>=.1666&&s<=.1667?" ":s>=.2222&&s<=.2223?" ":s>=.2777&&s<=.2778?"  ":""},Dr=/[^A-Za-z_0-9-]/g;P({type:"label",names:["\\label"],props:{numArgs:1,argTypes:["raw"]},handler({parser:s},t){return{type:"label",mode:s.mode,string:t[0].string.replace(Dr,"")}},mathmlBuilder(s,t){const a=new M.MathNode("mrow",[],["tml-label"]);return s.string.length>0&&a.setAttribute("id",s.string),a}});const Io=["\\clap","\\llap","\\rlap"];P({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap","\\clap","\\llap","\\rlap"],props:{numArgs:1,allowedInText:!0},handler:({parser:s,funcName:t,token:a},e)=>{if(Io.includes(t)){if(s.settings.strict&&s.mode!=="text")throw new O(`{${t}} can be used only in text mode.
 Try \\math${t.slice(1)}`,a);t=t.slice(1)}else t=t.slice(5);const n=e[0];return{type:"lap",mode:s.mode,alignment:t,body:n}},mathmlBuilder:(s,t)=>{let a;if(s.alignment==="llap"){const l=xs(ps(s.body),t),o=new M.MathNode("mphantom",l);a=new M.MathNode("mpadded",[o]),a.setAttribute("width","0px")}const e=is(s.body,t);let n;if(s.alignment==="llap"?(e.style.position="absolute",e.style.right="0",e.style.bottom="0",n=new M.MathNode("mpadded",[a,e])):n=new M.MathNode("mpadded",[e]),s.alignment==="rlap")s.body.body.length>0&&s.body.body[0].type==="genfrac"&&n.setAttribute("lspace","0.16667em");else{const l=s.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",l+"width"),s.alignment==="llap"?n.style.position="relative":(n.style.display="flex",n.style.justifyContent="center")}return n.setAttribute("width","0px"),n}});P({type:"ordgroup",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler({funcName:s,parser:t},a){const e=t.mode;t.switchMode("math");const n=s==="\\("?"\\)":"$",l=t.parseExpression(!1,n);return t.expect(n),t.switchMode(e),{type:"ordgroup",mode:t.mode,body:l}}});P({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(s,t){throw new O(`Mismatched ${s.funcName}`,t)}});const Xo=(s,t)=>{switch(t.level){case hs.DISPLAY:return s.display;case hs.TEXT:return s.text;case hs.SCRIPT:return s.script;case hs.SCRIPTSCRIPT:return s.scriptscript;default:return s.text}};P({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:({parser:s},t)=>({type:"mathchoice",mode:s.mode,display:ps(t[0]),text:ps(t[1]),script:ps(t[2]),scriptscript:ps(t[3])}),mathmlBuilder:(s,t)=>{const a=Xo(s,t);return Ps(a,t)}});const Eo=["text","textord","mathord","atom"],$s=s=>{const t=new M.MathNode("mspace");return t.setAttribute("width",s+"em"),t};function Yr(s,t){let a;const e=xs(s.body,t);if(s.mclass==="minner")a=new M.MathNode("mpadded",e);else if(s.mclass==="mord")s.isCharacterBox||e[0].type==="mathord"?(a=e[0],a.type="mi",a.children.length===1&&a.children[0].text&&a.children[0].text==="∇"&&a.setAttribute("mathvariant","normal")):a=new M.MathNode("mi",e);else{a=new M.MathNode("mrow",e),s.mustPromote?(a=e[0],a.type="mo",s.isCharacterBox&&s.body[0].text&&/[A-Za-z]/.test(s.body[0].text)&&a.setAttribute("mathvariant","italic")):a=new M.MathNode("mrow",e);const n=t.level<2;a.type==="mrow"?n&&(s.mclass==="mbin"?(a.children.unshift($s(.2222)),a.children.push($s(.2222))):s.mclass==="mrel"?(a.children.unshift($s(.2778)),a.children.push($s(.2778))):s.mclass==="mpunct"?a.children.push($s(.1667)):s.mclass==="minner"&&(a.children.unshift($s(.0556)),a.children.push($s(.0556)))):s.mclass==="mbin"?(a.attributes.lspace=n?"0.2222em":"0",a.attributes.rspace=n?"0.2222em":"0"):s.mclass==="mrel"?(a.attributes.lspace=n?"0.2778em":"0",a.attributes.rspace=n?"0.2778em":"0"):s.mclass==="mpunct"?(a.attributes.lspace="0em",a.attributes.rspace=n?"0.1667em":"0"):s.mclass==="mopen"||s.mclass==="mclose"?(a.attributes.lspace="0em",a.attributes.rspace="0em"):s.mclass==="minner"&&n&&(a.attributes.lspace="0.0556em",a.attributes.width="+0.1111em"),s.mclass==="mopen"||s.mclass==="mclose"||(delete a.attributes.stretchy,delete a.attributes.form)}return a}P({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler({parser:s,funcName:t},a){const e=a[0],n=ds.isCharacterBox(e);let l=!0;const o={type:"mathord",text:"",mode:s.mode},p=e.body?e.body:[e];for(const d of p)if(Eo.includes(d.type))bs[s.mode][d.text]?o.text+=bs[s.mode][d.text].replace:d.text?o.text+=d.text:d.body&&d.body.map(g=>{o.text+=g.text});else{l=!1;break}return{type:"mclass",mode:s.mode,mclass:"m"+t.slice(5),body:ps(l?o:e),isCharacterBox:n,mustPromote:l}},mathmlBuilder:Yr});const Po=s=>{const t=s.type==="ordgroup"&&s.body.length?s.body[0]:s;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};P({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler({parser:s},t){return{type:"mclass",mode:s.mode,mclass:Po(t[0]),body:ps(t[1]),isCharacterBox:ds.isCharacterBox(t[1])}}});P({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler({parser:s,funcName:t},a){const e=a[1],n=a[0],l={type:"op",mode:e.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,stack:!0,suppressBaseShift:t!=="\\stackrel",body:ps(e)};return{type:"supsub",mode:n.mode,base:l,sup:t==="\\underset"?null:n,sub:t==="\\underset"?n:null}},mathmlBuilder:Yr});const vt=(s,t,a)=>{if(!s)return a;const e=is(s,t);return e.type==="mrow"&&e.children.length===0?a:e};P({type:"multiscript",names:["\\sideset","\\pres@cript"],props:{numArgs:3},handler({parser:s,funcName:t,token:a},e){if(e[2].body.length===0)throw new O(t+"cannot parse an empty base.");const n=e[2].body[0];if(s.settings.strict&&t==="\\sideset"&&!n.symbol)throw new O("The base of \\sideset must be a big operator. Try \\prescript.");if(e[0].body.length>0&&e[0].body[0].type!=="supsub"||e[1].body.length>0&&e[1].body[0].type!=="supsub")throw new O("\\sideset can parse only subscripts and superscripts in its first two arguments",a);const l=e[0].body.length>0?e[0].body[0]:null,o=e[1].body.length>0?e[1].body[0]:null;return!l&&!o?n:l?{type:"multiscript",mode:s.mode,isSideset:t==="\\sideset",prescripts:l,postscripts:o,base:n}:{type:"styling",mode:s.mode,scriptLevel:"text",body:[{type:"supsub",mode:s.mode,base:n,sup:o.sup,sub:o.sub}]}},mathmlBuilder(s,t){const a=is(s.base,t),e=new M.MathNode("mprescripts"),n=new M.MathNode("none");let l=[];const o=vt(s.prescripts.sub,t,n),p=vt(s.prescripts.sup,t,n);if(s.isSideset&&(o.setAttribute("style","text-align: left;"),p.setAttribute("style","text-align: left;")),s.postscripts){const d=vt(s.postscripts.sub,t,n),g=vt(s.postscripts.sup,t,n);l=[a,d,g,e,o,p]}else l=[a,e,o,p];return new M.MathNode("mmultiscripts",l)}});P({type:"not",names:["\\not"],props:{numArgs:1,primitive:!0,allowedInText:!1},handler({parser:s},t){const a=ds.isCharacterBox(t[0]);let e;return a?(e=ps(t[0]),e[0].text.charAt(0)==="\\"&&(e[0].text=bs.math[e[0].text].replace),e[0].text=e[0].text.slice(0,1)+"̸"+e[0].text.slice(1)):e=[{type:"textord",mode:"math",text:"̸"},{type:"kern",mode:"math",dimension:{number:-.6,unit:"em"}},t[0]],{type:"not",mode:s.mode,body:e,isCharacterBox:a}},mathmlBuilder(s,t){return s.isCharacterBox?xs(s.body,t,!0)[0]:Ps(s.body,t)}});const zo=["textord","mathord","atom"],Oo=["\\smallint"],ze=["textord","mathord","ordgroup","close","leftright","font"],Jn=s=>{s.attributes.lspace="0.1667em",s.attributes.rspace="0.1667em"},ct=(s,t)=>{let a;if(s.symbol)a=new vs("mo",[ws(s.name,s.mode)]),Oo.includes(s.name)?a.setAttribute("largeop","false"):s.limits?a.setAttribute("stretchy","true"):a.setAttribute("movablelimits","false"),s.fromMathOp&&Jn(a);else if(s.body)a=new vs("mo",xs(s.body,t)),s.fromMathOp&&Jn(a);else if(a=new vs("mi",[new kr(s.name.slice(1))]),!s.parentIsSupSub){const e=new vs("mo",[ws("⁡","text")]),n=[a,e];if(s.needsLeadingSpace){const l=new vs("mspace");l.setAttribute("width","0.1667em"),n.unshift(l)}if(!s.isFollowedByDelimiter){const l=new vs("mspace");l.setAttribute("width","0.1667em"),n.push(l)}a=new vs("mrow",n)}return a},Bo={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨅":"\\bigsqcap","⨆":"\\bigsqcup","⨃":"\\bigcupdot","⨇":"\\bigdoublevee","⨈":"\\bigdoublewedge","⨉":"\\bigtimes"};P({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcupplus","\\bigcupdot","\\bigcap","\\bigcup","\\bigdoublevee","\\bigdoublewedge","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcap","\\bigsqcup","\\bigtimes","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:({parser:s,funcName:t},a)=>{let e=t;return e.length===1&&(e=Bo[e]),{type:"op",mode:s.mode,limits:!0,parentIsSupSub:!1,symbol:!0,stack:!1,name:e}},mathmlBuilder:ct});P({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:({parser:s},t)=>{const a=t[0],e=a.body?a.body:[a],n=e.length===1&&zo.includes(e[0].type);return{type:"op",mode:s.mode,limits:!0,parentIsSupSub:!1,symbol:n,fromMathOp:!0,stack:!1,name:n?e[0].text:null,body:n?null:ps(a)}},mathmlBuilder:ct});const $o={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint","∱":"\\intclockwise","∲":"\\varointclockwise","⨌":"\\iiiint","⨍":"\\intbar","⨎":"\\intBar","⨏":"\\fint","⨒":"\\rppolint","⨓":"\\scpolint","⨕":"\\pointint","⨖":"\\sqint","⨗":"\\intlarhk","⨘":"\\intx","⨙":"\\intcap","⨚":"\\intcup"};P({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\sgn","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler({parser:s,funcName:t}){const a=s.prevAtomType,e=s.gullet.future().text;return{type:"op",mode:s.mode,limits:!1,parentIsSupSub:!1,symbol:!1,stack:!1,isFollowedByDelimiter:Le(e),needsLeadingSpace:a.length>0&&ze.includes(a),name:t}},mathmlBuilder:ct});P({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler({parser:s,funcName:t}){const a=s.prevAtomType,e=s.gullet.future().text;return{type:"op",mode:s.mode,limits:!0,parentIsSupSub:!1,symbol:!1,stack:!1,isFollowedByDelimiter:Le(e),needsLeadingSpace:a.length>0&&ze.includes(a),name:t}},mathmlBuilder:ct});P({type:"op",names:["\\int","\\iint","\\iiint","\\iiiint","\\oint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\intbar","\\intBar","\\fint","\\rppolint","\\scpolint","\\pointint","\\sqint","\\intlarhk","\\intx","\\intcap","\\intcup","∫","∬","∭","∮","∯","∰","∱","∲","⨌","⨍","⨎","⨏","⨒","⨓","⨕","⨖","⨗","⨘","⨙","⨚"],props:{numArgs:0},handler({parser:s,funcName:t}){let a=t;return a.length===1&&(a=$o[a]),{type:"op",mode:s.mode,limits:!1,parentIsSupSub:!1,symbol:!0,stack:!1,name:a}},mathmlBuilder:ct});const Do=(s,t)=>{let a=xs(s.body,t.withFont("mathrm")),e=!0;for(let l=0;l<a.length;l++){let o=a[l];if(o instanceof M.MathNode)switch(o.type==="mrow"&&o.children.length===1&&o.children[0]instanceof M.MathNode&&(o=o.children[0]),o.type){case"mi":case"mn":case"ms":case"mtext":break;case"mspace":if(o.attributes.width){const p=o.attributes.width.replace("em",""),d=$r(Number(p));d===""?e=!1:a[l]=new M.MathNode("mtext",[new M.TextNode(d)])}break;case"mo":{const p=o.children[0];o.children.length===1&&p instanceof M.TextNode?p.text=p.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):e=!1;break}default:e=!1}else e=!1}if(e){const l=a.map(o=>o.toText()).join("");a=[new M.TextNode(l)]}else if(a.length===1&&["mover","munder"].includes(a[0].type)&&(a[0].children[0].type==="mi"||a[0].children[0].type==="mtext")){if(a[0].children[0].type="mi",s.parentIsSupSub)return new M.MathNode("mrow",a);{const l=new M.MathNode("mo",[ws("⁡","text")]);return M.newDocumentFragment([a[0],l])}}let n;if(e?(n=new M.MathNode("mi",a),a[0].text.length===1&&n.setAttribute("mathvariant","normal")):n=new M.MathNode("mrow",a),!s.parentIsSupSub){const l=new M.MathNode("mo",[ws("⁡","text")]),o=[n,l];if(s.needsLeadingSpace){const p=new M.MathNode("mspace");p.setAttribute("width","0.1667em"),o.unshift(p)}if(!s.isFollowedByDelimiter){const p=new M.MathNode("mspace");p.setAttribute("width","0.1667em"),o.push(p)}return M.newDocumentFragment(o)}return n};P({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1,allowedInArgument:!0},handler:({parser:s,funcName:t},a)=>{const e=a[0],n=s.prevAtomType,l=s.gullet.future().text;return{type:"operatorname",mode:s.mode,body:ps(e),alwaysHandleSupSub:t==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1,isFollowedByDelimiter:Le(l),needsLeadingSpace:n.length>0&&ze.includes(n)}},mathmlBuilder:Do});c("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");js({type:"ordgroup",mathmlBuilder(s,t){return Ps(s.body,t,s.semisimple)}});P({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:({parser:s},t)=>{const a=t[0];return{type:"phantom",mode:s.mode,body:ps(a)}},mathmlBuilder:(s,t)=>{const a=xs(s.body,t);return new M.MathNode("mphantom",a)}});P({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:({parser:s},t)=>{const a=t[0];return{type:"hphantom",mode:s.mode,body:a}},mathmlBuilder:(s,t)=>{const a=xs(ps(s.body),t),e=new M.MathNode("mphantom",a),n=new M.MathNode("mpadded",[e]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n}});P({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:({parser:s},t)=>{const a=t[0];return{type:"vphantom",mode:s.mode,body:a}},mathmlBuilder:(s,t)=>{const a=xs(ps(s.body),t),e=new M.MathNode("mphantom",a),n=new M.MathNode("mpadded",[e]);return n.setAttribute("width","0px"),n}});P({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler({parser:s},t){return{type:"pmb",mode:s.mode,body:ps(t[0])}},mathmlBuilder(s,t){const a=xs(s.body,t),e=qe(a);return e.setAttribute("style","font-weight:bold"),e}});const jr=(s,t)=>{const a=t.withLevel(hs.TEXT),e=new M.MathNode("mpadded",[is(s.body,a)]),n=qs(s.dy,t);return e.setAttribute("voffset",n.number+n.unit),n.number>0?e.style.padding=n.number+n.unit+" 0 0 0":e.style.padding="0 0 "+Math.abs(n.number)+n.unit+" 0",e};P({type:"raise",names:["\\raise","\\lower"],props:{numArgs:2,argTypes:["size","primitive"],primitive:!0},handler({parser:s,funcName:t},a){const e=G(a[0],"size").value;t==="\\lower"&&(e.number*=-1);const n=a[1];return{type:"raise",mode:s.mode,dy:e,body:n}},mathmlBuilder:jr});P({type:"raise",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler({parser:s,funcName:t},a){const e=G(a[0],"size").value,n=a[1];return{type:"raise",mode:s.mode,dy:e,body:n}},mathmlBuilder:jr});P({type:"ref",names:["\\ref","\\eqref"],props:{numArgs:1,argTypes:["raw"]},handler({parser:s,funcName:t},a){return{type:"ref",mode:s.mode,funcName:t,string:a[0].string.replace(Dr,"")}},mathmlBuilder(s,t){const a=s.funcName==="\\ref"?["tml-ref"]:["tml-ref","tml-eqref"],e=new M.MathNode("mtext",[new M.TextNode("")],a);return e.setAttribute("href","#"+s.string),e}});P({type:"reflect",names:["\\reflectbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler({parser:s},t){return{type:"reflect",mode:s.mode,body:t[0]}},mathmlBuilder(s,t){const a=is(s.body,t);return a.style.transform="scaleX(-1)",a}});P({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler({parser:s}){return{type:"internal",mode:s.mode}}});P({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler({parser:s},t,a){const e=a[0],n=G(t[0],"size"),l=G(t[1],"size");return{type:"rule",mode:s.mode,shift:e&&G(e,"size").value,width:n.value,height:l.value}},mathmlBuilder(s,t){const a=qs(s.width,t),e=qs(s.height,t),n=s.shift?qs(s.shift,t):{number:0,unit:"em"},l=t.color&&t.getColor()||"black",o=new M.MathNode("mspace");if(a.number>0&&e.number>0&&o.setAttribute("mathbackground",l),o.setAttribute("width",a.number+a.unit),o.setAttribute("height",e.number+e.unit),n.number===0)return o;const p=new M.MathNode("mpadded",[o]);return n.number>=0?p.setAttribute("height","+"+n.number+n.unit):(p.setAttribute("height",n.number+n.unit),p.setAttribute("depth","+"+-n.number+n.unit)),p.setAttribute("voffset",n.number+n.unit),p}});const sr={"\\tiny":.5,"\\sixptsize":.6,"\\Tiny":.6,"\\scriptsize":.7,"\\footnotesize":.8,"\\small":.9,"\\normalsize":1,"\\large":1.2,"\\Large":1.44,"\\LARGE":1.728,"\\huge":2.074,"\\Huge":2.488};P({type:"sizing",names:["\\tiny","\\sixptsize","\\Tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],props:{numArgs:0,allowedInText:!0},handler:({breakOnTokenText:s,funcName:t,parser:a},e)=>{a.settings.strict&&a.mode==="math"&&console.log(`Temml strict-mode warning: Command ${t} is invalid in math mode.`);const n=a.parseExpression(!1,s,!0);return{type:"sizing",mode:a.mode,funcName:t,body:n}},mathmlBuilder:(s,t)=>{const a=t.withFontSize(sr[s.funcName]),e=xs(s.body,a),n=qe(e),l=(sr[s.funcName]/t.fontSize).toFixed(4);return n.setAttribute("mathsize",l+"em"),n}});P({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:({parser:s},t,a)=>{let e=!1,n=!1;const l=a[0]&&G(a[0],"ordgroup");if(l){let p="";for(let d=0;d<l.body.length;++d)if(p=l.body[d].text,p==="t")e=!0;else if(p==="b")n=!0;else{e=!1,n=!1;break}}else e=!0,n=!0;const o=t[0];return{type:"smash",mode:s.mode,body:o,smashHeight:e,smashDepth:n}},mathmlBuilder:(s,t)=>{const a=new M.MathNode("mpadded",[is(s.body,t)]);return s.smashHeight&&a.setAttribute("height","0px"),s.smashDepth&&a.setAttribute("depth","0px"),a}});P({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler({parser:s},t,a){const e=a[0],n=t[0];return{type:"sqrt",mode:s.mode,body:n,index:e}},mathmlBuilder(s,t){const{body:a,index:e}=s;return e?new M.MathNode("mroot",[is(a,t),is(e,t.incrementLevel())]):new M.MathNode("msqrt",[is(a,t)])}});const Yo={display:0,text:1,script:2,scriptscript:3},jo={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]};P({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler({breakOnTokenText:s,funcName:t,parser:a},e){const n=a.parseExpression(!0,s,!0),l=t.slice(1,t.length-5);return{type:"styling",mode:a.mode,scriptLevel:l,body:n}},mathmlBuilder(s,t){const a=t.withLevel(Yo[s.scriptLevel]),e=xs(s.body,a),n=qe(e),l=jo[s.scriptLevel];return n.setAttribute("scriptlevel",l[0]),n.setAttribute("displaystyle",l[1]),n}});const Ro=/^m(over|under|underover)$/;js({type:"supsub",mathmlBuilder(s,t){let a=!1,e,n,l=!1,o=!1,p=!1;s.base&&s.base.type==="horizBrace"&&(n=!!s.sup,n===s.base.isOver&&(a=!0,e=s.base.isOver)),s.base&&!s.base.stack&&(s.base.type==="op"||s.base.type==="operatorname")&&(s.base.parentIsSupSub=!0,l=!s.base.symbol,o=l&&!s.isFollowedByDelimiter,p=s.base.needsLeadingSpace);const d=s.base&&s.base.stack?[is(s.base.body[0],t)]:[is(s.base,t)],g=t.inSubOrSup();if(s.sub&&d.push(is(s.sub,g)),s.sup){const v=is(s.sup,g),I=v.type==="mrow"?v.children[0]:v;I&&I.type==="mo"&&I.classes.includes("tml-prime")&&s.base&&s.base.text&&s.base.text==="f"&&I.classes.push("prime-pad"),d.push(v)}let A;if(a)A=e?"mover":"munder";else if(s.sub)if(s.sup){const v=s.base;v&&(v.type==="op"&&v.limits||v.type==="multiscript")&&(t.level===hs.DISPLAY||v.alwaysHandleSupSub)||v&&v.type==="operatorname"&&v.alwaysHandleSupSub&&(t.level===hs.DISPLAY||v.limits)?A="munderover":A="msubsup"}else{const v=s.base;v&&v.type==="op"&&v.limits&&(t.level===hs.DISPLAY||v.alwaysHandleSupSub)||v&&v.type==="operatorname"&&v.alwaysHandleSupSub&&(v.limits||t.level===hs.DISPLAY)?A="munder":A="msub"}else{const v=s.base;v&&v.type==="op"&&v.limits&&(t.level===hs.DISPLAY||v.alwaysHandleSupSub)||v&&v.type==="operatorname"&&v.alwaysHandleSupSub&&(v.limits||t.level===hs.DISPLAY)?A="mover":A="msup"}let N=new M.MathNode(A,d);if(l){const v=new M.MathNode("mo",[ws("⁡","text")]);if(p){const I=new M.MathNode("mspace");I.setAttribute("width","0.1667em"),N=M.newDocumentFragment([I,N,v])}else N=M.newDocumentFragment([N,v]);if(o){const I=new M.MathNode("mspace");I.setAttribute("width","0.1667em"),N.children.push(I)}}else Ro.test(A)&&(N=new M.MathNode("mrow",[N]));return N}});const Go=["\\shortmid","\\nshortmid","\\shortparallel","\\nshortparallel","\\smallsetminus"],Fo=["\\Rsh","\\Lsh","\\restriction"],Vo=s=>{if(s.length===1){const t=s.codePointAt(0);return 8591<t&&t<8704}return s.indexOf("arrow")>-1||s.indexOf("harpoon")>-1||Fo.includes(s)};js({type:"atom",mathmlBuilder(s,t){const a=new M.MathNode("mo",[ws(s.text,s.mode)]);return s.family==="punct"?a.setAttribute("separator","true"):s.family==="open"||s.family==="close"?s.family==="open"?(a.setAttribute("form","prefix"),a.setAttribute("stretchy","false")):s.family==="close"&&(a.setAttribute("form","postfix"),a.setAttribute("stretchy","false")):s.text==="\\mid"?(a.setAttribute("lspace","0.22em"),a.setAttribute("rspace","0.22em"),a.setAttribute("stretchy","false")):s.family==="rel"&&Vo(s.text)?a.setAttribute("stretchy","false"):Go.includes(s.text)?a.setAttribute("mathsize","70%"):s.text===":"&&(a.attributes.lspace="0.2222em",a.attributes.rspace="0.2222em"),a}});const tr={mathbf:"bold",mathrm:"normal",textit:"italic",mathit:"italic",mathnormal:"italic",mathbb:"double-struck",mathcal:"script",mathfrak:"fraktur",mathscr:"script",mathsf:"sans-serif",mathtt:"monospace"},Rr=function(s,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsc")return"normal";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"sans-serif-bold":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";const a=t.font;if(!a||a==="mathnormal")return null;const e=s.mode;switch(a){case"mathit":return"italic";case"mathrm":{const l=s.text.codePointAt(0);return 939<l&&l<975?"italic":"normal"}case"greekItalic":return"italic";case"up@greek":return"normal";case"boldsymbol":case"mathboldsymbol":return"bold-italic";case"mathbf":return"bold";case"mathbb":return"double-struck";case"mathfrak":return"fraktur";case"mathscr":case"mathcal":return"script";case"mathsf":return"sans-serif";case"mathtt":return"monospace"}let n=s.text;return bs[e][n]&&bs[e][n].replace&&(n=bs[e][n].replace),Object.prototype.hasOwnProperty.call(tr,a)?tr[a]:null},ar=Object.freeze({B:8426,E:8427,F:8427,H:8387,I:8391,L:8390,M:8422,R:8393,e:8394,g:8355,o:8389}),Uo=Object.freeze({C:8426,H:8388,I:8392,R:8394,Z:8398}),Ho=Object.freeze({C:8383,H:8389,N:8391,P:8393,Q:8393,R:8395,Z:8394}),Gr=Object.freeze({"ϵ":119527,ϑ:119564,ϰ:119534,φ:119577,ϱ:119535,ϖ:119563}),Zo=Object.freeze({"ϵ":119643,ϑ:119680,ϰ:119650,φ:119693,ϱ:119651,ϖ:119679}),er=Object.freeze({"ϵ":119701,ϑ:119738,ϰ:119708,φ:119751,ϱ:119709,ϖ:119737}),Wo=Object.freeze({"ϵ":119759,ϑ:119796,ϰ:119766,φ:119809,ϱ:119767,ϖ:119795}),Qo=Object.freeze({upperCaseLatin:{normal:s=>0,bold:s=>119743,italic:s=>119795,"bold-italic":s=>119847,script:s=>ar[s]||119899,"script-bold":s=>119951,fraktur:s=>Uo[s]||120003,"fraktur-bold":s=>120107,"double-struck":s=>Ho[s]||120055,"sans-serif":s=>120159,"sans-serif-bold":s=>120211,"sans-serif-italic":s=>120263,"sans-serif-bold-italic":s=>120380,monospace:s=>120367},lowerCaseLatin:{normal:s=>0,bold:s=>119737,italic:s=>s==="h"?8358:119789,"bold-italic":s=>119841,script:s=>ar[s]||119893,"script-bold":s=>119945,fraktur:s=>119997,"fraktur-bold":s=>120101,"double-struck":s=>120049,"sans-serif":s=>120153,"sans-serif-bold":s=>120205,"sans-serif-italic":s=>120257,"sans-serif-bold-italic":s=>120309,monospace:s=>120361},upperCaseGreek:{normal:s=>0,bold:s=>119575,italic:s=>119633,"bold-italic":s=>119575,script:s=>0,"script-bold":s=>0,fraktur:s=>0,"fraktur-bold":s=>0,"double-struck":s=>0,"sans-serif":s=>119749,"sans-serif-bold":s=>119749,"sans-serif-italic":s=>0,"sans-serif-bold-italic":s=>119807,monospace:s=>0},lowerCaseGreek:{normal:s=>0,bold:s=>119569,italic:s=>119627,"bold-italic":s=>s==="ϕ"?119678:119685,script:s=>0,"script-bold":s=>0,fraktur:s=>0,"fraktur-bold":s=>0,"double-struck":s=>0,"sans-serif":s=>119743,"sans-serif-bold":s=>119743,"sans-serif-italic":s=>0,"sans-serif-bold-italic":s=>119801,monospace:s=>0},varGreek:{normal:s=>0,bold:s=>Gr[s]||-51,italic:s=>0,"bold-italic":s=>Zo[s]||58,script:s=>0,"script-bold":s=>0,fraktur:s=>0,"fraktur-bold":s=>0,"double-struck":s=>0,"sans-serif":s=>er[s]||116,"sans-serif-bold":s=>er[s]||116,"sans-serif-italic":s=>0,"sans-serif-bold-italic":s=>Wo[s]||174,monospace:s=>0},numeral:{normal:s=>0,bold:s=>120734,italic:s=>0,"bold-italic":s=>0,script:s=>0,"script-bold":s=>0,fraktur:s=>0,"fraktur-bold":s=>0,"double-struck":s=>120744,"sans-serif":s=>120754,"sans-serif-bold":s=>120764,"sans-serif-italic":s=>0,"sans-serif-bold-italic":s=>0,monospace:s=>120774}}),et=(s,t)=>{const a=s.codePointAt(0),e=64<a&&a<91?"upperCaseLatin":96<a&&a<123?"lowerCaseLatin":912<a&&a<938?"upperCaseGreek":944<a&&a<970||s==="ϕ"?"lowerCaseGreek":120545<a&&a<120572||Gr[s]?"varGreek":47<a&&a<58?"numeral":"other";return e==="other"?s:String.fromCodePoint(a+Qo[e][t](s))},Ko=Object.freeze({a:"ᴀ",b:"ʙ",c:"ᴄ",d:"ᴅ",e:"ᴇ",f:"ꜰ",g:"ɢ",h:"ʜ",i:"ɪ",j:"ᴊ",k:"ᴋ",l:"ʟ",m:"ᴍ",n:"ɴ",o:"ᴏ",p:"ᴘ",q:"ǫ",r:"ʀ",s:"s",t:"ᴛ",u:"ᴜ",v:"ᴠ",w:"ᴡ",x:"x",y:"ʏ",z:"ᴢ"}),Jo=/^\d(?:[\d,.]*\d)?$/,sp=/[A-Ba-z]/,tp=new Set(["\\prime","\\dprime","\\trprime","\\qprime","\\backprime","\\backdprime","\\backtrprime"]),ap=(s,t,a)=>{const e=new M.MathNode(a,[s]),n=new M.MathNode("mstyle",[e]);return n.style["font-style"]="italic",n.style["font-family"]="Cambria, 'Times New Roman', serif",t==="bold-italic"&&(n.style["font-weight"]="bold"),n};js({type:"mathord",mathmlBuilder(s,t){const a=ws(s.text,s.mode,t),e=a.text.codePointAt(0),n=912<e&&e<938?"normal":"italic",l=Rr(s,t)||n;if(l==="script")return a.text=et(a.text,l),new M.MathNode("mi",[a],[t.font]);l!=="italic"&&(a.text=et(a.text,l));let o=new M.MathNode("mi",[a]);return l==="normal"&&(o.setAttribute("mathvariant","normal"),a.text.length===1&&(o=new M.MathNode("mrow",[o]))),o}});js({type:"textord",mathmlBuilder(s,t){let a=s.text;const e=a.codePointAt(0);t.fontFamily==="textsc"&&96<e&&e<123&&(a=Ko[a]);const n=ws(a,s.mode,t),l=Rr(s,t)||"normal";let o;if(Jo.test(s.text)){const p=s.mode==="text"?"mtext":"mn";if(l==="italic"||l==="bold-italic")return ap(n,l,p);l!=="normal"&&(n.text=n.text.split("").map(d=>et(d,l)).join("")),o=new M.MathNode(p,[n])}else if(s.mode==="text")l!=="normal"&&(n.text=et(n.text,l)),o=new M.MathNode("mtext",[n]);else if(tp.has(s.text))o=new M.MathNode("mo",[n]),o.classes.push("tml-prime");else{const p=n.text;l!=="italic"&&(n.text=et(n.text,l)),o=new M.MathNode("mi",[n]),n.text===p&&sp.test(p)&&o.setAttribute("mathvariant","italic")}return o}});const ep={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},np={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};js({type:"spacing",mathmlBuilder(s,t){let a;if(Object.prototype.hasOwnProperty.call(np,s.text))a=new M.MathNode("mtext",[new M.TextNode(" ")]);else if(Object.prototype.hasOwnProperty.call(ep,s.text))a=new M.MathNode("mo"),s.text==="\\nobreak"&&a.setAttribute("linebreak","nobreak");else throw new O(`Unknown type of space "${s.text}"`);return a}});js({type:"tag"});const nr={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm","\\textsc":"textsc"},rr={"\\textbf":"textbf","\\textmd":"textmd"},rp={"\\textit":"textit","\\textup":"textup"},ip=(s,t)=>{const a=s.font;if(a){if(nr[a])return t.withTextFontFamily(nr[a]);if(rr[a])return t.withTextFontWeight(rr[a]);if(a==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(rp[a])};P({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textsc","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler({parser:s,funcName:t},a){const e=a[0];return{type:"text",mode:s.mode,body:ps(e),font:t}},mathmlBuilder(s,t){const a=ip(s,t),e=Ps(s.body,a);return Ar(e)}});P({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(s,t,a){throw new O("\\verb ended by end of line instead of matching delimiter")},mathmlBuilder(s,t){const a=new M.TextNode(lp(s)),e=new M.MathNode("mtext",[a]);return e.setAttribute("mathvariant","monospace"),e}});const lp=s=>s.body.replace(/ /g,s.star?"␣":" ");typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: Temml doesn't work in quirks mode. Make sure your website has a suitable doctype."));var op={},It={},mt={},zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.Warning=void 0;class pp{constructor(t,a){this.message=t,typeof a=="number"?this.offset=a:a&&"line"in a&&(this.sourceLoc=a,this.offset=a.offset)}render(){let t=this.message;return this.sourceLoc?t+=` at line ${this.sourceLoc.line}, col ${this.sourceLoc.col}`:this.offset&&(t+=` at offset ${this.offset}`),t}}zs.Warning=pp;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.AttributeParser=void 0;var $;(function(s){s[s.SCANNING=0]="SCANNING",s[s.SCANNING_ID=1]="SCANNING_ID",s[s.SCANNING_CLASS=2]="SCANNING_CLASS",s[s.SCANNING_KEY=3]="SCANNING_KEY",s[s.SCANNING_VALUE=4]="SCANNING_VALUE",s[s.SCANNING_BARE_VALUE=5]="SCANNING_BARE_VALUE",s[s.SCANNING_QUOTED_VALUE=6]="SCANNING_QUOTED_VALUE",s[s.SCANNING_QUOTED_VALUE_CONTINUATION=7]="SCANNING_QUOTED_VALUE_CONTINUATION",s[s.SCANNING_ESCAPED=8]="SCANNING_ESCAPED",s[s.SCANNING_ESCAPED_IN_CONTINUATION=9]="SCANNING_ESCAPED_IN_CONTINUATION",s[s.SCANNING_COMMENT=10]="SCANNING_COMMENT",s[s.FAIL=11]="FAIL",s[s.DONE=12]="DONE",s[s.START=13]="START"})($||($={}));const cp=/^[a-zA-Z0-9_:-]/,mp=function(s){return cp.exec(s)!==null},fs=[];fs[$.START]=function(s,t){return s.subject.charAt(t)==="{"?$.SCANNING:$.FAIL};fs[$.FAIL]=function(s,t){return $.FAIL};fs[$.DONE]=function(s,t){return $.DONE};fs[$.SCANNING]=function(s,t){const a=s.subject.charAt(t);return a===`
`||a==="\r"?$.SCANNING:a===" "||a==="	"?(s.addEvent(t,t,"attr_space"),$.SCANNING):a==="}"?$.DONE:a==="#"?(s.begin=t,s.addEvent(t,t,"attr_id_marker"),$.SCANNING_ID):a==="%"?(s.begin=t,$.SCANNING_COMMENT):a==="."?(s.begin=t,s.addEvent(t,t,"attr_class_marker"),$.SCANNING_CLASS):mp(a)?(s.begin=t,$.SCANNING_KEY):$.FAIL};fs[$.SCANNING_COMMENT]=function(s,t){const a=s.subject.charAt(t);return a==="%"?(s.begin&&t>s.begin&&s.addEvent(s.begin,t,"comment"),$.SCANNING):a=="}"?$.DONE:$.SCANNING_COMMENT};fs[$.SCANNING_ID]=function(s,t){const a=s.subject.charAt(t);return/^[^\]\[~!@#$%^&*(){}`,.<>\\|=+/?\s]/.exec(a)!==null?$.SCANNING_ID:a==="}"?(s.begin&&s.lastpos&&s.lastpos>s.begin&&s.addEvent(s.begin+1,s.lastpos,"id"),s.begin=null,$.DONE):/^\s/.exec(a)!==null?(s.begin&&s.lastpos&&s.lastpos>s.begin&&s.addEvent(s.begin+1,s.lastpos,"id"),a==="\r"||a===`
`||s.addEvent(t,t,"attr_space"),s.begin=null,$.SCANNING):$.FAIL};fs[$.SCANNING_CLASS]=function(s,t){const a=s.subject.charAt(t);return/^\w/.exec(a)!==null||a==="_"||a==="-"||a===":"?$.SCANNING_CLASS:a==="}"?(s.begin&&s.lastpos&&s.lastpos>s.begin&&s.addEvent(s.begin+1,s.lastpos,"class"),s.begin=null,$.DONE):/^\s/.exec(a)!==null?(s.begin&&s.lastpos&&s.lastpos>s.begin&&s.addEvent(s.begin+1,s.lastpos,"class"),a==="\r"||a===`
`||s.addEvent(t,t,"attr_space"),s.begin=null,$.SCANNING):$.FAIL};fs[$.SCANNING_KEY]=function(s,t){const a=s.subject.charAt(t);return a==="="&&s.begin&&s.lastpos?(s.addEvent(s.begin,s.lastpos,"key"),s.addEvent(t,t,"attr_equal_marker"),s.begin=null,$.SCANNING_VALUE):/^[a-zA-Z0-9_:-]/.exec(a)!==null?$.SCANNING_KEY:$.FAIL};fs[$.SCANNING_VALUE]=function(s,t){const a=s.subject.charAt(t);return a==='"'?(s.begin=t,s.addEvent(t,t,"attr_quote_marker"),$.SCANNING_QUOTED_VALUE):/^[a-zA-Z0-9_:-]/.exec(a)!==null?(s.begin=t,$.SCANNING_BARE_VALUE):$.FAIL};fs[$.SCANNING_BARE_VALUE]=function(s,t){const a=s.subject.charAt(t);return/^[a-zA-Z0-9_:-]/.exec(a)!==null?$.SCANNING_BARE_VALUE:a==="}"&&s.begin&&s.lastpos?(s.addEvent(s.begin,s.lastpos,"value"),s.begin=null,$.DONE):/^\s/.exec(a)&&s.begin&&s.lastpos?(s.addEvent(s.begin,s.lastpos,"value"),a==="\r"||a===`
`||s.addEvent(t,t,"attr_space"),s.begin=null,$.SCANNING):$.FAIL};fs[$.SCANNING_ESCAPED]=function(s,t){return $.SCANNING_QUOTED_VALUE};fs[$.SCANNING_ESCAPED_IN_CONTINUATION]=function(s,t){return $.SCANNING_QUOTED_VALUE_CONTINUATION};fs[$.SCANNING_QUOTED_VALUE]=function(s,t){const a=s.subject.charAt(t);return a==='"'&&s.begin&&s.lastpos?(s.addEvent(s.begin+1,s.lastpos,"value"),s.addEvent(t,t,"attr_quote_marker"),s.begin=null,$.SCANNING):a===`
`&&s.begin&&s.lastpos?(s.addEvent(s.begin+1,t,"value"),s.begin=null,$.SCANNING_QUOTED_VALUE_CONTINUATION):a==="\\"?$.SCANNING_ESCAPED:$.SCANNING_QUOTED_VALUE};fs[$.SCANNING_QUOTED_VALUE_CONTINUATION]=function(s,t){const a=s.subject.charAt(t);return s.begin===null&&(s.begin=t),a==='"'&&s.begin&&s.lastpos?(s.addEvent(t,t,"attr_quote_marker"),s.addEvent(s.begin,s.lastpos,"value"),s.begin=null,$.SCANNING):a===`
`&&s.begin&&s.lastpos?(s.addEvent(s.begin,t,"value"),s.begin=null,$.SCANNING_QUOTED_VALUE_CONTINUATION):a==="\\"?$.SCANNING_ESCAPED_IN_CONTINUATION:$.SCANNING_QUOTED_VALUE_CONTINUATION};class hp{constructor(t){this.subject=t,this.state=$.START,this.begin=null,this.lastpos=null,this.matches=[]}addEvent(t,a,e){this.matches.push({startpos:t,endpos:a,annot:e})}feed(t,a){let e=t;for(;e<=a;){if(this.state=fs[this.state](this,e),this.state===$.DONE)return{status:"done",position:e};if(this.state===$.FAIL)return this.lastpos=e,{status:"fail",position:e};this.lastpos=e,e=e+1}return{status:"continue",position:a}}}ht.AttributeParser=hp;var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.find=Ys.pattern=void 0;const dp=function(s){return new RegExp(s,"yd")};Ys.pattern=dp;const up=function(s,t,a,e){t.lastIndex=a;let n;e!==void 0?n=s.substring(0,e+1):n=s;const l=t.exec(n);if(l!==null){const o=[];if(l.indices.length>1)for(let p=1;p<l.indices.length;p++){const[d,g]=l.indices[p];o.push(n.substring(d,g))}return{startpos:l.indices[0][0],endpos:l.indices[0][1]-1,captures:o}}else return null};Ys.find=up;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.InlineParser=void 0;const gp=ht,bp=zs,ns=Ys,ir=9,Me=10,Se=13,oe=32,lr=33,or=34,pr=39,pe=40,fp=41,yp=42,vp=43,ce=45,xp=46,wp=58,kp=60,_p=61,me=91,he=92,Ap=93,Mp=94,Sp=95,Cp=96,wt=123,qt=125,qp=126,cr=/[\r\n"'()*+.:<=[\\\]^_`${}~-]/g,mr=function(s,t,a){cr.lastIndex=t;const e=cr.exec(s);return e&&e.index<=a?e.index:null},hr=(0,ns.pattern)(`[^ 	\r
]`),Np=(0,ns.pattern)("[ \\t]*\\r?\\n"),Tp=(0,ns.pattern)("['!\"#$%&\\\\'()\\*+,\\-\\.\\/:;<=>?@\\[\\]\\^_`{|}~']"),Lp=(0,ns.pattern)("\\<([^<>\\s]+)\\>"),Ip=(0,ns.pattern)(`[_*~^+='"-]`),Xp=(0,ns.pattern)(":[\\w_+-]+:"),Ep=(0,ns.pattern)("\\.\\."),Pp=(0,ns.pattern)("`*"),zp=(0,ns.pattern)("`+"),Op=(0,ns.pattern)("\\$\\$"),Bp=(0,ns.pattern)("\\$"),$p=(0,ns.pattern)("\\\\"),Dp=(0,ns.pattern)("\\{=[^\\s{}`]+\\}"),Yp=(0,ns.pattern)("\\^([^\\]]+)\\]"),de=function(s,t){return t>0&&s.subject.codePointAt(t-1)===wt||s.subject.codePointAt(t+1)===qt},tt=function(){return!0},Ts=function(s,t,a,e){return function(n,l,o){const p=n.subject;let d=(0,ns.find)(p,hr,l+1)!==null&&e(n,l),g=(0,ns.find)(p,hr,l-1)!==null;const A=n.matches[n.matches.length-1],N=A&&A.annot==="open_marker",v=l+1<=o&&p.codePointAt(l+1)===qt;let I=l,Y=l;N&&(d=!0,g=!1,Y=l-1),!N&&v&&(g=!0,d=!1,I=l+1),N&&a.match(/^right/)?a=a.replace(/^right/,"left"):v&&a.match(/^left/)&&(a=a.replace(/^left/,"right"));let V=s;v&&(V="{"+V);const es=n.openers[V];if(g&&es&&es.length>0){const q=es[es.length-1];if(q.endpos!==l-1)return n.clearOpeners(q.startpos,l),n.addMatch(q.startpos,q.endpos,"+"+t,q.matchIndex),n.addMatch(l,I,"-"+t),I+1}if(d){let q=s;return N&&(q="{"+q),n.addOpener(q,Y,l,a),l+1}else return n.addMatch(l,I,a),I+1}},jp={[Cp]:function(s,t,a){const e=s.subject,n=(0,ns.find)(e,Pp,t,a);if(n===null)return null;const l=n.endpos;return(0,ns.find)(e,Op,t-2)&&!(0,ns.find)(e,$p,t-3)?(s.matches.pop(),s.matches.pop(),s.addMatch(t-2,l,"+display_math"),s.verbatimType="display_math"):(0,ns.find)(e,Bp,t-1)?(s.matches.pop(),s.addMatch(t-1,l,"+inline_math"),s.verbatimType="inline_math"):(s.addMatch(t,l,"+verbatim"),s.verbatimType="verbatim"),s.verbatim=l-t+1,l+1},[he]:function(s,t,a){const e=s.subject,n=(0,ns.find)(e,Np,t+1,a);if(n!==null){if(s.matches.length>0){const l=s.matches[s.matches.length-1];if(l.annot==="str"){let o=l.endpos;const p=l.startpos;for(;o>=p&&(e.codePointAt(o)===oe||e.codePointAt(o)===ir);)o=o-1;o<p?s.matches.pop():l.endpos=o}}return s.addMatch(t,t,"escape"),s.addMatch(t+1,n.endpos,"hard_break"),n.endpos+1}else{const l=(0,ns.find)(e,Tp,t+1,a);return l!==null?(s.addMatch(t,t,"escape"),s.addMatch(l.startpos,l.endpos,"str"),l.endpos+1):t+1<=a&&e.codePointAt(t+1)===oe?(s.addMatch(t,t,"escape"),s.addMatch(t+1,t+1,"non_breaking_space"),t+2):(s.addMatch(t,t,"str"),t+1)}},[kp]:function(s,t,a){const e=s.subject,n=(0,ns.find)(e,Lp,t,a);if(n===null)return null;const l=n.endpos,o=n.startpos,p=n.captures[0];return p.match(/[^:]@/)?(s.addMatch(o,o,"+email"),s.addMatch(o+1,l-1,"str"),s.addMatch(l,l,"-email"),l+1):p.match(/[a-zA-Z]:/)?(s.addMatch(o,o,"+url"),s.addMatch(o+1,l-1,"str"),s.addMatch(l,l,"-url"),l+1):null},[qp]:Ts("~","subscript","str",tt),[Mp]:Ts("^","superscript","str",tt),[Sp]:Ts("_","emph","str",tt),[yp]:Ts("*","strong","str",tt),[vp]:Ts("+","insert","str",de),[_p]:Ts("=","mark","str",de),[pr]:Ts("'","single_quoted","right_single_quote",function(s,t){if(t===0)return!0;{const a=s.subject.codePointAt(t-1);return a===oe||a===ir||a===Se||a===Me||a===or||a===pr||a===ce||a===pe||a===me}}),[or]:Ts('"',"double_quoted","left_double_quote",tt),[wt]:function(s,t,a){return(0,ns.find)(s.subject,Ip,t+1,a)?(s.addMatch(t,t,"open_marker"),t+1):s.allowAttributes?(s.attributeParser=new gp.AttributeParser(s.subject),s.attributeStart=t,s.attributeSlices=[],t):(s.addMatch(t,t,"str"),t+1)},[wp]:function(s,t,a){const e=(0,ns.find)(s.subject,Xp,t,a);return e?(s.addMatch(e.startpos,e.endpos,"symb"),e.endpos+1):(s.addMatch(t,t,"str"),t+1)},[xp]:function(s,t,a){return(0,ns.find)(s.subject,Ep,t+1,a)?(s.addMatch(t,t+2,"ellipses"),t+3):null},[me]:function(s,t,a){const e=(0,ns.find)(s.subject,Yp,t+1,a);return e?(s.addMatch(t,e.endpos,"footnote_reference"),e.endpos+1):(s.addOpener("[",t,t,"str"),t+1)},[Ap]:function(s,t,a){const e=s.openers["["],n=s.subject;if(e&&e.length>0){const l=e[e.length-1];if(l.annot==="reference_link")return s.strMatches((l.subendpos||l.endpos)+1,t-1),n.codePointAt(l.startpos-1)===lr&&n.codePointAt(l.startpos-2)!==he?(s.addMatch(l.startpos-1,l.startpos-1,"image_marker",l.matchIndex-1),s.addMatch(l.startpos,l.endpos,"+imagetext",l.matchIndex),s.addMatch(l.substartpos||l.startpos,l.substartpos||l.startpos,"-imagetext",l.subMatchIndex)):(s.addMatch(l.startpos,l.endpos,"+linktext",l.matchIndex),s.addMatch(l.substartpos||l.startpos,l.substartpos||l.startpos,"-linktext",l.subMatchIndex)),s.addMatch(l.subendpos||l.endpos,l.subendpos||l.endpos,"+reference",l.subMatchIndex+1),s.addMatch(t,t,"-reference"),s.clearOpeners(l.startpos,t),t+1;if(t+1<=a&&n.codePointAt(t+1)===me)return l.annot="reference_link",s.addMatch(t,t,"str"),l.subMatchIndex=s.matches.length-1,s.addMatch(t+1,t+1,"str"),l.substartpos=t,l.subendpos=t+1,s.clearOpeners(l.startpos+1,t-1),t+2;if(t+1<=a&&n.codePointAt(t+1)===pe)return s.openers["("]=[],l.annot="explicit_link",s.addMatch(t,t,"str"),l.subMatchIndex=s.matches.length-1,s.addMatch(t+1,t+1,"str"),l.substartpos=t,l.subendpos=t+1,s.destination=!0,s.clearOpeners(l.startpos+1,t-1),t+2;if(t+1<=a&&n.codePointAt(t+1)===wt)return s.addMatch(l.startpos,l.endpos,"+span",l.matchIndex),s.addMatch(t,t,"-span"),s.clearOpeners(l.startpos,t),t+1}return null},[pe]:function(s,t,a){return s.destination?(s.addOpener("(",t,t,"str"),t+1):null},[fp]:function(s,t,a){if(!s.destination)return null;const e=s.openers["("];if(e&&e.length>0)return e.pop(),s.addMatch(t,t,"str"),t+1;{const n=s.subject,l=s.openers["["],o=l[l.length-1];if(l&&l.length>0&&o.annot==="explicit_link")return s.strMatches((o.subendpos||o.endpos)+1,t-1),n.codePointAt(o.startpos-1)===lr&&n.codePointAt(o.startpos-2)!==he?(s.addMatch(o.startpos-1,o.startpos-1,"image_marker",o.matchIndex-1),s.addMatch(o.startpos,o.endpos,"+imagetext",o.matchIndex),s.addMatch(o.substartpos||o.startpos,o.substartpos||o.startpos,"-imagetext",o.subMatchIndex)):(s.addMatch(o.startpos,o.endpos,"+linktext",o.matchIndex),s.addMatch(o.substartpos||o.startpos,o.substartpos||o.startpos,"-linktext",o.subMatchIndex)),s.addMatch(o.subendpos||o.endpos,o.subendpos||o.endpos,"+destination",o.subMatchIndex+1),s.addMatch(t,t,"-destination"),s.destination=!1,s.clearOpeners(o.startpos,t),t+1}return null},[ce]:function(s,t,a){const e=s.subject;if(e.codePointAt(t-1)===wt||e.codePointAt(t+1)===qt){const d=Ts("-","delete","str",de)(s,t,a);if(d)return d}let n=t,l=0;for(;n<=a&&e.codePointAt(n)===ce;)n++,l++;if(e.codePointAt(n)===qt&&l--,l===0)return s.addMatch(t,t+1,"str"),t+2;const o=l%3===0,p=l%2===0;for(;l>0;)o?(s.addMatch(t,t+2,"em_dash"),t=t+3,l=l-3):p?(s.addMatch(t,t+1,"en_dash"),t=t+2,l=l-2):l>=3&&(l%2!==0||l>4)?(s.addMatch(t,t+2,"em_dash"),t=t+3,l=l-3):l>=2?(s.addMatch(t,t+1,"en_dash"),t=t+2,l=l-2):(s.addMatch(t,t,"str"),t=t+1,l=l-1);return t}};class Rp{constructor(t,a={}){this.options=a,this.warn=a.warn||(()=>{}),this.subject=t,this.matches=[],this.openers={},this.verbatim=0,this.verbatimType="",this.destination=!1,this.firstpos=-1,this.lastpos=0,this.allowAttributes=!0,this.attributeParser=null,this.attributeStart=null,this.attributeSlices=null,this.matchers=jp}addMatch(t,a,e,n){const l={startpos:t,endpos:a,annot:e};n!==void 0?this.matches.splice(n,1,l):this.matches.push(l)}inVerbatim(){return this.verbatim>0}singleChar(t){return this.addMatch(t,t,"str"),t+1}reparseAttributes(){const t=this.attributeSlices;if(t!==null){if(this.allowAttributes=!1,this.attributeParser=null,this.attributeStart=null,t!==null)for(const a of t)this.feed(a.startpos,a.endpos);this.allowAttributes=!0,this.attributeSlices=null}}getMatches(){const t=this.subject;this.attributeParser&&this.reparseAttributes();let a=this.matches.length-1;if(this.matches[a]&&this.matches[a].annot==="soft_break"){this.matches.pop();const e=this.matches[this.matches.length-1];if(e&&e.annot==="str"&&t.codePointAt(e.endpos)===32){for(;e.endpos>=e.startpos&&t.codePointAt(e.endpos)===32;)e.endpos=e.endpos-1;e.endpos<e.startpos&&this.matches.pop()}}if(this.matches.length>0&&this.verbatim>0){const e=this.matches[this.matches.length-1];this.warn(new bp.Warning("Unclosed verbatim",e.endpos)),this.matches.push({startpos:e.endpos,endpos:e.endpos,annot:"-"+this.verbatimType})}return this.matches}addOpener(t,a,e,n){this.openers[t]||(this.openers[t]=[]),this.openers[t].push({matchIndex:this.matches.length,startpos:a,endpos:e,annot:null,subMatchIndex:this.matches.length,substartpos:null,subendpos:null}),this.addMatch(a,e,n)}clearOpeners(t,a){for(const e in this.openers){const n=this.openers[e];let l=n.length-1;for(;n[l];){const o=n[l];if(o.startpos>=t&&o.endpos<=a)n.splice(l,1);else if(o.substartpos&&o.substartpos>=t&&o.subendpos&&o.subendpos<=a)n[l].substartpos=null,n[l].subendpos=null,n[l].annot=null;else break;l--}}}strMatches(t,a){let e=this.matches.length-1;for(;e>0&&this.matches[e].startpos>=t;)e--;for(this.matches[e].startpos<t&&e++;this.matches[e]&&this.matches[e].endpos<=a;){const n=this.matches[e];n.annot!=="escape"&&n.annot!=="str"&&(n.annot="str"),e++}}feed(t,a){const e=this.subject;(this.firstpos===-1||t<this.firstpos)&&(this.firstpos=t),(this.lastpos===0||a>this.lastpos)&&(this.lastpos=a);let n=t;for(;n<=a;)if(this.attributeParser!==null){const l=n,o=mr(e,n,a);let p;o===null?p=a:p=o;const d=this.attributeParser.feed(l,p),g=d.position;if(d.status==="done"){const A=this.attributeStart;A!==null&&this.addMatch(A,A,"+attributes");const N=this.attributeParser.matches;for(const v of N)this.addMatch(v.startpos,v.endpos,v.annot);this.addMatch(g,g,"-attributes"),this.attributeParser=null,this.attributeStart=null,this.attributeSlices=null,n=g+1}else d.status==="fail"?(this.reparseAttributes(),n=l):d.status==="continue"&&(this.attributeSlices===null&&(this.attributeSlices=[]),this.attributeSlices.push({startpos:l,endpos:g}),n=g+1)}else{const l=mr(e,n,a);let o;if(l===null?o=a+1:o=l,o>n&&(this.addMatch(n,o-1,"str"),n=o,n>a))break;const p=e.codePointAt(n);if(p===void 0)throw new Error("Code point at "+n+" is undefined.");if(p===Se||p===Me)p===Se&&e.codePointAt(n+1)===Me&&n+1<=a?(this.addMatch(n,n+1,"soft_break"),n=n+2):(this.addMatch(n,n,"soft_break"),n=n+1);else if(this.verbatim>0)if(p===96){const d=(0,ns.find)(e,zp,n,a);if(d){const g=d.endpos;if(d.endpos-n+1===this.verbatim){const A=(0,ns.find)(e,Dp,g+1,a);A&&this.verbatimType==="verbatim"?(this.addMatch(n,g,"-"+this.verbatimType),this.addMatch(A.startpos,A.endpos,"raw_format"),n=A.endpos+1):(this.addMatch(n,g,"-"+this.verbatimType),n=g+1),this.verbatim=0,this.verbatimType="verbatim"}else this.addMatch(n,g,"str"),n=g+1}else this.addMatch(n,a,"str"),n=a+1}else this.addMatch(n,n,"str"),n=n+1;else{const d=this.matchers[p];if(d){const g=d(this,n,a);g===null?n=this.singleChar(n):n=g}else n=this.singleChar(n)}}}}Xt.InlineParser=Rp;Object.defineProperty(mt,"__esModule",{value:!0});mt.parseEvents=void 0;const dr=zs,Gp=ht,rs=Ys,ue=Xt,ge=function(s){return s==="+"||s==="-"||s==="*"||s===":"?[s]:/^[+*-] \[[Xx ]\]/.exec(s)?["X"]:/^[(]?[0-9]+[).]/.exec(s)?[s.replace(/[0-9]+/,"1")]:/^[(]?[ivxlcdm][).]/.exec(s)?[s.replace(/[a-z]+/,"i"),s.replace(/[a-z]+/,"a")]:/^[(]?[IVXLCDM][).]/.exec(s)?[s.replace(/[A-Z]+/,"I"),s.replace(/[A-Z]+/,"A")]:/^[(]?[ivxlcdm]+[).]/.exec(s)?[s.replace(/[a-z]+/,"i")]:/^[(]?[IVXLCDM]+[).]/.exec(s)?[s.replace(/[A-Z]+/,"I")]:/^[(]?[a-z][).]/.exec(s)?[s.replace(/[a-z]/,"a")]:/^[(]?[A-Z][).]/.exec(s)?[s.replace(/[A-Z]/,"A")]:[]},Fp=function(s){return s===32||s===9},Vp=function(s){return s===10||s===13},ur=(0,rs.pattern)("[ \\t]*\\r?\\n"),Up=(0,rs.pattern)("^\\w+\\s"),xt=(0,rs.pattern)("[ \\t\\r\\n]"),Hp=(0,rs.pattern)("[^ \\t\\r\\n]+"),gr=(0,rs.pattern)("[>][ \\t\\r\\n]"),br=(0,rs.pattern)("#+"),Zp=(0,rs.pattern)("(~~~~*|````*)([ \\t]*)([^ \\t\\r\\n`]*)[ \\t]*\\r?\\n"),Wp=(0,rs.pattern)("(:?)--*(:?)([ \\t]*\\|[ \\t]*)"),Qp=(0,rs.pattern)("[^`|\\r\\n]*(?:[|]|`+)"),Kp=(0,rs.pattern)("\\^[ \\t]+"),Jp=(0,rs.pattern)("\\[\\^([^\\]]+)\\]:[ \\t\\r\\n]"),sc=(0,rs.pattern)("[-*][ 	]*[-*][ \\t]*[-*][-* \\t]*\\r?\\n"),tc=(0,rs.pattern)("(::::*)[ \\t]*\\r?\\n"),ac=(0,rs.pattern)("(::::*)[ \\t]*"),ec=(0,rs.pattern)("([\\w_-]*)[ \\t]*\\r?\\n"),nc=(0,rs.pattern)("\\[([^\\]\\r\\n]*)\\]:[ \\t]*([^ \\t\\r\\n]*)[\\r\\n]"),fr=(0,rs.pattern)("(\\|[^\\r\\n]*\\|)[ \\t]*\\r?\\n"),be=(0,rs.pattern)("(:?[-*+:]|\\([0-9]+\\)|[0-9]+[.)]|[ivxlcdmIVXLCDM]+[.)]|\\([ivxlcdmIVXLCDM]+\\)|[a-zA-Z][.)]|\\([a-zA-Z]\\))[ \\t\\r\\n]"),fe=(0,rs.pattern)("[*+-] \\[[Xx ]\\][ \\t\\r\\n]");var Z;(function(s){s[s.None=0]="None",s[s.Inline=1]="Inline",s[s.Block=2]="Block",s[s.Text=3]="Text",s[s.Cells=4]="Cells",s[s.Attributes=5]="Attributes",s[s.ListItem=6]="ListItem"})(Z||(Z={}));class gs{constructor(t,a){this.name=t.name,this.type=t.type,this.content=t.content,this.continue=t.continue,this.close=t.close,this.indent=0,this.inlineParser=null,this.attributeParser=null,this.extra=a}}class rc{constructor(t,a={}){t.charAt(t.length-1)!==`
`&&(t=t+`
`),this.subject=t,this.maxoffset=t.length-1,this.options=a,this.warn=a.warn||(()=>{}),this.indent=0,this.startline=0,this.starteol=0,this.endeol=0,this.matches=[],this.containers=[],this.pos=0,this.lastMatchedContainer=0,this.finishedLine=!1,this.returned=0,this.paraSpec={name:"para",type:Z.Block,content:Z.Inline,continue:e=>this.find(xt)===null,open:e=>(this.addContainer(new gs(e,{})),this.addMatch(this.pos,this.pos,"+para"),!0),close:()=>{this.getInlineMatches(),this.containers.pop();const e=this.matches[this.matches.length-1],n=e&&e.endpos+1||this.pos;this.addMatch(n,n,"-para")}},this.specs=[{name:"block_quote",type:Z.Block,content:Z.Block,continue:e=>this.find(gr)!==null?(this.pos=this.pos+1,!0):!1,open:e=>this.find(gr)!==null?(this.addContainer(new gs(e,{})),this.addMatch(this.pos,this.pos,"+block_quote"),this.pos=this.pos+1,!0):!1,close:()=>{this.containers.pop(),this.addMatch(this.pos,this.pos,"-block_quote")}},{name:"heading",type:Z.Block,content:Z.Inline,continue:e=>{const n=this.find(br);return n&&e.extra.level===n.endpos-n.startpos+1&&(0,rs.find)(this.subject,xt,n.endpos+1)?(this.pos=n.endpos+1,!0):!1},open:e=>{const n=this.find(br);if(n&&(0,rs.find)(this.subject,xt,n.endpos+1)){const l=n.endpos-n.startpos+1;return this.addContainer(new gs(e,{level:l})),this.addMatch(n.startpos,n.endpos,"+heading"),this.pos=n.endpos+1,!0}else return!1},close:()=>{this.getInlineMatches(),this.containers.pop();const e=this.matches[this.matches.length-1],n=e&&e.endpos+1||this.pos;this.addMatch(n,n,"-heading")}},{name:"caption",type:Z.Block,content:Z.Inline,continue:e=>(0,rs.find)(this.subject,xt,this.pos)===null,open:e=>{const n=this.find(Kp);return n?(this.pos=n.endpos+1,this.addContainer(new gs(e,{})),this.addMatch(this.pos,this.pos,"+caption"),!0):!1},close:()=>{this.getInlineMatches(),this.containers.pop(),this.addMatch(this.pos-1,this.pos-1,"-caption")}},{name:"footnote",type:Z.Block,content:Z.Block,continue:e=>this.indent>(e.extra.indent||0)||this.pos===this.starteol,open:e=>{const n=this.find(Jp);if(n){const l=n.startpos,o=n.endpos,p=n.captures[0];return this.addContainer(new gs(e,{note_label:p,indent:this.indent})),this.addMatch(l,l,"+footnote"),this.addMatch(l+2,o-3,"note_label"),this.pos=o,!0}else return!1},close:()=>{this.containers.pop(),this.addMatch(this.pos,this.pos,"-footnote")}},{name:"reference_definition",type:Z.Block,content:Z.None,continue:e=>{if(e.extra.indent>=this.indent)return!1;const n=this.find(Hp);return this.pos<this.starteol&&n&&n.endpos===this.starteol-1?(this.addMatch(this.pos,this.starteol-1,"reference_value"),this.pos=this.starteol,!0):!1},open:e=>{const n=this.find(nc);if(n){const l=n.captures[0],o=n.captures[1];return this.addContainer(new gs(e,{key:l,indent:this.indent})),this.addMatch(n.startpos,n.startpos,"+reference_definition"),this.addMatch(n.startpos,n.startpos+l.length+1,"reference_key"),o.length>0&&this.addMatch(this.starteol-o.length,this.starteol-1,"reference_value"),this.pos=this.starteol-1,!0}else return!1},close:()=>{this.containers.pop(),this.addMatch(this.pos,this.pos,"-reference_definition")}},{name:"thematic_break",type:Z.Block,content:Z.None,continue:e=>!1,open:e=>{const n=this.find(sc);return n?(this.addContainer(new gs(e,{})),this.addMatch(n.startpos,n.endpos,"thematic_break"),this.pos=n.endpos,!0):!1},close:()=>{this.containers.pop()}},{name:"list",type:Z.Block,content:Z.ListItem,continue:e=>{if(this.indent>e.extra.indent||this.pos===this.starteol)return!0;{const n=this.find(be);if(n===null)return!1;let l=this.subject.substring(n.startpos,n.endpos);const o=this.find(fe);o!==null&&(l=this.subject.substring(o.startpos,o.startpos+5));const p=ge(l),d=[];for(const g of e.extra.styles)p.includes(g)&&d.push(g);if(d.length>0)return e.extra.styles=d,!0}return!1},open:e=>{const n=this.find(be);if(n===null)return!1;const l=n.startpos,o=n.endpos;let p=this.subject.substring(l,o);const d=this.find(fe);d!==null&&(p=this.subject.substring(d.startpos,d.startpos+5));const g=ge(p);if(g.length===0)return!1;const A={styles:g,indent:this.indent};this.addContainer(new gs(e,A));let N="+list";for(const v of g)N=N+"|"+v;return this.addMatch(l,o-1,N),!0},close:()=>{this.containers.pop(),this.addMatch(this.pos,this.pos,"-list")}},{name:"list_item",type:Z.ListItem,content:Z.Block,continue:e=>this.indent>e.extra.indent||this.pos===this.starteol,open:e=>{const n=this.find(be);if(n===null)return!1;const l=n.startpos,o=n.endpos;let p=this.subject.substring(l,o),d=null;const g=this.find(fe);g!==null&&(p=this.subject.substring(g.startpos,g.startpos+5),d=this.subject.substring(g.startpos+3,g.startpos+4));const A=ge(p);if(A.length===0)return!1;const N={styles:A,indent:this.indent};this.addContainer(new gs(e,N));let v="+list_item";for(const I of A)v=v+"|"+I;return this.addMatch(l,o-1,v),this.pos=o,d&&(d===" "?this.addMatch(l+2,l+4,"checkbox_unchecked"):this.addMatch(l+2,l+4,"checkbox_checked"),this.pos=l+5),!0},close:()=>{this.containers.pop(),this.addMatch(this.pos,this.pos,"-list_item")}},{name:"table",type:Z.Block,content:Z.Cells,continue:e=>{const n=this.find(fr);if(n){const l=n.captures[0];return this.parseTableRow(n.startpos,n.startpos+l.length-1)}else return!1},open:e=>{const n=this.find(fr);if(n){this.addContainer(new gs(e,{columns:0}));const l=n.captures[0];return this.addMatch(n.startpos,n.startpos,"+table"),this.parseTableRow(n.startpos,n.startpos+l.length-1)?!0:(this.matches.pop(),this.containers.pop(),!1)}else return!1},close:()=>{this.containers.pop(),this.addMatch(this.pos,this.pos,"-table")}},{name:"attributes",type:Z.Block,content:Z.Attributes,open:e=>{if(this.subject.codePointAt(this.pos)===123){const n=new Gp.AttributeParser(this.subject),l=n.feed(this.pos,this.starteol);if(l.status==="fail"||l.status==="done"&&(0,rs.find)(this.subject,ur,l.position+1)===null)return!1;{const o=this.addContainer(new gs(e,{status:l.status,indent:this.indent,startpos:this.pos,slices:[]}));return o.attributeParser=n,o.extra.slices=[{startpos:this.pos,endpos:this.starteol}],this.pos=this.starteol,!0}}else return!1},continue:e=>{if(e.extra.status==="done")return!1;if(e.attributeParser&&this.indent>e.extra.indent){e.extra.slices.push({startpos:this.pos,endpos:this.starteol});const o=e.attributeParser.feed(this.pos,this.endeol);if(e.extra.status=o.status,o.status!=="fail"||!(0,rs.find)(this.subject,ur,o.position+1))return this.pos=this.starteol,!0}this.addMatch(e.extra.startpos,e.extra.startpos,"+para");const n=this.containers.pop(),l=this.addContainer(new gs(this.paraSpec,{}));if(!l.inlineParser||!n)throw new Error("Missing inlineParser or attrContainer");return l.inlineParser.attributeSlices=n.extra.slices,l.inlineParser.reparseAttributes(),this.pos=l.inlineParser.lastpos+1,!0},close:()=>{const e=this.containers.pop();if(e)if(e.extra.status==="continue"){this.addMatch(e.extra.startpos,e.extra.startpos,"+para");const n=this.addContainer(new gs(this.paraSpec,{}),!0);if(!n||!n.inlineParser)throw new Error("Could not add paragraph");n.inlineParser.attributeSlices=e.extra.slices,n.inlineParser.reparseAttributes(),n.close()}else{if(this.addMatch(e.extra.startpos,e.extra.startpos,"+block_attributes"),e.attributeParser){const n=e.attributeParser.matches;for(const l of n)this.matches.push(l)}this.addMatch(this.pos,this.pos,"-block_attributes")}}},{name:"fenced_div",type:Z.Block,content:Z.Block,continue:e=>{const n=this.tip();if(n&&n.name==="code_block")return!0;const l=this.find(tc);if(l&&e.extra.colons){const o=l.captures[0];if(o.length>=e.extra.colons)return e.extra.endFenceStartpos=l.startpos,e.extra.endFenceEndpos=l.startpos+o.length-1,this.pos=l.endpos,!1}return!0},open:e=>{const n=this.find(ac);if(!n)return!1;const l=n.captures[0],o=(0,rs.find)(this.subject,ec,n.endpos+1);if(!o)return!1;const p=o.startpos,d=o.captures[0];return this.addContainer(new gs(e,{colons:l.length})),this.addMatch(n.startpos,n.endpos,"+div"),d.length>0&&this.addMatch(p,p+d.length-1,"class"),this.pos=o.endpos+1,this.finishedLine=!0,!0},close:()=>{const e=this.containers.pop();if(!e)return;const n=e.extra.endFenceStartpos||this.pos,l=e.extra.endFenceEndpos||this.pos;this.addMatch(n,l,"-div"),n===l&&this.warn(new dr.Warning("Unclosed div",this.pos))}},{name:"code_block",type:Z.Block,content:Z.Text,continue:e=>{const n=this.find(e.extra.closePattern);return n?(e.extra.endFenceStartpos=n.startpos,e.extra.endFenceEndpos=n.startpos+n.captures[0].length-1,this.pos=n.endpos,this.finishedLine=!0,!1):!0},open:e=>{const n=this.find(Zp);if(n){const[l,o,p]=n.captures,d=p.charAt(0)==="="&&!0||!1,g=(0,rs.pattern)("("+l+l.substring(0,1)+"*)[ \\t]*[\\r\\n]"),A=this.addContainer(new gs(e,{closePattern:g}));if(A.indent=this.indent,this.addMatch(n.startpos,n.startpos+l.length-1,"+code_block"),p.length>0){const N=n.startpos+l.length+o.length;d?this.addMatch(N,N+p.length-1,"raw_format"):this.addMatch(N,N+p.length-1,"code_language")}return this.pos=n.endpos,this.finishedLine=!0,!0}else return!1},close:()=>{const e=this.containers.pop();if(!e)return;const n=e.extra.endFenceStartpos||this.pos,l=e.extra.endFenceEndpos||this.pos;this.addMatch(n,l,"-code_block"),n===l&&this.warn(new dr.Warning("Unclosed code block",this.pos))}}]}find(t){return(0,rs.find)(this.subject,t,this.pos)}tip(){return this.containers.length>=1?this.containers[this.containers.length-1]:null}addMatch(t,a,e){this.matches.push({startpos:Math.min(t,this.maxoffset),endpos:Math.min(a,this.maxoffset),annot:e})}getInlineMatches(){var t;const a=(t=this.tip())===null||t===void 0?void 0:t.inlineParser;if(a){let e;for(const n of a.getMatches())e&&e.annot==="str"&&n.annot==="str"&&n.startpos===e.endpos+1?this.matches[this.matches.length-1].endpos=n.endpos:this.matches.push(n),e=n}}closeUnmatchedContainers(){const t=this.lastMatchedContainer;let a=this.tip();for(;a&&this.containers.length-1>t;)a.close(),a=this.tip()}addContainer(t,a){a||this.closeUnmatchedContainers();let e=this.tip();for(;e&&e.content!==t.type;)e.close(),e=this.tip();return t.content===Z.Inline&&(t.inlineParser=new ue.InlineParser(this.subject,{warn:this.warn})),this.containers.push(t),t}skipSpace(){const t=this.subject;let a=this.pos;for(;Fp(t.codePointAt(a));)a++;this.indent=a-this.startline,this.pos=a}getEol(){const t=this.subject;let a=this.pos;for(;!Vp(t.codePointAt(a));)a++;this.starteol=a,t.codePointAt(a)===13&&t.codePointAt(a+1)===10?this.endeol=a+1:this.endeol=a}parseTableCell(){const t=new ue.InlineParser(this.subject,{warn:this.warn});let a=!1;const e=this.pos-1;let n=e;for(this.skipSpace();!a;){const l=this.find(Qp);if(l===null){a=!1;break}else{const o=l.endpos;this.subject.charAt(o)==="`"||t.inVerbatim()?t.feed(this.pos,o):this.subject.charAt(o-1)==="\\"?t.feed(this.pos,o):(t.feed(this.pos,o-1),n=o,a=!0),this.pos=o+1}}if(a){const l=t.getMatches();return{startpos:e,endpos:n,matches:l}}else return null}parseTableRow(t,a){const e=this.matches.length,n=this.pos;this.addMatch(t,t,"+row"),this.pos++;const l=[];let o=this.pos,p=!1;for(;!p;){const d=(0,rs.find)(this.subject,Wp,o);if(d!==null){const[g,A,N]=d.captures;let v="separator_default";if(g.length>0&&A.length>0?v="separator_center":A.length>0?v="separator_right":g.length>0&&(v="separator_left"),l.push({startpos:d.startpos,endpos:d.endpos-N.length,annot:v}),o=d.endpos+1,o===this.starteol){p=!0;break}}else break}if(p){for(const d of l)this.addMatch(d.startpos,d.endpos,d.annot);return this.addMatch(this.starteol-1,this.starteol-1,"-row"),this.pos=this.starteol,this.finishedLine=!0,!0}for(;this.pos<=a;){const d=this.parseTableCell();if(d!==null){this.addMatch(d.startpos,d.startpos,"+cell");const g=d.matches;g.forEach((A,N)=>{const v=A.startpos;let I=A.endpos;if(N===g.length-1&&A.annot==="str")for(;this.subject.codePointAt(I)===32&&I>=v;)I=I-1;this.addMatch(v,I,A.annot)}),this.addMatch(d.endpos,d.endpos,"-cell")}else{for(this.pos=n;this.matches.length>e;)this.matches.pop();return!1}}return this.addMatch(this.pos,this.pos,"-row"),this.pos=this.starteol,this.finishedLine=!0,!0}[Symbol.iterator](){const t=this.specs,a=this.subject.length;this.returned=0;const e=this;return{next(){for(;e.pos<a;){if(e.matches.length>0&&e.returned<e.matches.length)return e.returned=e.returned+1,{value:e.matches[e.returned-1],done:!1};e.indent=0,e.startline=e.pos,e.finishedLine=!1,e.getEol(),e.lastMatchedContainer=-1;let n=0;for(;n<e.containers.length;){const l=e.containers[n];if(e.skipSpace(),l.continue(l))e.lastMatchedContainer=n;else break;n=n+1}if(e.finishedLine)for(;e.containers.length>0&&e.lastMatchedContainer<e.containers.length-1;){const l=e.tip();l&&l.close()}if(!e.finishedLine){e.skipSpace();let l=e.pos===e.starteol,o=!1,p=e.containers[e.lastMatchedContainer],d=!l&&(!p||p.content===Z.Block||p.content===Z.ListItem)&&!e.find(Up);for(;d;){d=!1;for(const g of t)if((!p&&g.type===Z.Block||p&&p.content===g.type)&&g.open(g)){if(e.tip())e.lastMatchedContainer=e.containers.length-1,p=e.containers[e.lastMatchedContainer],e.finishedLine?d=!1:(e.skipSpace(),o=!0,d=g.content===Z.Block||g.content===Z.ListItem);else throw new Error("No tip after opening container");break}}if(!e.finishedLine){e.skipSpace(),l=e.pos===e.starteol;let g=e.tip();if(!l&&!o&&e.lastMatchedContainer<e.containers.length-1&&g&&g.content===Z.Inline||e.closeUnmatchedContainers(),g=e.tip(),(!g||g.content===Z.Block)&&(l?o||e.addMatch(e.pos,e.endeol,"blankline"):(e.paraSpec.open(e.paraSpec),g=e.tip(),g&&(g.inlineParser=new ue.InlineParser(e.subject,e.options)))),g&&g.content===Z.Text){let A=e.pos;g.indent!==null&&e.indent>g.indent&&(A=A-(e.indent-g.indent)),e.addMatch(A,e.endeol,"str")}else g&&g.content===Z.Inline&&!l&&g.inlineParser&&g.inlineParser.feed(e.pos,e.endeol)}}e.pos=(e.endeol||e.pos)+1}return e.lastMatchedContainer=-1,e.closeUnmatchedContainers(),e.matches.length>0&&e.returned<e.matches.length?(e.returned=e.returned+1,{value:e.matches[e.returned-1],done:!1}):{value:{startpos:e.pos,endpos:e.pos,annot:""},done:!0}}}}}const ic=function(s,t={}){return new rc(s,t)};mt.parseEvents=ic;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.isCaption=ks.isRow=ks.isBlock=ks.isInline=void 0;const lc={para:!0,heading:!0,block_quote:!0,thematic_break:!0,section:!0,div:!0,code_block:!0,raw_block:!0,bullet_list:!0,ordered_list:!0,task_list:!0,definition_list:!0,table:!0,reference:!0,footnote:!0};function oc(s){return lc[s.tag]||!1}ks.isBlock=oc;const pc={str:!0,soft_break:!0,hard_break:!0,non_breaking_space:!0,symb:!0,verbatim:!0,raw_inline:!0,inline_math:!0,display_math:!0,url:!0,email:!0,footnote_reference:!0,smart_punctuation:!0,emph:!0,strong:!0,link:!0,image:!0,span:!0,mark:!0,superscript:!0,subscript:!0,insert:!0,delete:!0,double_quoted:!0,single_quoted:!0};function cc(s){return pc[s.tag]||!1}ks.isInline=cc;function mc(s){return"head"in s}ks.isRow=mc;function hc(s){return!("head"in s)}ks.isCaption=hc;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.isInline=s.isCaption=s.isRow=s.isBlock=s.getStringContent=s.renderAST=s.parse=void 0;const t=mt,a=zs,e=ks;Object.defineProperty(s,"isRow",{enumerable:!0,get:function(){return e.isRow}}),Object.defineProperty(s,"isBlock",{enumerable:!0,get:function(){return e.isBlock}}),Object.defineProperty(s,"isCaption",{enumerable:!0,get:function(){return e.isCaption}}),Object.defineProperty(s,"isInline",{enumerable:!0,get:function(){return e.isInline}});const n=function(q){const z=[];return l(q,z),z.join("")};s.getStringContent=n;const l=function(q,z){if("text"in q)z.push(q.text);else if("tag"in q&&(q.tag==="soft_break"||q.tag==="hard_break"))z.push(`
`);else if("children"in q)for(const F of q.children)l(F,z)},o=function(q){return q.replace(/^ `/,"`").replace(/` $/,"`")},p={i:1,v:5,x:10,l:50,c:100,d:500,m:1e3,I:1,V:5,X:10,L:50,C:100,D:500,M:1e3},d=function(q){let z=0,F=0,ts=q.length-1;for(;ts>=0;){const as=q.charAt(ts),J=p[as];if(!J)throw new Error("Encountered bad character in roman numeral "+q);J<F?z=z-J:z=z+J,F=J,ts=ts-1}return z},g=function(q,z){const F=z.replace(/[().]/g,""),ts=q.replace(/[().]/g,"");switch(F){case"1":return parseInt(ts,10);case"A":return(ts.codePointAt(0)||65)-65+1;case"a":return(ts.codePointAt(0)||97)-97+1;case"I":return d(ts);case"i":return d(ts)}};var A;(function(q){q[q.Normal=0]="Normal",q[q.Verbatim=1]="Verbatim",q[q.Literal=2]="Literal"})(A||(A={}));const N=function(q){return q.trim().replace(/[ \t\r\n]+/g," ")},v=function(q,z={}){const F=[-1];if(z.sourcePositions)for(let x=0;x<q.length;x++)q[x]===`
`&&F.push(x);const ts=function(x){const w=F.length;let S=0,b=w-1,h=0,L=0;for(;!h;){const D=S+~~((b-S)/2);F[D]>x?b=D:F[D]<=x&&(D===b||F[D+1]>x?(h=D+1,L=x-F[D]):S===D&&S<b?S=D+1:S=D)}return{line:h,col:L,offset:x}};let as=A.Normal,J="";const Ks={},Os={},dt={},Bs={},Ms={};let Gs=0;const ut=(0,t.parseEvents)(q,z),gt=z.warn||(()=>{}),Fs=function(x){if(Object.keys(Ms).length>0){x.attributes=x.attributes||{};for(const w in Ms)x.attributes[w]=Ms[w],delete Ms[w]}},Js=function(x){const w=x.replace(/[\]\[~!@#$%^&*(){}`,.<>\\|=+/?\s]+/g," ").trim().replace(/ +/g,"-");let S=0,b=w;for(;!b||Bs[b];)S=S+1,b=(w||"s")+"-"+S;return b},ss=function(x){const w={children:[],data:{},pos:x,attributes:void 0};Fs(w),os.push(w)},W=function(x){const w=os.pop();if(!w)throw new Error("Container stack is empty (popContainer)");return x&&w.pos&&(w.pos.end=x.end),w},R=function(){if(os.length>0)return os[os.length-1];throw new Error("Container stack is empty (topContainer)")},Es=function(){const x=R();return x.children.length>0?x.children[x.children.length-1]:x},j=function(x){os.length>0&&os[os.length-1].children.push(x)},bt={str:(x,w,S,b)=>{const h=q.substring(w,S+1);as===A.Normal?j({tag:"str",text:h,pos:b}):J+=h},soft_break:(x,w,S,b)=>{as===A.Normal?j({tag:"soft_break",pos:b}):J+=`
`},escape:(x,w,S,b)=>{as===A.Verbatim&&(J+="\\")},hard_break:(x,w,S,b)=>{as===A.Normal?j({tag:"hard_break",pos:b}):J+=`
`},non_breaking_space:(x,w,S,b)=>{as===A.Verbatim?J+="\\ ":j({tag:"non_breaking_space",pos:b})},symb:(x,w,S,b)=>{if(as===A.Normal){const h=q.substring(w+1,S);j({tag:"symb",alias:h,pos:b})}else{const h=q.substring(w,S+1);J+=h}},footnote_reference:(x,w,S,b)=>{const h=q.substring(w+2,S);j({tag:"footnote_reference",text:N(h),pos:b})},"+reference_definition":(x,w,S,b)=>{ss(b)},"-reference_definition":(x,w,S,b)=>{const h=W(b),L=N(h.data.key),D={tag:"reference",label:L,destination:h.data.value||"",attributes:h.attributes,pos:h.pos};h.data.key&&(Ks[L]=D)},reference_key:(x,w,S,b)=>{R().data.key=q.substring(w+1,S),R().data.value=""},reference_value:(x,w,S,b)=>{R().data.value=R().data.value+q.substring(w,S+1)},"+emph":(x,w,S,b)=>{ss(b)},"-emph":(x,w,S,b)=>{const h=W(b);j({tag:"emph",children:h.children,pos:h.pos})},"+strong":(x,w,S,b)=>{ss(b)},"-strong":(x,w,S,b)=>{const h=W(b);j({tag:"strong",children:h.children,pos:h.pos})},"+span":(x,w,S,b)=>{ss(b)},"-span":(x,w,S,b)=>{const h=W(b);j({tag:"span",children:h.children,pos:h.pos})},"+mark":(x,w,S,b)=>{ss(b)},"-mark":(x,w,S,b)=>{const h=W(b);j({tag:"mark",children:h.children,pos:h.pos})},"+superscript":(x,w,S,b)=>{ss(b)},"-superscript":(x,w,S,b)=>{const h=W(b);j({tag:"superscript",children:h.children,pos:h.pos})},"+subscript":(x,w,S,b)=>{ss(b)},"-subscript":(x,w,S,b)=>{const h=W(b);j({tag:"subscript",children:h.children,pos:h.pos})},"+delete":(x,w,S,b)=>{ss(b)},"-delete":(x,w,S,b)=>{const h=W(b);j({tag:"delete",children:h.children,pos:h.pos})},"+insert":(x,w,S,b)=>{ss(b)},"-insert":(x,w,S,b)=>{const h=W(b);j({tag:"insert",children:h.children,pos:h.pos})},"+double_quoted":(x,w,S,b)=>{ss(b)},"-double_quoted":(x,w,S,b)=>{const h=W(b);j({tag:"double_quoted",children:h.children,pos:h.pos})},"+single_quoted":(x,w,S,b)=>{ss(b)},"-single_quoted":(x,w,S,b)=>{const h=W(b);j({tag:"single_quoted",children:h.children,pos:h.pos})},"+attributes":(x,w,S,b)=>{ss(b)},"-attributes":(x,w,S,b)=>{const h=W(b);if(h.attributes&&os.length>0){h.attributes.id&&(Bs[h.attributes.id]=!0);let L=Es();if(L===R())return;let D=!1;if("tag"in L&&L.tag==="str"){const H=L.text.match(/[^\s]+$/);if(H&&H.index&&H.index>0){let us;if(L.pos){const ys=L.pos.end;L.pos.end={line:ys.line,col:ys.col-H[0].length,offset:ys.offset-H[0].length},us={start:{line:ys.line,col:ys.col-H[0].length+1,offset:ys.offset-H[0].length+1},end:ys}}L.text=L.text.substring(0,H.index),j({tag:"str",text:H[0],pos:us})}else H||(D=!0)}if(L=Es(),D){gt(new a.Warning("Ignoring unattached attribute",z.sourcePositions?ts(w):w));return}L.attributes||(L.attributes={});for(const H in h.attributes)H==="class"&&L.attributes[H]?L.attributes[H]=L.attributes[H]+" "+h.attributes[H]:L.attributes[H]=h.attributes[H]}},"+block_attributes":(x,w,S,b)=>{ss(b)},"-block_attributes":(x,w,S,b)=>{const h=W(b);if(h.attributes&&os.length>0){h.attributes.id&&(Bs[h.attributes.id]=!0);for(const L in h.attributes)L==="class"&&Ms[L]?Ms[L]=Ms[L]+" "+h.attributes[L]:Ms[L]=h.attributes[L]}},class:(x,w,S,b)=>{const h=R(),L=q.substring(w,S+1);h.attributes||(h.attributes={}),h.attributes.class?h.attributes.class=h.attributes.class+" "+L:h.attributes.class=L},id:(x,w,S,b)=>{const h=R(),L=q.substring(w,S+1);h.attributes?h.attributes.id=L:h.attributes={id:L}},key:(x,w,S,b)=>{const h=R(),L=q.substring(w,S+1);h.data.key=L,h.attributes||(h.attributes={}),h.attributes[h.data.key]=""},value:(x,w,S,b)=>{const h=R(),L=q.substring(w,S+1).replace(/[ \r\n]+/g," ").replace(/\\([.,\\/#!$%^&*;:{}=\-_`~+[\]()'"?|])/g,"$1");if(h.attributes||(h.attributes={}),h.data.key)h.attributes[h.data.key]=h.attributes[h.data.key]+L;else throw new Error("Encountered value without key")},"+linktext":(x,w,S,b)=>{ss(b),R().data.isimage=!1},"-linktext":(x,w,S,b)=>{},"+imagetext":(x,w,S,b)=>{ss(b),R().data.isimage=!0},"-imagetext":(x,w,S,b)=>{},"+destination":(x,w,S,b)=>{as=A.Literal},"-destination":(x,w,S,b)=>{const h=W(b);j({tag:h.data.isimage?"image":"link",destination:J.replace(/[\r\n]/g,""),children:h.children,pos:h.pos}),as=A.Normal,J=""},"+reference":(x,w,S,b)=>{as=A.Literal},"-reference":(x,w,S,b)=>{const h=W(b);let L=J;L.length===0&&(L=n(h)),j({tag:h.data.isimage?"image":"link",reference:N(L),children:h.children,pos:h.pos}),as=A.Normal,J=""},"+verbatim":(x,w,S,b)=>{as=A.Verbatim,ss(b)},"-verbatim":(x,w,S,b)=>{const h=W(b);j({tag:"verbatim",text:o(J),pos:h.pos}),as=A.Normal,J=""},raw_format:(x,w,S,b)=>{const h=q.substring(w,S+1).replace(/^\{?=/,"").replace(/\}$/,""),L=R();if(as===A.Verbatim)L.data.format=h;else{const D=L.children[L.children.length-1];if(D&&"tag"in D&&D.tag==="verbatim")D.tag="raw_inline",D.format=h;else throw new Error("raw_format is not after verbatim or code_block.")}},"+display_math":(x,w,S,b)=>{as=A.Verbatim,ss(b)},"+inline_math":(x,w,S,b)=>{as=A.Verbatim,ss(b)},"-display_math":(x,w,S,b)=>{const h=W(b);j({tag:"display_math",text:o(J),pos:h.pos}),as=A.Normal,J=""},"-inline_math":(x,w,S,b)=>{const h=W(b);j({tag:"inline_math",text:o(J),pos:h.pos}),as=A.Normal,J=""},"+url":(x,w,S,b)=>{as=A.Literal,ss(b)},"-url":(x,w,S,b)=>{const h=W(b);j({tag:"url",text:J.replace(/[\r\n]/g,""),pos:h.pos}),as=A.Normal,J=""},"+email":(x,w,S,b)=>{as=A.Literal,ss(b)},"-email":(x,w,S,b)=>{const h=W(b);j({tag:"email",text:J.replace(/[\r\n]/g,""),pos:h.pos}),as=A.Normal,J=""},"+para":(x,w,S,b)=>{ss(b)},"-para":(x,w,S,b)=>{const h=W(b);j({tag:"para",children:h.children,attributes:h.attributes,pos:h.pos})},"+heading":(x,w,S,b)=>{ss(b),R().data.level=1+S-w},"-heading":(x,w,S,b)=>{const h=W(b);h.attributes||(h.attributes={}),h.autoAttributes||(h.autoAttributes={});const L=n(h).trim();h.attributes.id||(h.autoAttributes.id=Js(L),Bs[h.autoAttributes.id]=!0);const D=N(L);!Ks[D]&&!Os[D]&&(Os[D]={tag:"reference",label:D,destination:"#"+(h.attributes.id||h.autoAttributes.id)});let H=R();if(H.data.headinglevel!==void 0){for(;H&&H.data.headinglevel!==void 0&&H.data.headinglevel>=h.data.level;)H=W(b),j({tag:"section",children:H.children,attributes:H.attributes,autoAttributes:H.autoAttributes,pos:H.pos}),H=R();ss(b),R().data.headinglevel=h.data.level,h.autoAttributes&&h.autoAttributes.id&&(R().autoAttributes=h.autoAttributes,delete h.autoAttributes),h.attributes&&h.attributes.id&&(R().attributes=h.attributes,delete h.attributes)}j({tag:"heading",level:h.data.level,children:h.children,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos})},"+list":(x,w,S,b)=>{ss(b),R().data.styles=x,R().data.blanklines=!1,R().data.tight=!0,Gs++},"-list":(x,w,S,b)=>{const h=W(b),L=h.data.styles[0];if(!L)throw new Error("No style defined for list");const D=g(h.data.firstMarker,L);j(L===":"?{tag:"definition_list",children:h.children,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos}:L==="X"?{tag:"task_list",tight:h.data.tight,children:h.children,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos}:L==="+"||L==="*"||L==="-"?{tag:"bullet_list",tight:h.data.tight,style:L,children:h.children,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos}:{tag:"ordered_list",style:L,children:h.children,start:D,tight:h.data.tight,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos}),Gs--},"+list_item":(x,w,S,b)=>{x.length<R().data.styles.length&&(R().data.styles=x),R().data.firstMarker||(R().data.firstMarker=q.substring(w,S+1)),ss(b),x.length===1&&x[0]===":"&&(R().data.definitionList=!0)},"-list_item":(x,w,S,b)=>{const h=W(b);if(h.data.definitionList)if(h.children[0]&&h.children[0].tag==="para"){const L={tag:"term",children:h.children[0].children};h.children.shift();const D={tag:"definition",children:h.children};j({tag:"definition_list_item",children:[L,D],attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos})}else{const L={tag:"term",children:[]},D={tag:"definition",children:h.children};j({tag:"definition_list_item",children:[L,D],attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos})}else h.data.checkbox?j({tag:"task_list_item",children:h.children,attributes:h.attributes,autoAttributes:h.autoAttributes,checkbox:h.data.checkbox,pos:h.pos}):j({tag:"list_item",children:h.children,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos})},checkbox_checked:(x,w,S,b)=>{R().data.checkbox="checked"},checkbox_unchecked:(x,w,S,b)=>{R().data.checkbox="unchecked"},"+block_quote":(x,w,S,b)=>{ss(b)},"-block_quote":(x,w,S,b)=>{const h=W(b);j({tag:"block_quote",children:h.children,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos})},"+table":(x,w,S,b)=>{ss(b),R().data.aligns=[]},"-table":(x,w,S,b)=>{var h;const L=W(b),D=L.children;let H={tag:"caption",children:[]};((h=D[0])===null||h===void 0?void 0:h.tag)==="caption"&&(H=D.shift()),j({tag:"table",children:[H,...D],attributes:L.attributes,autoAttributes:L.autoAttributes,pos:L.pos})},"+row":(x,w,S,b)=>{ss(b),R().data.aligns=[]},"-row":(x,w,S,b)=>{const h=W(b);if(h.children.length===0){R().data.aligns=h.data.aligns;const L=Es();if(L&&"tag"in L&&L.tag==="row"){L.head=!0;for(let D=0;D<L.children.length;D++)L.children[D].head=!0,L.children[D].align=h.data.aligns[D]||"default"}}else{h.data.aligns=[];for(let L=0;L<h.children.length;L++)h.children[L].align=R().data.aligns[L]||"default";j({tag:"row",children:h.children,head:!1,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos})}},separator_default:(x,w,S,b)=>{R().data.aligns.push("default")},separator_left:(x,w,S,b)=>{R().data.aligns.push("left")},separator_right:(x,w,S,b)=>{R().data.aligns.push("right")},separator_center:(x,w,S,b)=>{R().data.aligns.push("center")},"+cell":(x,w,S,b)=>{ss(b)},"-cell":(x,w,S,b)=>{const h=W(b);j({tag:"cell",children:h.children,head:!1,align:"default",attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos})},"+caption":(x,w,S,b)=>{ss(b)},"-caption":(x,w,S,b)=>{var h;const L=W(b),D=Es();if(!D||"tag"in D&&D.tag!=="table")return;const H={tag:"caption",children:L.children,attributes:L.attributes,autoAttributes:L.autoAttributes,pos:L.pos};((h=D.children[0])===null||h===void 0?void 0:h.tag)==="caption"&&(D.children[0]=H)},"+footnote":(x,w,S,b)=>{ss(b)},"-footnote":(x,w,S,b)=>{const h=W(b);if(h.data.label){const L=N(h.data.label);dt[L]={tag:"footnote",label:L||"",children:h.children,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos}}else gt(new a.Warning("Ignoring footnote without a label.",z.sourcePositions?ts(S):S))},note_label:(x,w,S,b)=>{R().data.label=q.substring(w,S+1)},"+code_block":(x,w,S,b)=>{ss(b),as=A.Verbatim},"-code_block":(x,w,S,b)=>{const h=W(b);h.data.format?j({tag:"raw_block",format:h.data.format,text:J,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos}):j({tag:"code_block",text:J,lang:h.data.lang,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos}),as=A.Normal,J=""},code_language:(x,w,S,b)=>{const h=R();h.data.lang=q.substring(w,S+1)},"+div":(x,w,S,b)=>{ss(b)},"-div":(x,w,S,b)=>{const h=W(b);j({tag:"div",children:h.children,attributes:h.attributes,autoAttributes:h.autoAttributes,pos:h.pos})},thematic_break:(x,w,S,b)=>{const h={tag:"thematic_break",pos:b};Fs(h),j(h)},left_single_quote:(x,w,S,b)=>{j({tag:"smart_punctuation",type:"left_single_quote",text:"'",pos:b})},right_single_quote:(x,w,S,b)=>{j({tag:"smart_punctuation",type:"right_single_quote",text:"'",pos:b})},left_double_quote:(x,w,S,b)=>{j({tag:"smart_punctuation",type:"left_double_quote",text:'"',pos:b})},right_double_quote:(x,w,S,b)=>{j({tag:"smart_punctuation",type:"right_double_quote",text:'"',pos:b})},ellipses:(x,w,S,b)=>{j({tag:"smart_punctuation",type:"ellipses",text:"...",pos:b})},en_dash:(x,w,S,b)=>{j({tag:"smart_punctuation",type:"en_dash",text:"--",pos:b})},em_dash:(x,w,S,b)=>{j({tag:"smart_punctuation",type:"em_dash",text:"---",pos:b})},blankline:(x,w,S,b)=>{let h;"tight"in R().data?h=R():os.length>=2&&"tight"in os[os.length-2].data&&(h=os[os.length-2]),h&&(h.data.blanklines=!0)}},st=function(x,w){let S,b,h;z.sourcePositions&&(S=ts(w.startpos),b=ts(w.endpos),h={start:S,end:b});let L=w.annot,D=[];if(w.annot.includes("|")){const us=w.annot.split("|");L=us[0],D=us.slice(1)}if(Gs>0&&L!=="blankline"){let us;const ys=R();ys&&(ys.data&&"tight"in ys.data?us=ys:x.length>=2&&"tight"in x[x.length-2].data&&(us=x[x.length-2])),us&&(!/^[+-]list/.test(L)&&us.data.blanklines&&(us.data.tight=!1),/^[-+]list_item$/.test(L)||(us.data.blanklines=!1))}const H=bt[L];H&&H(D,w.startpos,w.endpos,h)},os=[{children:[],data:{headinglevel:0},pos:{start:{line:0,col:0,offset:0},end:{line:0,col:0,offset:0}}}];let Vs=0;for(const x of ut)st(os,x),Vs=x.endpos;let Us;z.sourcePositions&&(Us=ts(Vs));let Ns=R();for(;Ns&&Ns.data.headinglevel>0;)W(Us&&{start:Us,end:Us}),j({tag:"section",children:Ns.children,attributes:Ns.attributes,autoAttributes:Ns.autoAttributes,pos:Ns.pos}),Ns=R();const Hs={tag:"doc",references:Ks,autoReferences:Os,footnotes:dt,children:os[0].children};return os[0].autoAttributes&&(Hs.autoAttributes=os[0].autoAttributes),os[0].attributes&&(Hs.attributes=os[0].attributes),Hs};s.parse=v;const I={children:!0,tag:!0,pos:!0,attributes:!0,autoAttributes:!0,references:!0,autoReferences:!0,footnotes:!0},Y=function(q){return JSON.stringify(q).replace(/\\\n/g,"\\n")},V=function(q,z,F){if(z.push(" ".repeat(F)),F>128){z.push(`(((DEEPLY NESTED CONTENT OMITTED)))
`);return}z.push(q.tag),q.pos&&z.push(` (${q.pos.start.line}:${q.pos.start.col}:${q.pos.start.offset}-${q.pos.end.line}:${q.pos.end.col}:${q.pos.end.offset})`);for(const ts in q)if(!I[ts]){const as=q[ts];as!=null&&z.push(` ${ts}=${Y(as)}`)}if(q.attributes)for(const ts in q.attributes)z.push(` ${ts}=${Y(q.attributes[ts])}`);if(z.push(`
`),q.children)for(const ts of q.children)V(ts,z,F+2)},es=function(q){const z=[];if(V(q,z,0),Object.keys(q.references).length>0){z.push(`references
`);for(const F in q.references)z.push(`  [${Y(F)}] =
`),V(q.references[F],z,4)}if(Object.keys(q.footnotes).length>0){z.push(`footnotes
`);for(const F in q.footnotes)z.push(`  [${Y(F)}] =
`),V(q.footnotes[F],z,4)}return z.join("")};s.renderAST=es})(It);var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.HTMLRenderer=Ws.renderHTML=void 0;const yr=It,dc=zs,uc=/[&<>]/,gc=/[&<>"]/;class Fr{constructor(t){this.smartPunctuationMap={right_single_quote:"’",left_single_quote:"‘",right_double_quote:"”",left_double_quote:"“",ellipses:"…",em_dash:"—",en_dash:"–"},this.warn=t.warn||(()=>{}),this.options=t||{},this.tight=!1,this.footnoteIndex={},this.nextFootnoteIndex=1,this.references={},this.autoReferences={}}escape(t){return uc.test(t)?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}escapeAttribute(t){return gc.test(t)?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t}renderAttributes(t,a){let e="";if(a)for(const l in a)if(l==="class"){let o=a[l];t.attributes&&t.attributes.class&&(o=`${o} ${t.attributes.class}`),e+=` ${l}="${this.escapeAttribute(o)}"`}else e+=` ${l}="${this.escapeAttribute(a[l])}"`;const n=Object.assign(Object.assign({},t.autoAttributes),t.attributes);if(n)for(const l in n){const o=n[l];l==="class"&&a&&a.class||(e+=` ${l}="${this.escapeAttribute(o)}"`)}if(t.pos){const l=t.pos.start,o=t.pos.end;e+=` data-startpos="${l.line}:${l.col}:${l.offset}" data-endpos="${o.line}:${o.col}:${o.offset}"`}return e}renderTag(t,a,e){let n="";return(a.attributes||a.autoAttributes||e||a.pos)&&(n=this.renderAttributes(a,e)),`<${t}${n}>`}renderCloseTag(t){return`</${t}>`}inTags(t,a,e,n){const l=e>=2?`
`:"",o=e>=1?`
`:"";return`${this.renderTag(t,a,n)}${l}${this.renderChildren(a)}</${t}>${o}`}addBacklink(t,a){const e=`<a href="#fnref${a}" role="doc-backlink">↩︎</a>`;return/\<\/p\>[\r\n]*$/.test(t)?t.replace(/\<\/p\>([\r\n]*)$/,e+"</p>$1"):t+`<p>${e}</p>
`}renderChildren(t){let a="";const e=this.tight;"tight"in t&&(this.tight=!!t.tight);for(const n of t.children)a+=this.renderAstNode(n);return"tight"in t&&(this.tight=e),a}renderAstNode(t){var a;const e=(a=this.options.overrides)===null||a===void 0?void 0:a[t.tag];return e?e(t,this):this.renderAstNodeDefault(t)}renderNotes(t){let a="";const e=[],n={};for(const l in t)n[l]=this.renderChildren(t[l]);for(const l in this.footnoteIndex){const o=this.footnoteIndex[l];o&&(e[o]=n[l])}a+=`<section role="doc-endnotes">
<hr>
<ol>
`;for(let l=1;l<e.length;l++){const o=e[l]||"";a+=`<li id="fn${l}">
`,a+=this.addBacklink(o,l),a+=`</li>
`}return a+=`</ol>
</section>
`,a}renderAstNodeDefault(t){var a;switch(t.tag){case"doc":{let e="";return e+=this.renderChildren(t),this.nextFootnoteIndex>1&&(e+=this.renderNotes(t.footnotes)),e}case"para":return this.tight?`${this.renderChildren(t)}
`:this.inTags("p",t,1);case"block_quote":return this.inTags("blockquote",t,2);case"div":return this.inTags("div",t,2);case"section":return this.inTags("section",t,2);case"list_item":return this.inTags("li",t,2);case"task_list_item":return this.inTags("li",t,2,{class:t.checkbox==="checked"?"checked":"unchecked"});case"definition_list_item":return this.renderChildren(t);case"definition":return this.inTags("dd",t,2);case"term":return this.inTags("dt",t,1);case"definition_list":return this.inTags("dl",t,2);case"bullet_list":return this.inTags("ul",t,2);case"task_list":return this.inTags("ul",t,2,{class:"task-list"});case"ordered_list":{const e={};return t.start&&t.start!==1&&(e.start=t.start.toString()),t.style&&!/1/.test(t.style)&&(e.type=t.style.replace(/[().]/g,"")),this.inTags("ol",t,2,e)}case"heading":return this.inTags(`h${t.level}`,t,1);case"footnote_reference":{let e="";const n=t.text;let l=this.footnoteIndex[n];return l||(l=this.nextFootnoteIndex,this.footnoteIndex[n]=l,this.nextFootnoteIndex++),e+=this.renderTag("a",t,{id:"fnref"+l,href:"#fn"+l,role:"doc-noteref"}),e+="<sup>",e+=this.escape(l.toString()),e+="</sup></a>",e}case"table":return this.inTags("table",t,2);case"caption":{let e="";return t.children.length>0&&(e+=this.inTags("caption",t,1)),e}case"row":return this.inTags("tr",t,2);case"cell":{const e={};return t.align&&t.align!=="default"&&(e.style=`text-align: ${t.align};`),this.inTags(t.head?"th":"td",t,1,e)}case"thematic_break":{let e="";return e+=this.renderTag("hr",t),e+=`
`,e}case"code_block":{let e="";return e+=this.renderTag("pre",t),e+="<code",t.lang&&(e+=` class="language-${this.escapeAttribute(t.lang)}"`),e+=">",e+=this.escape(t.text),e+=this.renderCloseTag("code"),e+=this.renderCloseTag("pre"),e+=`
`,e}case"raw_block":{let e="";return t.format==="html"&&(e+=t.text),e}case"str":return t.attributes||t.autoAttributes?`${this.renderTag("span",t)}${this.escape(t.text)}</span>`:this.escape(t.text);case"smart_punctuation":return this.smartPunctuationMap[t.type]||t.text;case"double_quoted":{let e="";return e+=this.smartPunctuationMap.left_double_quote||'"',e+=this.renderChildren(t),e+=this.smartPunctuationMap.right_double_quote||'"',e}case"single_quoted":{let e="";return e+=this.smartPunctuationMap.left_single_quote||"'",e+=this.renderChildren(t),e+=this.smartPunctuationMap.right_single_quote||"'",e}case"symb":return this.escape(`:${t.alias}:`);case"inline_math":{let e="";return e+=this.renderTag("span",t,{class:"math inline"}),e+=`\\(${this.escape(t.text)}\\)`,e+=this.renderCloseTag("span"),e}case"display_math":{let e="";return e+=this.renderTag("span",t,{class:"math display"}),e+=`\\[${this.escape(t.text)}\\]`,e+=this.renderCloseTag("span"),e}case"verbatim":{let e="";return e+=this.renderTag("code",t),e+=this.escape(t.text),e+=this.renderCloseTag("code"),e}case"raw_inline":{let e="";return t.format==="html"&&(e+=t.text),e}case"soft_break":return`
`;case"hard_break":return`<br>
`;case"non_breaking_space":return"&nbsp;";case"link":case"image":{const e={};let n=t.destination;if(t.reference){const l=this.references[t.reference]||this.autoReferences[t.reference];if(l){if(n=l.destination,t.tag==="image"?(e.alt=(0,yr.getStringContent)(t),e.src=n):e.href=n,l.attributes)for(const o in l.attributes)(!t.attributes||!t.attributes[o])&&(e[o]=l.attributes[o]);if(l.autoAttributes)for(const o in l.autoAttributes)(!t.autoAttributes||!t.autoAttributes[o])&&(e[o]=l.autoAttributes[o])}else this.warn(new dc.Warning(`Reference ${JSON.stringify(t.reference)} not found`,(a=t==null?void 0:t.pos)===null||a===void 0?void 0:a.end))}else t.tag==="image"?(e.alt=(0,yr.getStringContent)(t),n!==void 0&&(e.src=n)):n!==void 0&&(e.href=n);return t.tag==="image"?this.renderTag("img",t,e):this.inTags("a",t,0,e)}case"url":case"email":{let e="";const n={};return t.tag==="email"?n.href="mailto:"+t.text:n.href=t.text,e+=this.renderTag("a",t,n),e+=this.escape(t.text),e+=this.renderCloseTag("a"),e}case"strong":return this.inTags("strong",t,0);case"emph":return this.inTags("em",t,0);case"span":return this.inTags("span",t,0);case"mark":return this.inTags("mark",t,0);case"insert":return this.inTags("ins",t,0);case"delete":return this.inTags("del",t,0);case"superscript":return this.inTags("sup",t,0);case"subscript":return this.inTags("sub",t,0);default:return""}}render(t){return this.references=t.references,this.autoReferences=t.autoReferences,this.renderAstNode(t)}}Ws.HTMLRenderer=Fr;const bc=function(s,t={}){return new Fr(t).render(s)};Ws.renderHTML=bc;var Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.applyFilter=void 0;class fc{constructor(t){this.finished=!1,this.stack=[],this.enter=!0,this.top=t,this.current=t}walk(t){for(;!this.finished;){t(this);const a=this.stack&&this.stack[this.stack.length-1];if(this.enter)"children"in this.current&&this.current.children.length>0?(this.stack.push({node:this.current,childIndex:0}),this.current=this.current.children[0],this.enter=!0):this.enter=!1;else if(a){a.childIndex++;const e=a.node.children[a.childIndex];e?(this.current=e,this.enter=!0):(this.stack.pop(),this.current=a.node,this.enter=!1)}else this.finished=!0}}}const yc=function(s,t,a){if(!s||!s.tag)throw new Error("Filter called on a non-node.");const e=a[s.tag];if(!e)return!1;let n;if(t?"enter"in e&&e.enter&&(n=e.enter):"exit"in e&&e.exit?n=e.exit:n=e,typeof n=="function")return n(s)},ye=function(s,t){return new fc(s).walk(a=>{let e=yc(a.current,a.enter,t);const n=a.stack[a.stack.length-1];if(typeof e=="object"&&"stop"in e&&e.stop&&(e=e.stop,a.enter=!1),e){if(Array.isArray(e))if(n)n.node.children.splice(n.childIndex,1,...e),a.current=n.node.children[n.childIndex],e.length>1&&(n.childIndex+=e.length-1);else throw Error("Cannot replace top node with multiple nodes");else if(typeof e=="object"&&"tag"in e&&e.tag)if(n)n.node.children[n.childIndex]=e;else return e}}),s},vc=function(s,t){const a=t();let e;Array.isArray(a)?e=a:e=[a];for(const n of e){ye(s,n);for(const l in s.footnotes)ye(s.footnotes[l],n);for(const l in s.references)ye(s.references[l],n)}};Et.applyFilter=vc;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.fromPandoc=Qs.toPandoc=void 0;const Nt=zs,kt={Decimal:{Period:"1.",OneParen:"1)",TwoParens:"(1)"},LowerAlpha:{Period:"a.",OneParen:"a)",TwoParens:"(a)"},UpperAlpha:{Period:"A.",OneParen:"A)",TwoParens:"(A)"},LowerRoman:{Period:"i.",OneParen:"i)",TwoParens:"(i)"},UpperRoman:{Period:"I.",OneParen:"I)",TwoParens:"(I)"}},Vr={};for(const s in kt)for(const t in kt[s])Vr[kt[s][t]]=[s,t];const xc=function(s){return s.t==="Para"&&(s.t="Plain"),s},Ss=function(s){const t=Object.assign(Object.assign({},s.autoAttributes),s.attributes);if(t){const a=t.id||"",e=t.class&&t.class.split(" ")||[],n=[];for(const l in t)l!==a&&l!=="class"&&n.push([l,t[l]]);return[a,e,n]}else return["",[],[]]};class wc{constructor(t={}){this.references={},this.footnotes={},this.options=t,this.smartPunctuationMap=this.options.smartPunctuationMap||{right_single_quote:"’",left_single_quote:"‘",right_double_quote:"”",left_double_quote:"“",ellipses:"…",em_dash:"—",en_dash:"–"},this.warn||(this.warn=()=>{})}toPandocChildren(t){if("children"in t){const a=[];return t.children.forEach(e=>{this.addToPandocElts(a,e)}),a}else return[]}toPandocDefinitionListItem(t){const a=this;return function(e){if(!("children"in e))return[];const[n,l]=e.children;return[a.toPandocChildren(n),[a.toPandocChildren(l)]]}}toPandocListItem(t){const a=this;return function(e){let n=a.toPandocChildren(e);return"checkbox"in e&&e.checkbox&&n[0].t==="Para"&&(e.checkbox==="checked"?n[0].c.unshift({t:"Str",c:"☒"},{t:"Space"}):n[0].c.unshift({t:"Str",c:"☐"},{t:"Space"})),"tight"in t&&t.tight&&(n=n.map(xc)),n}}addToPandocElts(t,a){switch(a.tag){case"section":case"div":{const e=Ss(a);a.tag==="section"&&e[1].unshift("section"),t.push({t:"Div",c:[e,this.toPandocChildren(a)]});break}case"block_quote":t.push({t:"BlockQuote",c:this.toPandocChildren(a)});break;case"definition_list":{const e=a.children.map(this.toPandocDefinitionListItem(a));t.push({t:"DefinitionList",c:e});break}case"task_list":case"bullet_list":{let e;e=a.children.map(this.toPandocListItem(a)),t.push({t:"BulletList",c:e});break}case"ordered_list":{const e=a.children.map(this.toPandocListItem(a)),[n,l]=Vr[a.style],o=a.start||1;t.push({t:"OrderedList",c:[[o,{t:n},{t:l}],e]});break}case"task_list_item":case"list_item":break;case"para":t.push({t:"Para",c:this.toPandocChildren(a)});break;case"heading":t.push({t:"Header",c:[a.level,Ss(a),this.toPandocChildren(a)]});break;case"code_block":{const e=Ss(a);a.lang&&e[1].unshift(a.lang),t.push({t:"CodeBlock",c:[e,a.text]});break}case"raw_block":t.push({t:"RawBlock",c:[a.format,a.text]});break;case"thematic_break":t.push({t:"HorizontalRule"});break;case"table":{const e=Ss(a),n=["",[],[]];let l=[],o=[],p=[];const d=[],g=[n,[]];let A=[],N=[];const v={left:"AlignLeft",right:"AlignRight",center:"AlignCenter",default:"AlignDefault"},I=function(q){return[{t:v[q.align]||"AlignDefault"},{t:"ColWidthDefault"}]},Y=this,V=function(q){if("children"in q)return[Ss(q),{t:"align"in q&&v[q.align]||"AlignDefault"},1,1,[{t:"Plain",c:Y.toPandocChildren(q)}]]},es=function(q){if("children"in q)return[Ss(q),q.children.map(V)]};for(let q=0;q<a.children.length;q++){const z=a.children[q];if(!("children"in z))break;o.length===0&&(o=z.children.map(I)),z.tag==="caption"?z.children.length&&(l=this.toPandocChildren(z)):z.head?N.length===0?A.push(es(z)):(d.push([n,0,A,N]),N=[],A=[es(z)]):(d.length===0&&N.length===0&&(p=A,A=[]),N.push(es(z)))}(A.length>0||N.length>0)&&d.push([n,0,A,N]),t.push({t:"Table",c:[e,[null,[{t:"Plain",c:l}]],o,[n,p],d,g]});break}case"raw_inline":t.push({t:"RawInline",c:[a.format,a.text]});break;case"soft_break":t.push({t:"SoftBreak"});break;case"hard_break":t.push({t:"LineBreak"});break;case"str":a.text.split(/ +/).forEach((e,n)=>{n>0&&t.push({t:"Space"}),e.length>0&&t.push({t:"Str",c:e})});break;case"verbatim":t.push({t:"Code",c:[Ss(a),a.text]});break;case"inline_math":t.push({t:"Math",c:[{t:"InlineMath"},a.text]});break;case"display_math":t.push({t:"Math",c:[{t:"DisplayMath"},a.text]});break;case"non_breaking_space":t.push({t:"Str",c:" "});break;case"smart_punctuation":t.push({t:"Str",c:this.smartPunctuationMap[a.type]||a.text});break;case"symb":t.push({t:"Span",c:[["",["symbol"],[["alias",a.alias]]],[{t:"Str",c:":"+a.alias+":"}]]});break;case"single_quoted":case"double_quoted":{const e={t:a.tag==="single_quoted"?"SingleQuote":"DoubleQuote"};t.push({t:"Quoted",c:[e,this.toPandocChildren(a)]});break}case"email":case"url":{let e=a.text;a.tag==="email"&&(e="mailto:"+e);const n=Ss(a);n[1].unshift(a.tag==="email"?"email":"uri"),t.push({t:"Link",c:[n,[{t:"Str",c:a.text}],[e,""]]});break}case"image":case"link":{let e=a.destination||"";const n={};if(a.reference){const g=this.references[a.reference];if(g){e=g.destination||"";const A=Object.assign(Object.assign({},g.autoAttributes),g.attributes);if(A)for(const N in A)n[N]=A[N]}else this.warn(new Nt.Warning("Reference "+a.reference+" not found."))}const l=Object.assign(Object.assign({},a.autoAttributes),a.attributes);if(l)for(const g in l)n[g]&&g==="class"?n[g]+=" "+l[g]:n[g]||(n[g]=l[g]);const o=Ss({tag:"link",attributes:n,children:[]}),p=e||"",d=a.attributes&&a.attributes.title||a.autoAttributes&&a.autoAttributes.title||"";d&&(o[2]=o[2].filter(([g,A])=>g!=="title")),t.push({t:a.tag==="link"?"Link":"Image",c:[o,this.toPandocChildren(a),[p,d]]});break}case"emph":t.push({t:"Emph",c:this.toPandocChildren(a)});break;case"strong":t.push({t:"Strong",c:this.toPandocChildren(a)});break;case"superscript":t.push({t:"Superscript",c:this.toPandocChildren(a)});break;case"subscript":t.push({t:"Subscript",c:this.toPandocChildren(a)});break;case"span":t.push({t:"Span",c:[Ss(a),this.toPandocChildren(a)]});break;case"mark":t.push({t:"Span",c:[["",["mark"],[]],this.toPandocChildren(a)]});break;case"insert":t.push({t:"Underline",c:this.toPandocChildren(a)});break;case"delete":t.push({t:"Strikeout",c:this.toPandocChildren(a)});break;case"footnote_reference":{const e=this.footnotes[a.text];e?t.push({t:"Note",c:this.toPandocChildren(e)}):t.push({t:"Superscript",c:[{t:"Str",c:a.text}]});break}default:this.warn(new Nt.Warning("Skipping unhandled node "+a.tag))}}toPandoc(t){return this.references=t.references,this.footnotes=t.footnotes,{"pandoc-api-version":[1,23],meta:{},blocks:this.toPandocChildren(t)}}}const Cs=function(s){const t={};s[0]&&(t.id=s[0]),s[1].length>0&&(t.class=s[1].join(" "));for(let a=0;a<s[2].length;a++)t[s[2][a][0].toString()]=s[2][a][1];return Object.keys(t).length===0?null:t},Ce=function(s){return s.t==="Plain"||s.t==="Para"},kc=function(s){if(!s[0])return null;const t=s[0];return Ce(t)&&t.c.length>=2&&t.c[0].t==="Str"&&t.c[1].t==="Space"?t.c[0].c==="☒"?(t.c.shift(),t.c.shift(),"checked"):t.c[0].c==="☐"?(t.c.shift(),t.c.shift(),"unchecked"):null:null};class _c{constructor(t={}){this.footnotes={},this.footnoteIndex=0,this.options=t,this.warn=t.warn||(()=>{})}fromPandocInlines(t){let a=[];const e=[];for(let n=0;n<t.length;n++){const l=t[n];if(l.t==="Str")a.push(l.c);else if(l.t==="Space")a.push(" ");else switch(a.length>0&&(e.push({tag:"str",text:a.join("")}),a=[]),l.t){case"SoftBreak":e.push({tag:"soft_break"});break;case"LineBreak":e.push({tag:"hard_break"});break;case"Emph":e.push({tag:"emph",children:this.fromPandocInlines(l.c)});break;case"Strong":e.push({tag:"strong",children:this.fromPandocInlines(l.c)});break;case"Superscript":e.push({tag:"superscript",children:this.fromPandocInlines(l.c)});break;case"Subscript":e.push({tag:"subscript",children:this.fromPandocInlines(l.c)});break;case"Strikeout":e.push({tag:"delete",children:this.fromPandocInlines(l.c)});break;case"Span":{const o={tag:"span",children:this.fromPandocInlines(l.c[1])},p=Cs(l.c[0]);p&&(o.attributes=p),e.push(o);break}case"Underline":e.push({tag:"span",attributes:{class:"underline"},children:this.fromPandocInlines(l.c)});break;case"SmallCaps":e.push({tag:"span",attributes:{class:"smallcaps"},children:this.fromPandocInlines(l.c)});break;case"Math":e.push({tag:l.c[0].t==="DisplayMath"?"display_math":"inline_math",text:l.c[1]});break;case"Quoted":l.c[0].t==="SingleQuote"?e.push({tag:"single_quoted",children:this.fromPandocInlines(l.c[1])}):e.push({tag:"double_quoted",children:this.fromPandocInlines(l.c[1])});break;case"RawInline":e.push({tag:"raw_inline",format:l.c[0],text:l.c[1]});break;case"Code":{const o=Cs(l.c[0]),p={tag:"verbatim",text:l.c[1]};o&&(p.attributes=o),e.push(p);break}case"Image":case"Link":{let o=Cs(l.c[0]);l.c[2][1]&&(o=o||{},o.title=l.c[2][1]);const p=l.c[2][0],d=this.fromPandocInlines(l.c[1]);if(l.t==="Image"){const g={tag:"image",destination:p,children:d};o&&(g.attributes=o),e.push(g)}else{const g={tag:"link",destination:p,children:d};o&&(g.attributes=o),e.push(g)}break}case"Cite":e.push({tag:"span",attributes:{class:"cite"},children:this.fromPandocInlines(l.c[1])});break;case"Note":{this.footnoteIndex++;const o=this.footnoteIndex.toString(),p=l.c.map(d=>this.fromPandocBlock(d));this.footnotes[this.footnoteIndex.toString()]={tag:"footnote",label:o,children:p},e.push({tag:"footnote_reference",text:o});break}}}return a.length>0&&e.push({tag:"str",text:a.join("")}),e}fromPandocBlock(t){switch(t.t){case"Plain":case"Para":return{tag:"para",children:this.fromPandocInlines(t.c)};case"BlockQuote":return{tag:"block_quote",children:t.c.map(a=>this.fromPandocBlock(a))};case"Div":{let a=Cs(t.c[0]);const e=/\bsection\b/.test(a&&a.class||"")?"section":"div",n=t.c[1].map(l=>this.fromPandocBlock(l));if(e==="section")return a=a||{},a.class=a.class.replace(/section */,""),a.class||delete a.class,{tag:"section",attributes:a,children:n};{const l={tag:"div",children:n};return a&&(l.attributes=a),l}}case"Header":{const a=Cs(t.c[1]),e={tag:"heading",level:t.c[0],children:this.fromPandocInlines(t.c[2])};return a&&(e.attributes=a),e}case"HorizontalRule":return{tag:"thematic_break"};case"RawBlock":return{tag:"raw_block",format:t.c[0],text:t.c[1]};case"CodeBlock":{const a=Cs(t.c[0]);let e;if(a&&a.class){const l=a.class.split(/  */);e=l[0],l.shift(),l.length>0?a.class=l.join(" "):delete a.class}const n={tag:"code_block",lang:e,text:t.c[1]};return a&&(n.attributes=a),e||delete n.lang,n}case"DefinitionList":{const a=[];for(let e=0;e<t.c.length;e++){const n=t.c[e][0],l=t.c[e][1],o=this.fromPandocInlines(n),p=[];for(let d=0;d<l.length;d++)l[d].map(g=>{p.push(this.fromPandocBlock(g))});a.push({tag:"definition_list_item",children:[{tag:"term",children:o},{tag:"definition",children:p}]})}return{tag:"definition_list",children:a}}case"OrderedList":case"BulletList":{const a=[],e=[];let n=!1,l;t.t==="BulletList"?l=t.c:l=t.c[1];for(let o=0;o<l.length;o++){const p=kc(l[o]),d=l[o].map(g=>(g.t==="Plain"?n=!0:g.t==="Para"&&(n=!1),this.fromPandocBlock(g)));p!==null?e.push({tag:"task_list_item",checkbox:p,children:d}):a.push({tag:"list_item",children:d})}if(t.t==="BulletList")return e.length>0?{tag:"task_list",tight:n,children:e}:{tag:"bullet_list",style:"-",tight:n,children:a};if(t.t==="OrderedList"){const o=t.c[0][0];let p=t.c[0][1].t;p==="DefaultStyle"&&(p="Decimal");let d=t.c[0][2].t;return d==="DefaultDelim"&&(d="Period"),{tag:"ordered_list",style:kt[p][d],start:o,tight:n,children:a}}}case"Table":{const a=Cs(t.c[0]),e=t.c[1][1],n={tag:"caption",children:[]};e.length>1||e.length===1&&!Ce(e[0])?this.warn(new Nt.Warning("Skipping block-level content in table caption.")):e[0]&&"c"in e[0]&&(n.children=this.fromPandocInlines(e[0].c));const l=t.c[2],o=[];for(const v in l)o.push(l[v][0].t.slice(5).toLowerCase());const p=[],d=t.c[3][1];for(const v in d)p.push(this.fromPandocRow(d[v],!0,0,o));const g=t.c[4];for(const v in g){const I=g[v][1],Y=g[v][2];for(const es in Y)p.push(this.fromPandocRow(Y[es],!0,I,o));const V=g[v][3];for(const es in V)p.push(this.fromPandocRow(V[es],!1,I,o))}const A=t.c[5][1];for(const v in A)p.push(this.fromPandocRow(A[v],!1,0,o));const N={tag:"table",children:[n,...p]};return a&&(N.attributes=a),N}case"Figure":{const a=Cs(t.c[0]);/\bsection\b/.test(a&&a.class||"");const e=t.c[2].map(o=>this.fromPandocBlock(o)),n=t.c[1][1];if(n.length>0){const o=n.map(p=>this.fromPandocBlock(p));e.push(...o)}const l={tag:"div",children:e};return a&&(l.attributes=a),l}case"LineBlock":{const a=[];for(let e=0;e<t.c.length;e++)e>0&&a.push({tag:"hard_break"}),a.push(...this.fromPandocInlines(t.c[e]));return{tag:"para",children:a}}case"Null":return{tag:"raw_block",format:"none",text:""}}return{tag:"raw_block",format:"error",text:"Could not convert "+t.t}}fromPandocRow(t,a,e,n){const l=Cs(t[0]),o=t[1],p=[];for(let g=0;g<o.length;g++)p.push(this.fromPandocCell(o[g],a||g<e,n[g]));const d={tag:"row",head:a,children:p};return l&&(d.attributes=l),d}fromPandocCell(t,a,e){let n=[];const l=Cs(t[0]);let o=t[1].t.slice(5).toLowerCase();o==="default"&&(o=e);const p=t[4];p.length>1||p.length===1&&!Ce(p[0])?(this.warn(new Nt.Warning("Skipping table cell with block-level content.")),n=[{tag:"str",text:"((content omitted))"}]):p[0]&&(n=this.fromPandocInlines(p[0].c));const d={tag:"cell",head:a,align:o,children:n};return l&&(d.attributes=l),d}fromPandoc(t){if(typeof t!="object")throw Error("Pandoc document must be an object");if(t["pandoc-api-version"])if(t.blocks){if(!t.meta)throw Error("Pandoc document lacks meta")}else throw Error("Pandoc document lacks blocks");else throw Error("Pandoc document lacks pandoc-api-version");return{tag:"doc",children:t.blocks.map(a=>this.fromPandocBlock(a)),footnotes:this.footnotes,references:{},autoReferences:{}}}}const Ac=function(s,t){return new wc(t).toPandoc(s)};Qs.toPandoc=Ac;const Mc=function(s,t){return new _c(t).fromPandoc(s)};Qs.fromPandoc=Mc;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.renderDjot=void 0;const Ds=ks,vr=It,Ur=function(s){const t=s.tag;return t==="space"||t==="soft_break"||t==="hard_break"},Sc=function(s){return s.children[0]&&Ur(s.children[0])},Cc=function(s){return s.children[0]&&Ur(s.children[s.children.length-1])},ve=function(s,t){const a=s.text.match(/(`+)/g),e={};if(a)for(const l in a)e[a[l].length]=!0;let n=t;for(;e[n];)n++;return"`".repeat(n)},xr=function(s){if(s<0||s>=4e3)return"?";let t="";for(;s>0;)if(s>=1e3)t+="M",s-=1e3;else if(s>=900)t+="CM",s-=900;else if(s>=500)t+="D",s-=500;else if(s>=400)t+="CD",s-=400;else if(s>=100)t+="C",s-=100;else if(s>=90)t+="XC",s-=90;else if(s>=50)t+="L",s-=50;else if(s>=40)t+="XL",s-=40;else if(s>=10)t+="X",s-=10;else if(s==9)t+="IX",s-=9;else if(s>=5)t+="V",s-=5;else if(s==4)t+="IV",s-=4;else if(s>=1)t+="I",s-=1;else throw new Error("toRoman encountered x = "+s);return t},qc=function(s,t){const a=t.replace(/[a-zA-Z0-9]+/g,"$"),e=t.replace(/[.()]/g,"");let n;switch(e){case"1":n=s.toString();break;case"a":n=String.fromCodePoint(96+s%26);break;case"A":n=String.fromCodePoint(64+s%26);break;case"i":n=xr(s).toLowerCase();break;case"I":n=xr(s);break;default:throw new Error("formatNumber encountered unknown style "+t)}return a.replace("$",n)};class Nc{constructor(t,a={}){this.prefixes=[],this.buffer=[],this.startOfLine=!0,this.endOfPrefix=0,this.column=0,this.needsBlankLine=!1,this.handlers={doc:e=>{this.renderChildren(e.children),this.prefixes=[],this.cr(),Object.keys(e.references).length>0&&(this.cr(),this.newline());for(const n in e.references)this.renderNode(e.references[n]);Object.keys(e.footnotes).length>0;for(const n in e.footnotes)this.renderNode(e.footnotes[n]);this.prefixes=[],this.cr()},footnote:e=>{this.lit("[^"+e.label+"]:"),this.space(),this.needsBlankLine=!1,this.prefixes.push("  "),this.renderChildren(e.children),this.prefixes.pop(),this.blankline()},reference:e=>{this.lit("["),this.lit(e.label),this.lit("]:"),this.prefixes.push("  "),this.space(),this.lit(e.destination),this.wrap(),this.prefixes.pop(),this.blankline()},para:e=>{this.renderChildren(e.children),this.blankline()},thematic_break:()=>{this.lit("* * * * *"),this.blankline()},div:e=>{this.lit(":::"),this.cr(),this.renderChildren(e.children),this.cr(),this.lit(":::"),this.blankline()},heading:e=>{const n="#".repeat(e.level);this.lit(n+" "),this.prefixes.push(n+" "),this.renderChildren(e.children),this.prefixes.pop(),this.blankline()},block_quote:e=>{this.prefixes.push("> "),this.lit("> "),this.renderChildren(e.children),this.prefixes.pop(),this.blankline()},section:e=>{this.renderChildren(e.children)},code_block:e=>{const n=ve(e,3);this.lit(n),e.lang&&this.lit(" "+e.lang),this.cr(),this.litlines(e.text),this.cr(),this.lit(n),this.blankline()},raw_block:e=>{const n=ve(e,3);this.lit(n),this.lit(" ="+e.format),this.cr(),this.litlines(e.text),this.cr(),this.lit(n),this.blankline()},definition_list:e=>{const n=e.children;for(let l=0;l<n.length;l++){const o=n[l];l>0&&this.newline(),this.lit(":"),this.needsBlankLine=!1,this.space(),this.prefixes.push(" ".repeat(2)),this.renderChildren(o.children),this.prefixes.pop()}},ordered_list:e=>{const n=e.style,l=e.start||1,o=e.children,p=e.tight;for(let d=0;d<o.length;d++){const g=o[d];d>0&&(this.cr(),p||this.newline());const A=qc(l+d,n);this.lit(A),this.needsBlankLine=!1,this.space(),this.prefixes.push(" ".repeat(A.length+1)),this.renderChildren(g.children),this.prefixes.pop()}p&&this.blankline()},bullet_list:e=>{const n=e.children,l=e.tight;for(let o=0;o<n.length;o++){const p=n[o];o>0&&(this.cr(),l||this.newline());const d=e.style;this.lit(d),this.needsBlankLine=!1,this.space(),this.prefixes.push(" ".repeat(d.length+1)),this.renderChildren(p.children),this.prefixes.pop()}l&&this.blankline()},task_list:e=>{const n=e.children,l=e.tight;for(let o=0;o<n.length;o++){const p=n[o];o>0&&(this.cr(),l||this.newline()),this.needsBlankLine=!1,this.lit(`- [${p.checkbox==="checked"?"X":" "}]`),this.space(),this.prefixes.push(" ".repeat(6)),this.renderChildren(p.children),this.prefixes.pop()}l&&this.blankline()},term:e=>{this.renderChildren(e.children),this.blankline()},definition:e=>{this.renderChildren(e.children)},table:e=>{const n=e.children.filter(Ds.isCaption),l=e.children.filter(Ds.isRow);for(let o=0;o<l.length;o++){const p=l[o];if("head"in p&&!p.head&&o>0&&l[o-1].head){const d=l[o-1];for(let g=0;g<d.children.length;g++){switch(g===0&&this.lit("|"),d&&d.children[g].align){case"left":this.lit(":--");break;case"right":this.lit("--:");break;case"center":this.lit(":-:");break;default:this.lit("---")}this.lit("|")}this.cr()}for(let d=0;d<p.children.length;d++){const g=p.children[d];d===0&&this.lit("|"),this.noWrap(()=>{g.tag==="cell"&&this.renderChildren(g.children)}),this.lit("|")}this.cr()}n.length>0&&n[0].children.length>0&&(this.newline(),this.lit("^ "),this.needsBlankLine=!1,this.prefixes.push("  "),this.renderChildren(n[0].children),this.prefixes.pop(),this.blankline()),this.blankline()},str:e=>{e.text.split(/  */).forEach((n,l)=>{l>0&&this.space(),this.out(n)})},space:()=>{this.space()},soft_break:()=>{this.soft_break()},smart_punctuation:e=>{this.lit(e.text)},non_breaking_space:()=>{this.lit("\\ ")},single_quoted:this.inlineContainer("'"),double_quoted:this.inlineContainer('"'),emph:this.inlineContainer("_"),strong:this.inlineContainer("*"),superscript:this.inlineContainer("^"),subscript:this.inlineContainer("~"),mark:this.inlineContainer("=",!0),delete:this.inlineContainer("-",!0),insert:this.inlineContainer("+",!0),footnote_reference:e=>{this.lit("[^"+e.text+"]")},symb:e=>{this.lit(":"+e.alias+":")},email:e=>{this.lit("<"+e.text+">")},url:e=>{this.lit("<"+e.text+">")},span:e=>{this.lit("["),this.renderChildren(e.children),this.lit("]")},link:e=>{this.lit("["),this.renderChildren(e.children),this.lit("]"),e.reference?(this.lit("["),e.reference!==(0,vr.getStringContent)(e)&&this.lit(e.reference),this.lit("]")):e.destination?(this.lit("("),this.lit(e.destination),this.lit(")")):this.lit("()")},image:e=>{this.lit("!["),this.renderChildren(e.children),this.lit("]"),e.reference?(this.lit("["),e.reference!==(0,vr.getStringContent)(e)&&this.lit(e.reference),this.lit("]")):e.destination?(this.lit("("),this.lit(e.destination),this.lit(")")):this.lit("()")},raw_inline:e=>{this.verbatimNode(e),this.lit("{="+e.format+"}")},verbatim:e=>{this.verbatimNode(e)},inline_math:e=>{this.lit("$"),this.verbatimNode(e)},display_math:e=>{this.lit("$$"),this.verbatimNode(e)}},this.doc=t,this.wrapWidth=(a==null?void 0:a.wrapWidth)||0}escape(t){return t=t.replace(/([~`'"${}[\]^<>\\*_]|-(?=-)|!(=\[)|\.(?=\.))/g,"\\$1"),(this.column===0||this.column===this.endOfPrefix)&&(t=t.replace(/^#/,"\\#")),t}out(t){this.lit(this.escape(t))}doBlankLines(){this.needsBlankLine&&(this.cr(),this.newline(),this.needsBlankLine=!1)}lit(t){this.buffer.push(t),this.column+=t.length,this.startOfLine=!1}blankline(){this.needsBlankLine=!0}newline(){if(this.endOfPrefix===this.column)for(;/  *$|^$/.test(this.buffer[this.buffer.length-1]);)this.buffer[this.buffer.length-1]=this.buffer[this.buffer.length-1].replace(/  *$/,""),this.buffer[this.buffer.length-1]===""&&this.buffer.pop();if(this.endOfPrefix=0,this.column=0,this.buffer.push(`
`),this.prefixes.length>0){for(let t=0,a=this.prefixes.length;t<a;t++)this.buffer.push(this.prefixes[t]),this.column+=this.prefixes[t].length;this.endOfPrefix=this.column}this.startOfLine=!0}cr(){this.startOfLine||this.newline()}wrap(){if(this.wrapWidth<=0)return;let t=this.buffer.length-1;if(!this.startOfLine&&this.buffer.length>0&&this.column>this.wrapWidth){let a;for(;t>=0&&(a=this.buffer[t],a!==" ");){if(/^[ \r\n]+$/.test(a))return;t--}}if(t<this.buffer.length-1){const a=this.buffer.splice(t+1);this.buffer[this.buffer.length-1]===" "&&this.buffer.pop(),this.newline(),this.startOfLine=!0;for(let e=0;e<a.length;e++)this.buffer.push(a[e]),this.column+=a[e].length,this.startOfLine=!1}}space(){this.wrap(),this.lit(" ")}soft_break(){this.wrapWidth===0?this.newline():this.space()}needsBraces(t){return Sc(t)||Cc(t)||this.buffer.length>0&&/\w$/.test(this.buffer[this.buffer.length-1])}noWrap(t){const a=this.wrapWidth;this.wrapWidth=-1,t(),this.wrapWidth=a}inlineContainer(t,a){const e=this;return function(n){a=a||e.needsBraces(n),a&&e.lit("{"),e.lit(t),e.renderChildren(n.children),e.lit(t),a&&e.lit("}")}}litlines(t){const a=t.split(/\r?\n/);a[a.length-1]===""&&a.pop();for(const e of a)this.lit(e),this.cr()}verbatimNode(t){const a=ve(t,1);this.lit(a),/^`/.test(t.text)&&this.lit(" "),this.lit(t.text),/`$/.test(t.text)&&this.lit(" "),this.lit(a)}renderChildren(t){for(let a=0,e=t.length;a<e;a++)this.renderNode(t[a]);t[0]&&!(0,Ds.isBlock)(t[0])&&this.wrap()}renderNode(t){this.doBlankLines();const a=this.handlers[t.tag];if(a)t.attributes&&(0,Ds.isBlock)(t)&&(this.renderAttributes(t),this.cr()),a(t),t.attributes&&(0,Ds.isInline)(t)&&this.renderAttributes(t);else throw new Error("No renderer defined for node type "+t.tag)}renderAttributes(t){if(!t.attributes||Object.keys(t.attributes).length===0)return;const a=t.attributes;this.lit("{");let e=!0;(0,Ds.isBlock)(t)&&this.prefixes.push(" ");for(const n in a){if(e||this.space(),n==="id")this.lit("#"),this.lit(a[n]);else if(n==="class"){const l=a[n].split(/  */);for(let o=0;o<l.length;o++)o>0&&this.space(),this.lit("."),this.lit(l[o])}else this.lit(n),this.lit('="'),this.out(a[n]),this.lit('"');e=!1}(0,Ds.isBlock)(t)&&this.prefixes.pop(),this.lit("}")}render(){return this.renderNode(this.doc),this.buffer.join("")}}const Tc=function(s,t={}){return new Nc(s,t).render()};Pt.renderDjot=Tc;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.version=void 0;zt.version="0.3.1";(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.isInline=s.isBlock=s.version=s.renderDjot=s.toPandoc=s.fromPandoc=s.applyFilter=s.HTMLRenderer=s.renderHTML=s.parseEvents=s.renderAST=s.parse=void 0;var t=It;Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return t.parse}}),Object.defineProperty(s,"renderAST",{enumerable:!0,get:function(){return t.renderAST}});var a=mt;Object.defineProperty(s,"parseEvents",{enumerable:!0,get:function(){return a.parseEvents}});var e=Ws;Object.defineProperty(s,"renderHTML",{enumerable:!0,get:function(){return e.renderHTML}}),Object.defineProperty(s,"HTMLRenderer",{enumerable:!0,get:function(){return e.HTMLRenderer}});var n=Et;Object.defineProperty(s,"applyFilter",{enumerable:!0,get:function(){return n.applyFilter}});var l=Qs;Object.defineProperty(s,"fromPandoc",{enumerable:!0,get:function(){return l.fromPandoc}}),Object.defineProperty(s,"toPandoc",{enumerable:!0,get:function(){return l.toPandoc}});var o=Pt;Object.defineProperty(s,"renderDjot",{enumerable:!0,get:function(){return o.renderDjot}});var p=zt;Object.defineProperty(s,"version",{enumerable:!0,get:function(){return p.version}});var d=ks;Object.defineProperty(s,"isBlock",{enumerable:!0,get:function(){return d.isBlock}}),Object.defineProperty(s,"isInline",{enumerable:!0,get:function(){return d.isInline}})})(op);const Lc=""+new URL("../assets/cov-positive.DtiKLg0A.png",import.meta.url).href,Ic=""+new URL("../assets/cov-negative.BpRnsLFs.png",import.meta.url).href,Xc=""+new URL("../assets/cov-zero.DOkPtRDd.png",import.meta.url).href;var Ec=vl('<h1 class="svelte-1octdea">Covariance and Correlation</h1> <p class="svelte-1octdea">Covariance and Correlation are key statistical measures which quantify the degree to which two variables change together. This concept forms the foundation of many advanced techniques, from portfolio optimization in finance to dimensionality reduction in machine learning.</p> <h2 class="svelte-1octdea">What is Covariance ?</h2> <p class="svelte-1octdea">Lets start with a formal definition. The covariance between two variables, <span class="math math-inline"><!></span> and <span class="math math-inline"><!></span>, is calculated using the following formula:</p> <div class="math math-display"><!></div> <p class="svelte-1octdea">where:</p> <ul class="svelte-1octdea"><li class="svelte-1octdea"><span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span> are the individual observations of <span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span>, respectively.</li> <li class="svelte-1octdea"><span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span> are the means of <span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span>.</li> <li class="svelte-1octdea"><span class="math math-inline svelte-1octdea"><!></span> is the number of observations.</li></ul> <p class="svelte-1octdea">The formula essentially computes the average product of the deviations of <span class="math math-inline"><!></span> and <span class="math math-inline"><!></span> from their respective means.</p> <p class="svelte-1octdea">The sign and magnitude of covariance tell us about the direction and strength of the linear relationship between two variables:</p> <ul class="svelte-1octdea"><li class="svelte-1octdea"><p class="svelte-1octdea"><strong class="svelte-1octdea">Positive Covariance</strong>: If the value is positive, <span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span> </p></li> <li class="svelte-1octdea"><p class="svelte-1octdea"><strong class="svelte-1octdea">Negative Covariance</strong>: If the value is negative, <span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span> move in opposite directions. For example, as temperature increases, the number of hot drinks sold may decrease, resulting in negative covariance.</p></li></ul> <div class="flex w-full max-w-full gap-6 mb-6"><div class="flex-1"><img class="w-full max-w-full"> <p class="text-center text-content3 !mt-2 svelte-1octdea">Positive Covariance</p></div> <div class="flex-1"><img class="w-full max-w-full"> <p class="text-center text-content3 !mt-2 svelte-1octdea">Negative Covariance</p></div></div> <ul class="svelte-1octdea"><li class="svelte-1octdea"><strong class="svelte-1octdea">Zero Covariance</strong>: A value close to zero implies no linear relationship between <span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span>. However, it does not rule out non-linear relationships.</li></ul> <div class="flex justify-center w-full max-w-full gap-6 mb-6"><div class="max-w-[50%]"><img class="w-full max-w-full"> <p class="text-center text-content3 !mt-2 svelte-1octdea">Zero Covariance</p></div></div> <h2 class="svelte-1octdea">Correlation</h2> <p class="svelte-1octdea">While covariance helps quantify the relationship between two variables, it often raises an important question: How do we compare the relationships across different datasets or variables with varying units or scales? This is where correlation comes into play.</p> <p class="svelte-1octdea">Correlation is a normalized version of covariance that measures the strength and direction of the linear relationship between two variables. It is calculated using the formula:</p> <div class="math math-display"><!></div> <p class="svelte-1octdea">where:</p> <ul class="svelte-1octdea"><li class="svelte-1octdea"><span class="math math-inline svelte-1octdea"><!></span> is the covariance between <span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span>.</li> <li class="svelte-1octdea"><span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span> are the standard deviations of <span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span>, respectively.</li></ul> <p class="svelte-1octdea">Unlike covariance, correlation is dimensionless, meaning it has no units and ranges between <span class="math math-inline"><!></span> and <span class="math math-inline"><!></span></p> <ul class="svelte-1octdea"><li class="svelte-1octdea"><span class="math math-inline svelte-1octdea"><!></span>: Perfect positive linear relationship.</li> <li class="svelte-1octdea"><span class="math math-inline svelte-1octdea"><!></span>: Perfect negative linear relationship.</li> <li class="svelte-1octdea"><span class="math math-inline svelte-1octdea"><!></span>: No linear relationship</li></ul> <p class="svelte-1octdea">Correlation is often preferred in practical applications because it allows for easy comparison of relationships across different datasets. The bounded range of correlation makes it easier to interpret For example, a correlation of <span class="math math-inline"><!></span> immediately suggests a strong positive relationship.</p> <h2 class="svelte-1octdea">Probabilistic View</h2> <p class="svelte-1octdea">Covariance can also be understood in the context of random variables. Let <span class="math math-inline"><!></span> and <span class="math math-inline"><!></span> be two random variables. Covariance in the probabilistic sense is defined as the expected value of the product of their deviations from their respective means:</p> <div class="math math-display"><!></div> <p class="svelte-1octdea">where:</p> <ul class="svelte-1octdea"><li class="svelte-1octdea"><span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span> are the expected values (means) of <span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span>.</li> <li class="svelte-1octdea">The term <span class="math math-inline svelte-1octdea"><!></span> represents the deviation of <span class="math math-inline svelte-1octdea"><!></span> from its mean, and similarly for <span class="math math-inline svelte-1octdea"><!></span>.</li></ul> <p class="svelte-1octdea">We can derive an alternate formula for covariance. By expanding the definition using the distributive property, this expands to:</p> <div class="math math-display"><!></div> <p class="svelte-1octdea">This alternate formula is particularly useful because it simplifies the computation of covariance when <span class="math math-inline"><!></span> and the individual means are known.</p> <h4 class="svelte-1octdea"><strong>An Important Special Case: Covariance and Variance</strong></h4> <p class="svelte-1octdea">An interesting consequence of the covariance formula is when <span class="math math-inline"><!></span>. In this case, covariance reduces to the variance of <span class="math math-inline"><!></span>:</p> <div class="math math-display"><!></div> <p class="svelte-1octdea">This result highlights that variance is simply a measure of how a single variable varies with itself. It also reinforces the idea that covariance generalizes variance to pairs of variables.</p> <h4 class="svelte-1octdea"><strong>A few Key Insights</strong></h4> <ol class="svelte-1octdea"><li class="svelte-1octdea"><strong class="svelte-1octdea">Symmetry</strong>: Covariance is symmetric, meaning <span class="math math-inline svelte-1octdea"><!></span>.</li> <li class="svelte-1octdea"><strong class="svelte-1octdea">Linearity</strong>: Covariance is linear with respect to each variable. For example, if <span class="math math-inline svelte-1octdea"><!></span>, then: <div class="math math-display svelte-1octdea"><!></div></li> <li class="svelte-1octdea"><strong class="svelte-1octdea">Independence and Covariance</strong>: If <span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span> are independent, their covariance is zero because <span class="math math-inline svelte-1octdea"><!></span>.</li></ol> <hr class="svelte-1octdea"> <h3 class="svelte-1octdea"><strong>The Covariance Matrix</strong></h3> <p class="svelte-1octdea">We can extend our understanding of covariance to datasets with multiple variables through a <strong>covariance matrix</strong>. The covariance matrix is a square, symmetric matrix that contains the covariances between all pairs of variables in a dataset. For a dataset with <span class="math math-inline"><!></span> variables <span class="math math-inline"><!></span> , the covariance matrix <span class="math math-inline"><!></span> is defined as:</p> <div class="math math-display"><!></div> <p class="svelte-1octdea">Each entry <span class="math math-inline"><!></span> = <span class="math math-inline"><!></span> represents the covariance between the <span class="math math-inline"><!></span>-th and <span class="math math-inline"><!></span>-th variables, and the diagonal elements <span class="math math-inline"><!></span> represent the variances of the individual variables.</p> <p class="svelte-1octdea">The covariance matrix is symmetric because <span class="math math-inline"><!></span>.</p> <h4 class="svelte-1octdea"><strong>Computing the Covariance Matrix</strong></h4> <p class="svelte-1octdea">Given a dataset with <span class="math math-inline"><!></span> observations and <span class="math math-inline"><!></span> variables, let <span class="math math-inline"><!></span> represent the data matrix of dimensions <span class="math math-inline"><!></span>, where each row corresponds to an observation, and each column corresponds to a variable.</p> <ol class="svelte-1octdea"><li class="svelte-1octdea"><p class="svelte-1octdea"><strong class="svelte-1octdea">Mean-Center the Data</strong> Subtract the mean of each variable from its respective column:</p> <div class="math math-display svelte-1octdea"><!></div> <p class="svelte-1octdea">where <span class="math math-inline svelte-1octdea"><!></span> is the row vector of means of each column (variable).</p></li> <li class="svelte-1octdea"><p class="svelte-1octdea"><strong class="svelte-1octdea">Compute the Covariance Matrix</strong> The covariance matrix is given by:</p> <div class="math math-display svelte-1octdea"><!></div></li></ol> <h4 class="svelte-1octdea"><strong>An Example with Three Variables</strong></h4> <p class="svelte-1octdea">Consider a dataset with three variables: <span class="math math-inline"><!></span> (study hours), <span class="math math-inline"><!></span> (test scores), and <span class="math math-inline"><!></span> (sleep hours). A possible covariance matrix might look like this:</p> <div class="math math-display"><!></div> <ul class="svelte-1octdea"><li class="svelte-1octdea">The variances of <span class="math math-inline svelte-1octdea"><!></span>, <span class="math math-inline svelte-1octdea"><!></span>, and <span class="math math-inline svelte-1octdea"><!></span> are on the diagonal: <span class="math math-inline svelte-1octdea"><!></span>, <span class="math math-inline svelte-1octdea"><!></span>, and <span class="math math-inline svelte-1octdea"><!></span>.</li> <li class="svelte-1octdea">The covariance between study hours and test scores is <span class="math math-inline svelte-1octdea"><!></span>, indicating a positive relationship.</li> <li class="svelte-1octdea">The covariance between study hours and sleep hours is <span class="math math-inline svelte-1octdea"><!></span>, indicating an inverse relationship.</li></ul> <h2 class="svelte-1octdea"><strong>Common Misunderstandings</strong></h2> <p class="svelte-1octdea">Misinterpretations about covariance can lead to flawed analyses and incorrect conclusions. Let’s address and clarify some of the most common misconceptions about covariance.</p> <h4 class="svelte-1octdea"><strong>1. Covariance Indicates Causation</strong></h4> <p class="svelte-1octdea"><strong>Misconception</strong>: If two variables have a high covariance, one variable must cause changes in the other.</p> <p class="svelte-1octdea"><strong>Clarification</strong>: Covariance measures how two variables move together, but it does not imply that one causes the other. The relationship between the variables could be:</p> <ul class="svelte-1octdea"><li class="svelte-1octdea"><strong class="svelte-1octdea">Direct Causation</strong>: Changes in one variable directly influence the other.</li> <li class="svelte-1octdea"><strong class="svelte-1octdea">Indirect Relationship</strong>: Both variables are influenced by a third factor. For example, ice cream sales and drowning incidents may have high covariance, but the real cause is temperature—both increase during hot weather.</li> <li class="svelte-1octdea"><strong class="svelte-1octdea">Spurious Relationship</strong>: In some rare cases, the relationship may be coincidental or have no meaningful connection.</li></ul> <h4 class="svelte-1octdea"><strong>2. High Covariance Always Implies a Strong Relationship</strong></h4> <p class="svelte-1octdea"><strong>Misconception</strong>: If the covariance value is large, the relationship between the variables must be strong.</p> <p class="svelte-1octdea"><strong>Clarification</strong>: Covariance depends on the scale of the variables, which can make its value misleading. For instance:</p> <ul class="svelte-1octdea"><li class="svelte-1octdea">If one variable is measured in millimeters and another in kilometers, the covariance value will be significantly inflated, even if the relationship is weak.</li> <li class="svelte-1octdea">Conversely, small covariance values may still represent a strong relationship if the scales of the variables are small.</li></ul> <p class="svelte-1octdea">To overcome this limitation, correlation provides a scale-independent measure of the strength and direction of the relationship, and should be preferred. A high correlation (closer to <span class="math math-inline"><!></span> or <span class="math math-inline"><!></span>) is a better indicator of a strong linear relationship than high covariance.</p> <h4 class="svelte-1octdea"><strong>3. Covariance of Zero Means No Relationship</strong></h4> <p class="svelte-1octdea"><strong>Misconception</strong>: If the covariance between two variables is zero, the variables are completely unrelated.</p> <p class="svelte-1octdea"><strong>Clarification</strong>: A covariance of zero indicates no linear relationship between the variables. However, it does not rule out other types of relationships, such as quadratic or other non-linear patterns. For example:</p> <ul class="svelte-1octdea"><li class="svelte-1octdea">In the relationship <span class="math math-inline svelte-1octdea"><!></span>, the covariance between <span class="math math-inline svelte-1octdea"><!></span> and <span class="math math-inline svelte-1octdea"><!></span> could be zero even though they are clearly related.</li></ul> <h4 class="svelte-1octdea"><strong>4. Covariance Is Always Symmetric</strong></h4> <p class="svelte-1octdea"><strong>Misconception</strong>: Covariance is symmetric in every context.</p> <p class="svelte-1octdea"><strong>Clarification</strong>: While covariance is symmetric mathematically (<span class="math math-inline"><!></span>), this symmetry does not imply that the roles of <span class="math math-inline"><!></span> and <span class="math math-inline"><!></span> are interchangeable in practical contexts. For instance:</p> <ul class="svelte-1octdea"><li class="svelte-1octdea"><strong class="svelte-1octdea">Weather Analysis:</strong> The covariance between daily temperature (<span class="math math-inline svelte-1octdea"><!></span>) and electricity usage (<span class="math math-inline svelte-1octdea"><!></span>) is symmetric. However, interpreting these covariances is context-dependent. A rise in temperature might cause higher electricity usage due to increased air conditioning demand. On the other hand, electricity usage does not directly influence temperature. The practical relevance of the covariance is asymmetric even though the numerical value is symmetric.</li></ul> <p class="svelte-1octdea">Thus practical context must be considered when interpreting symmetry in covariance.</p> <h2 class="svelte-1octdea">Conclusion</h2> <p class="svelte-1octdea">Covariance is a foundational concept in statistics that quantifies how two variables change together. Its applications span various fields, from understanding relationships in datasets to forming the basis for advanced techniques like Principal Component Analysis and multivariate modeling.</p>',1);function Yc(s){var t=Ec();Il(Pc=>{Ll.title="Covariance and Correlation"});var a=C(Tl(t),6),e=C(f(a)),n=f(e);X(n,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(e);var l=C(e,2),o=f(l);X(o,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(l),Q(),y(a);var p=C(a,2),d=f(p);X(d,()=>'<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>X</mi><mo>ˉ</mo></mover><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>Y</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>Y</mi><mo>ˉ</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\text{Cov}(X, Y) = \\frac{1}{n}\\sum_{i=1}^{n}(X_{i} - \\bar{X})(Y_{i} - \\bar{Y})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0701em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0701em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>'),y(p);var g=C(p,4),A=f(g),N=f(A),v=f(N);X(v,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>i</mi></msub><mtext>​</mtext></mrow><annotation encoding="application/x-tex">X_{i}​</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">​</span></span></span></span>'),y(N);var I=C(N,2),Y=f(I);X(Y,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">Y_{i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>'),y(I);var V=C(I,2),es=f(V);X(es,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(V);var q=C(V,2),z=f(q);X(z,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(q),Q(),y(A);var F=C(A,2),ts=f(F),as=f(ts);X(as,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>X</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">\\bar{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">ˉ</span></span></span></span></span></span></span></span></span></span>'),y(ts);var J=C(ts,2),Ks=f(J);X(Ks,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>Y</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">\\bar{Y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span></span></span></span>'),y(J);var Os=C(J,2),dt=f(Os);X(dt,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(Os);var Bs=C(Os,2),Ms=f(Bs);X(Ms,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(Bs),Q(),y(F);var Gs=C(F,2),ut=f(Gs),gt=f(ut);X(gt,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>'),y(ut),Q(),y(Gs),y(g);var Fs=C(g,2),Js=C(f(Fs)),ss=f(Js);X(ss,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(Js);var W=C(Js,2),R=f(W);X(R,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(W),Q(),y(Fs);var Es=C(Fs,4),j=f(Es),bt=f(j),st=C(f(bt),2),os=f(st);X(os,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(st);var Vs=C(st,2),Us=f(Vs);X(Us,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(Vs);var Ns=C(Vs);Ns.nodeValue=` tend to increase or decrease together. For instance, hours studied ${Xl??""} and test scores might have a positive covariance.`,y(bt),y(j);var Hs=C(j,2),x=f(Hs),w=C(f(x),2),S=f(w);X(S,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(w);var b=C(w,2),h=f(b);X(h,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(b),Q(),y(x),y(Hs),y(Es);var L=C(Es,2),D=f(L),H=f(D);re(H,"src",Lc),Q(2),y(D);var us=C(D,2),ys=f(us);re(ys,"src",Ic),Q(2),y(us),y(L);var Ot=C(L,2),Oe=f(Ot),Bt=C(f(Oe),2),Hr=f(Bt);X(Hr,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(Bt);var Be=C(Bt,2),Zr=f(Be);X(Zr,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(Be),Q(),y(Oe),y(Ot);var $t=C(Ot,2),$e=f($t),Wr=f($e);re(Wr,"src",Xc),Q(2),y($e),y($t);var Dt=C($t,8),Qr=f(Dt);X(Qr,()=>'<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Corr</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo></mrow><mrow><msub><mi>σ</mi><mi>X</mi></msub><msub><mi>σ</mi><mi>Y</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">\\text{Corr}(X, Y) = \\frac{\\text{Cov}(X, Y)}{\\sigma_{X}\\sigma_{Y}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Corr</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.263em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>'),y(Dt);var Yt=C(Dt,4),jt=f(Yt),Rt=f(jt),Kr=f(Rt);X(Kr,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\text{Cov}(X, Y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span></span></span></span>'),y(Rt);var Gt=C(Rt,2),Jr=f(Gt);X(Jr,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(Gt);var De=C(Gt,2),si=f(De);X(si,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(De),Q(),y(jt);var Ye=C(jt,2),Ft=f(Ye),ti=f(Ft);X(ti,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>σ</mi><mi>X</mi></msub></mrow><annotation encoding="application/x-tex">\\sigma_{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>'),y(Ft);var Vt=C(Ft,2),ai=f(Vt);X(ai,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>σ</mi><mi>Y</mi></msub></mrow><annotation encoding="application/x-tex">\\sigma_{Y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>'),y(Vt);var Ut=C(Vt,2),ei=f(Ut);X(ei,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(Ut);var je=C(Ut,2),ni=f(je);X(ni,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(je),Q(),y(Ye),y(Yt);var Ht=C(Yt,2),Zt=C(f(Ht)),ri=f(Zt);X(ri,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">−1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span>'),y(Zt);var Re=C(Zt,2),ii=f(Re);X(ii,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>'),y(Re),y(Ht);var Wt=C(Ht,2),Qt=f(Wt),Ge=f(Qt),li=f(Ge);X(li,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Corr</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\\text{Corr}(X, Y) = +1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Corr</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">+</span><span class="mord">1</span></span></span></span>'),y(Ge),Q(),y(Qt);var Kt=C(Qt,2),Fe=f(Kt),oi=f(Fe);X(oi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Corr</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\\text{Corr}(X, Y) = -1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Corr</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span>'),y(Fe),Q(),y(Kt);var Ve=C(Kt,2),Ue=f(Ve),pi=f(Ue);X(pi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Corr</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mtext>  </mtext><mo>=</mo><mtext>  </mtext><mn>0</mn></mrow><annotation encoding="application/x-tex">\\text{Corr}(X, Y) \\; = \\; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Corr</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>'),y(Ue),Q(),y(Ve),y(Wt);var Jt=C(Wt,2),He=C(f(Jt)),ci=f(He);X(ci,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.8</mn></mrow><annotation encoding="application/x-tex">0.8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.8</span></span></span></span>'),y(He),Q(),y(Jt);var sa=C(Jt,4),ta=C(f(sa)),mi=f(ta);X(mi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(ta);var Ze=C(ta,2),hi=f(Ze);X(hi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(Ze),Q(),y(sa);var aa=C(sa,2),di=f(aa);X(di,()=>'<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>X</mi><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>Y</mi><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\text{Cov}(X, Y) = \\mathbb{E}[(X - \\mathbb{E}[X])(Y - \\mathbb{E}[Y])]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">])</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">])]</span></span></span></span></span>'),y(aa);var ea=C(aa,4),na=f(ea),ra=f(na),ui=f(ra);X(ui,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\mathbb{E}[X]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span>'),y(ra);var ia=C(ra,2),gi=f(ia);X(gi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\mathbb{E}[Y]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span></span></span></span>'),y(ia);var la=C(ia,2),bi=f(la);X(bi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(la);var We=C(la,2),fi=f(We);X(fi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(We),Q(),y(na);var Qe=C(na,2),oa=C(f(Qe)),yi=f(oa);X(yi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>X</mi><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(X - \\mathbb{E}[X])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">])</span></span></span></span>'),y(oa);var pa=C(oa,2),vi=f(pa);X(vi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(pa);var Ke=C(pa,2),xi=f(Ke);X(xi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(Ke),Q(),y(Qe),y(ea);var ca=C(ea,4),wi=f(ca);X(wi,()=>`<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>X</mi><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>Y</mi><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mi>Y</mi><mo>−</mo><mi>X</mi><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi>Y</mi><mo>+</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mi>Y</mi><mo stretchy="false">]</mo><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi>Y</mi><mo stretchy="false">]</mo><mo>+</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mi>Y</mi><mo stretchy="false">]</mo><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo><mo>+</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mi>Y</mi><mo stretchy="false">]</mo><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\\begin{align}

\\text{Cov}(X, Y) &amp;= \\mathbb{E}[(X - \\mathbb{E}[X])(Y - \\mathbb{E}[Y])] \\\\
  &amp;= \\mathbb{E}[XY - X\\mathbb{E}[Y] - \\mathbb{E}[X]Y + \\mathbb{E}[X]\\mathbb{E}[Y]] \\\\
  &amp;= \\mathbb{E}[XY] - \\mathbb{E}[X\\mathbb{E}[Y]] - \\mathbb{E}[\\mathbb{E}[X]Y] + \\mathbb{E}[\\mathbb{E}[X]\\mathbb{E}[Y]] \\\\
  &amp;= \\mathbb{E}[XY] - \\mathbb{E}[X]\\mathbb{E}[Y] - \\mathbb{E}[X]\\mathbb{E}[Y] + \\mathbb{E}[X]\\mathbb{E}[Y] \\\\
  &amp;= \\mathbb{E}[XY] - \\mathbb{E}[X]\\mathbb{E}[Y]
\\end{align}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:7.5em;vertical-align:-3.5em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4em;"><span style="top:-6.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span></span></span><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.5em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4em;"><span style="top:-6.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbb">E</span><span class="mopen">[(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">])</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">])]</span></span></span><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]]</span></span></span><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]]</span></span></span><span style="top:-1.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span></span></span><span style="top:-0.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.5em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4em;"><span style="top:-6em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:-4.5em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:-3em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:-1.5em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:0em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.5em;"><span></span></span></span></span></span></span></span></span>`),y(ca);var ma=C(ca,2),Je=C(f(ma)),ki=f(Je);X(ki,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mi>Y</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\mathbb{E}[XY]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span></span></span></span>'),y(Je),Q(),y(ma);var ha=C(ma,4),da=C(f(ha)),_i=f(da);X(_i,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X = Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(da);var sn=C(da,2),Ai=f(sn);X(Ai,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(sn),Q(),y(ha);var ua=C(ha,2),Mi=f(ua);X(Mi,()=>'<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>X</mi><mo>−</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">]</mo><mo>=</mo><mtext>Var</mtext><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\\text{Cov}(X, X) = \\mathbb{E}[(X - \\mathbb{E}[X])^2] = \\text{Var}(X).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Var</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span>'),y(ua);var ga=C(ua,6),ba=f(ga),tn=C(f(ba),2),Si=f(tn);X(Si,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>Y</mi><mo separator="true">,</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\text{Cov}(X, Y) = \\text{Cov}(Y, X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>'),y(tn),Q(),y(ba);var fa=C(ba,2),ya=C(f(fa),2),Ci=f(ya);X(Ci,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mi>a</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">Z = aX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(ya);var an=C(ya,2),qi=f(an);X(qi,()=>'<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>Z</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mo>⋅</mo><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\\text{Cov}(Z, Y) = a \\cdot \\text{Cov}(X, Y).</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span>'),y(an),y(fa);var en=C(fa,2),va=C(f(en),2),Ni=f(va);X(Ni,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(va);var xa=C(va,2),Ti=f(xa);X(Ti,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(xa);var nn=C(xa,2),Li=f(nn);X(Li,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mi>Y</mi><mo stretchy="false">]</mo><mo>=</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mi mathvariant="double-struck">E</mi><mo stretchy="false">[</mo><mi>Y</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\\mathbb{E}[XY] = \\mathbb{E}[X]\\mathbb{E}[Y]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord mathbb">E</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">]</span></span></span></span>'),y(nn),Q(),y(en),y(ga);var wa=C(ga,6),ka=C(f(wa),3),Ii=f(ka);X(Ii,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>'),y(ka);var _a=C(ka,2),Xi=f(_a);X(Xi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>X</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">X_{1},...,X_{p}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>'),y(_a);var rn=C(_a,2),Ei=f(rn);X(Ei,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">Σ</mi></mrow><annotation encoding="application/x-tex">\\mathbf{\\Sigma}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord mathbf">Σ</span></span></span></span>'),y(rn),Q(),y(wa);var Aa=C(wa,2),Pi=f(Aa);X(Pi,()=>`<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">Σ</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Var</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mi>p</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Var</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>X</mi><mi>p</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋱</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mi>p</mi></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mi>p</mi></msub><mo separator="true">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋯</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Var</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mi>p</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\\mathbf{\\Sigma} =
\\begin{bmatrix}
\\text{Var}(X_1) &amp; \\text{Cov}(X_1, X_2) &amp; \\cdots &amp; \\text{Cov}(X_1, X_p) \\\\
\\text{Cov}(X_2, X_1) &amp; \\text{Var}(X_2) &amp; \\cdots &amp; \\text{Cov}(X_2, X_p) \\\\
\\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\
\\text{Cov}(X_p, X_1) &amp; \\text{Cov}(X_p, X_2) &amp; \\cdots &amp; \\text{Var}(X_p)
\\end{bmatrix}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord mathbf">Σ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:5.46em;vertical-align:-2.48em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95em;"><span style="top:-4.95em;"><span class="pstrut" style="height:7.4em;"></span><span style="width:0.667em;height:5.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="5.400em" viewBox="0 0 667 5400"><path d="M403 1759 V84 H666 V0 H319 V1759 v1800 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v1800 v1759 h84z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.45em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.8275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord text"><span class="mord">Var</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-4.6275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.7675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-1.5675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.8275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-4.6275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord text"><span class="mord">Var</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.7675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-1.5675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.64em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-4.44em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋯</span></span></span><span style="top:-2.58em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋱</span></span></span><span style="top:-1.38em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋯</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.98em;"><span style="top:-5.8275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-4.6275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.7675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-1.5675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord text"><span class="mord">Var</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.48em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.95em;"><span style="top:-4.95em;"><span class="pstrut" style="height:7.4em;"></span><span style="width:0.667em;height:5.400em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="5.400em" viewBox="0 0 667 5400"><path d="M347 1759 V0 H0 V84 H263 V1759 v1800 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v1800 v1759 h84z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.45em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">.</span></span></span></span></span>`),y(Aa);var Ma=C(Aa,2),Sa=C(f(Ma)),zi=f(Sa);X(zi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="bold">Σ</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\\mathbf{\\Sigma}_{i,j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9722em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbf">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>'),y(Sa);var Ca=C(Sa,2),Oi=f(Ca);X(Oi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>X</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\text{Cov}(X_i, X_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>'),y(Ca);var qa=C(Ca,2),Bi=f(qa);X(Bi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>'),y(qa);var Na=C(qa,2),$i=f(Na);X($i,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span>'),y(Na);var ln=C(Na,2),Di=f(ln);X(Di,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Var</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\text{Var}(X_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Var</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>'),y(ln),Q(),y(Ma);var Ta=C(Ma,2),on=C(f(Ta)),Yi=f(on);X(Yi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>X</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mtext>Cov</mtext><mo stretchy="false">(</mo><msub><mi>X</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>X</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\text{Cov}(X_i, X_j) = \\text{Cov}(X_j, X_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>'),y(on),Q(),y(Ta);var La=C(Ta,4),Ia=C(f(La)),ji=f(Ia);X(ji,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>'),y(Ia);var Xa=C(Ia,2),Ri=f(Xa);X(Ri,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>'),y(Xa);var Ea=C(Xa,2),Gi=f(Ea);X(Gi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">X</mi></mrow><annotation encoding="application/x-tex">\\mathbf{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord mathbf">X</span></span></span></span>'),y(Ea);var pn=C(Ea,2),Fi=f(pn);X(Fi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">n \\times p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span></span></span></span>'),y(pn),Q(),y(La);var Pa=C(La,2),za=f(Pa),Oa=C(f(za),2),Vi=f(Oa);X(Vi,()=>'<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold">X</mi><mtext>centered</mtext></msub><mo>=</mo><mi mathvariant="bold">X</mi><mo>−</mo><mover accent="true"><mi mathvariant="bold">X</mi><mo>ˉ</mo></mover><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\\mathbf{X}_{\\text{centered}} = \\mathbf{X} - \\mathbf{\\bar{X}},</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbf">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">centered</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7694em;vertical-align:-0.0833em;"></span><span class="mord mathbf">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0457em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8512em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2875em;"><span class="mord mathbf">ˉ</span></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></span>'),y(Oa);var cn=C(Oa,2),mn=C(f(cn)),Ui=f(mn);X(Ui,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi mathvariant="bold">X</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">\\mathbf{\\bar{X}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8512em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8512em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathbf">X</span></span><span style="top:-3.2551em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2875em;"><span class="mord mathbf">ˉ</span></span></span></span></span></span></span></span></span></span>'),y(mn),Q(),y(cn),y(za);var hn=C(za,2),dn=C(f(hn),2),Hi=f(dn);X(Hi,()=>'<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">Σ</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></mfrac><msubsup><mi mathvariant="bold">X</mi><mtext>centered</mtext><mi>T</mi></msubsup><msub><mi mathvariant="bold">X</mi><mtext>centered</mtext></msub><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\\mathbf{\\Sigma} = \\frac{1}{n-1} \\mathbf{X}_{\\text{centered}}^T \\mathbf{X}_{\\text{centered}}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord mathbf">Σ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0908em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathbf">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">centered</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">centered</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span>'),y(dn),y(hn),y(Pa);var Ba=C(Pa,4),$a=C(f(Ba)),Zi=f($a);X(Zi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">X_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>'),y($a);var Da=C($a,2),Wi=f(Da);X(Wi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">X_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>'),y(Da);var un=C(Da,2),Qi=f(un);X(Qi,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">X_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>'),y(un),Q(),y(Ba);var Ya=C(Ba,2),Ki=f(Ya);X(Ki,()=>`<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">Σ</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4.0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2.5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1.0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2.5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6.0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1.2</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1.0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1.2</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3.0</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">\\mathbf{\\Sigma} =
\\begin{bmatrix}
4.0 &amp; 2.5 &amp; -1.0 \\\\
2.5 &amp; 6.0 &amp; -1.2 \\\\
-1.0 &amp; -1.2 &amp; 3.0
\\end{bmatrix}.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord mathbf">Σ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4.0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2.5</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1.0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2.5</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6.0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1.2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1.0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord">1.2</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3.0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">.</span></span></span></span></span>`),y(Ya);var ja=C(Ya,2),Ra=f(ja),Ga=C(f(Ra)),Ji=f(Ga);X(Ji,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">X_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>'),y(Ga);var Fa=C(Ga,2),sl=f(Fa);X(sl,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">X_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>'),y(Fa);var Va=C(Fa,2),tl=f(Va);X(tl,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">X_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>'),y(Va);var Ua=C(Va,2),al=f(Ua);X(al,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4.0</mn></mrow><annotation encoding="application/x-tex">4.0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4.0</span></span></span></span>'),y(Ua);var Ha=C(Ua,2),el=f(Ha);X(el,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6.0</mn></mrow><annotation encoding="application/x-tex">6.0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6.0</span></span></span></span>'),y(Ha);var gn=C(Ha,2),nl=f(gn);X(nl,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3.0</mn></mrow><annotation encoding="application/x-tex">3.0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3.0</span></span></span></span>'),y(gn),Q(),y(Ra);var Za=C(Ra,2),bn=C(f(Za)),rl=f(bn);X(rl,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2.5</mn></mrow><annotation encoding="application/x-tex">2.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2.5</span></span></span></span>'),y(bn),Q(),y(Za);var fn=C(Za,2),yn=C(f(fn)),il=f(yn);X(il,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1.0</mn></mrow><annotation encoding="application/x-tex">-1.0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">1.0</span></span></span></span>'),y(yn),Q(),y(fn),y(ja);var Wa=C(ja,22),Qa=C(f(Wa)),ll=f(Qa);X(ll,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>'),y(Qa);var vn=C(Qa,2),ol=f(vn);X(ol,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span>'),y(vn),Q(),y(Wa);var Ka=C(Wa,8),xn=f(Ka),Ja=C(f(xn)),pl=f(Ja);X(pl,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><msup><mi>X</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">Y = X^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>'),y(Ja);var se=C(Ja,2),cl=f(se);X(cl,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(se);var wn=C(se,2),ml=f(wn);X(ml,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(wn),Q(),y(xn),y(Ka);var te=C(Ka,6),ae=C(f(te),2),hl=f(ae);X(hl,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>Cov</mtext><mo stretchy="false">(</mo><mi>Y</mi><mo separator="true">,</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\text{Cov}(X, Y) = \\text{Cov}(Y, X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Cov</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>'),y(ae);var ee=C(ae,2),dl=f(ee);X(dl,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(ee);var kn=C(ee,2),ul=f(kn);X(ul,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(kn),Q(),y(te);var _n=C(te,2),An=f(_n),ne=C(f(An),2),gl=f(ne);X(gl,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>'),y(ne);var Mn=C(ne,2),bl=f(Mn);X(bl,()=>'<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>'),y(Mn),Q(),y(An),y(_n),Q(6),yl(s,t)}export{Yc as component};
